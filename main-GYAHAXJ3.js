import{C as Tc,D as Ms,F as tn,G as Ei,H as vr,a as Ie,b as Nt,c as vc,d as _c,e as yc,f as gr,g as Cc,h as An,i as bc,j as Tn,k as kt,l as dt,m as wc,n as He,o as Sc,p as Mc,q as Ve,r as Ss,s as Ec,t as xc,u as Pc,v as In,w as Ac,x as On,y as Z,z as nt}from"./chunk-OF4W2GSF.js";import{$ as L,$a as Ot,A as Ol,Aa as Wl,Ab as U,B as as,Ba as pr,Bb as we,C as Dl,Ca as En,Cb as cc,Da as xn,Db as uc,E as at,Ea as Gl,Eb as ge,F as Qt,Fa as Kl,Fb as ve,G as Jt,Ga as Ql,Gb as _e,H as ls,Ha as Jl,Hb as ut,I as wn,Ia as Yl,Ib as ws,J as _i,Ja as Zl,Jb as dc,K as Tt,Ka as Xl,Kb as pc,L as cs,La as Zt,Lb as hc,M as Rl,Ma as ec,Mb as Pn,N as Nl,Na as hr,Nb as fc,Oa as tc,Ob as Xt,P as kl,Pa as nc,Q as et,Qa as m,R as Vl,Ra as fr,Rb as mc,S as Ae,Sb as en,T as R,Ta as Ci,Tb as Rt,U as lt,Ua as St,Ub as mr,V as J,Va as k,Vb as gc,W as It,Wa as rc,X as Fl,Xa as ic,Y as me,Ya as oc,Z as us,Za as bi,_ as Q,_a as Te,a as A,aa as ds,ab as be,b as ye,ba as jl,bb as sc,c as El,ca as Sn,cb as qe,d as Sh,da as ct,db as q,e as ae,ea as wt,eb as gs,f as Mh,fa as M,fb as wi,g as xl,ga as E,gb as vs,h as Eh,ha as tt,hb as _s,i as cr,ia as Ll,ib as ys,j as Pl,ja as Mn,jb as Dt,k as Al,ka as Ul,kb as S,la as zl,lb as $e,m as is,ma as ze,mb as ac,n as os,na as Be,nb as u,o as Xe,oa as ps,ob as d,p as Ne,pa as Bl,pb as le,q as bt,qa as Yt,qb as Si,r as Pe,ra as dr,rb as Mi,s as z,sa as ql,sb as Y,t as ur,ta as hs,tb as P,u as Tl,ua as $l,ub as C,v as Il,va as xe,vb as lc,w as ce,wa as fs,wb as Cs,x as vi,xa as ms,xb as bs,y as ke,ya as Hl,yb as Mt,z as ss,za as yi,zb as p}from"./chunk-B2U72NBE.js";var dd={};Mh(dd,{closest:()=>Bg,distance:()=>ud});var Et,Ug,zg,ud,Bg,pd=Sh(()=>{"use strict";Et=new Uint32Array(65536),Ug=(r,t)=>{let e=r.length,n=t.length,i=1<<e-1,o=-1,s=0,a=e,l=e;for(;l--;)Et[r.charCodeAt(l)]|=1<<l;for(l=0;l<n;l++){let c=Et[t.charCodeAt(l)],h=c|s;c|=(c&o)+o^o,s|=~(c|o),o&=c,s&i&&a++,o&i&&a--,s=s<<1|1,o=o<<1|~(h|s),s&=h}for(l=e;l--;)Et[r.charCodeAt(l)]=0;return a},zg=(r,t)=>{let e=t.length,n=r.length,i=[],o=[],s=Math.ceil(e/32),a=Math.ceil(n/32);for(let _=0;_<s;_++)o[_]=-1,i[_]=0;let l=0;for(;l<a-1;l++){let _=0,w=-1,x=l*32,B=Math.min(32,n)+x;for(let V=x;V<B;V++)Et[r.charCodeAt(V)]|=1<<V;for(let V=0;V<e;V++){let X=Et[t.charCodeAt(V)],ne=o[V/32|0]>>>V&1,oe=i[V/32|0]>>>V&1,fe=X|_,ue=((X|oe)&w)+w^w|X|oe,pe=_|~(ue|w),De=w&ue;pe>>>31^ne&&(o[V/32|0]^=1<<V),De>>>31^oe&&(i[V/32|0]^=1<<V),pe=pe<<1|ne,De=De<<1|oe,w=De|~(fe|pe),_=pe&fe}for(let V=x;V<B;V++)Et[r.charCodeAt(V)]=0}let c=0,h=-1,v=l*32,y=Math.min(32,n-v)+v;for(let _=v;_<y;_++)Et[r.charCodeAt(_)]|=1<<_;let b=n;for(let _=0;_<e;_++){let w=Et[t.charCodeAt(_)],x=o[_/32|0]>>>_&1,B=i[_/32|0]>>>_&1,V=w|c,X=((w|B)&h)+h^h|w|B,ne=c|~(X|h),oe=h&X;b+=ne>>>n-1&1,b-=oe>>>n-1&1,ne>>>31^x&&(o[_/32|0]^=1<<_),oe>>>31^B&&(i[_/32|0]^=1<<_),ne=ne<<1|x,oe=oe<<1|B,h=oe|~(V|ne),c=ne&V}for(let _=v;_<y;_++)Et[r.charCodeAt(_)]=0;return b},ud=(r,t)=>{if(r.length<t.length){let e=t;t=r,r=e}return t.length===0?r.length:r.length<=32?Ug(r,t):zg(r,t)},Bg=(r,t)=>{let e=1/0,n=0;for(let i=0;i<t.length;i++){let o=ud(r,t[i]);o<e&&(e=o,n=i)}return t[n]}});var hd=ae((ba,ei)=>{"use strict";(function(){"use strict";var r;try{r=typeof Intl<"u"&&typeof Intl.Collator<"u"?Intl.Collator("generic",{sensitivity:"base"}):null}catch{console.log("Collator could not be initialized and wouldn't be used")}var t=(pd(),Eh(dd)),e=[],n=[],i={get:function(o,s,a){var l=a&&r&&a.useCollator;if(l){var c=o.length,h=s.length;if(c===0)return h;if(h===0)return c;var v,y,b,_,w;for(b=0;b<h;++b)e[b]=b,n[b]=s.charCodeAt(b);e[h]=h;var x;for(b=0;b<c;++b){for(y=b+1,_=0;_<h;++_)v=y,x=r.compare(o.charAt(b),String.fromCharCode(n[_]))===0,y=e[_]+(x?0:1),w=v+1,y>w&&(y=w),w=e[_+1]+1,y>w&&(y=w),e[_]=v;e[_]=y}return y}return t.distance(o,s)}};typeof define<"u"&&define!==null&&define.amd?define(function(){return i}):typeof ei<"u"&&ei!==null&&typeof ba<"u"&&ei.exports===ba?ei.exports=i:typeof self<"u"&&typeof self.postMessage=="function"&&typeof self.importScripts=="function"?self.Levenshtein=i:typeof window<"u"&&window!==null&&(window.Levenshtein=i)})()});var gd=ae((vb,md)=>{"use strict";md.exports=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}});var qt=ae(hn=>{"use strict";var Sa,l0=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];hn.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};hn.getSymbolTotalCodewords=function(t){return l0[t]};hn.getBCHDigit=function(r){let t=0;for(;r!==0;)t++,r>>>=1;return t};hn.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');Sa=t};hn.isKanjiModeEnabled=function(){return typeof Sa<"u"};hn.toSJIS=function(t){return Sa(t)}});var Eo=ae(Qe=>{"use strict";Qe.L={bit:1};Qe.M={bit:0};Qe.Q={bit:3};Qe.H={bit:2};function c0(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return Qe.L;case"m":case"medium":return Qe.M;case"q":case"quartile":return Qe.Q;case"h":case"high":return Qe.H;default:throw new Error("Unknown EC Level: "+r)}}Qe.isValid=function(t){return t&&typeof t.bit<"u"&&t.bit>=0&&t.bit<4};Qe.from=function(t,e){if(Qe.isValid(t))return t;try{return c0(t)}catch{return e}}});var yd=ae((Cb,_d)=>{"use strict";function vd(){this.buffer=[],this.length=0}vd.prototype={get:function(r){let t=Math.floor(r/8);return(this.buffer[t]>>>7-r%8&1)===1},put:function(r,t){for(let e=0;e<t;e++)this.putBit((r>>>t-e-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(r){let t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),r&&(this.buffer[t]|=128>>>this.length%8),this.length++}};_d.exports=vd});var bd=ae((bb,Cd)=>{"use strict";function ti(r){if(!r||r<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=r,this.data=new Uint8Array(r*r),this.reservedBit=new Uint8Array(r*r)}ti.prototype.set=function(r,t,e,n){let i=r*this.size+t;this.data[i]=e,n&&(this.reservedBit[i]=!0)};ti.prototype.get=function(r,t){return this.data[r*this.size+t]};ti.prototype.xor=function(r,t,e){this.data[r*this.size+t]^=e};ti.prototype.isReserved=function(r,t){return this.reservedBit[r*this.size+t]};Cd.exports=ti});var wd=ae(xo=>{"use strict";var u0=qt().getSymbolSize;xo.getRowColCoords=function(t){if(t===1)return[];let e=Math.floor(t/7)+2,n=u0(t),i=n===145?26:Math.ceil((n-13)/(2*e-2))*2,o=[n-7];for(let s=1;s<e-1;s++)o[s]=o[s-1]-i;return o.push(6),o.reverse()};xo.getPositions=function(t){let e=[],n=xo.getRowColCoords(t),i=n.length;for(let o=0;o<i;o++)for(let s=0;s<i;s++)o===0&&s===0||o===0&&s===i-1||o===i-1&&s===0||e.push([n[o],n[s]]);return e}});var Ed=ae(Md=>{"use strict";var d0=qt().getSymbolSize,Sd=7;Md.getPositions=function(t){let e=d0(t);return[[0,0],[e-Sd,0],[0,e-Sd]]}});var xd=ae(he=>{"use strict";he.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var fn={N1:3,N2:3,N3:40,N4:10};he.isValid=function(t){return t!=null&&t!==""&&!isNaN(t)&&t>=0&&t<=7};he.from=function(t){return he.isValid(t)?parseInt(t,10):void 0};he.getPenaltyN1=function(t){let e=t.size,n=0,i=0,o=0,s=null,a=null;for(let l=0;l<e;l++){i=o=0,s=a=null;for(let c=0;c<e;c++){let h=t.get(l,c);h===s?i++:(i>=5&&(n+=fn.N1+(i-5)),s=h,i=1),h=t.get(c,l),h===a?o++:(o>=5&&(n+=fn.N1+(o-5)),a=h,o=1)}i>=5&&(n+=fn.N1+(i-5)),o>=5&&(n+=fn.N1+(o-5))}return n};he.getPenaltyN2=function(t){let e=t.size,n=0;for(let i=0;i<e-1;i++)for(let o=0;o<e-1;o++){let s=t.get(i,o)+t.get(i,o+1)+t.get(i+1,o)+t.get(i+1,o+1);(s===4||s===0)&&n++}return n*fn.N2};he.getPenaltyN3=function(t){let e=t.size,n=0,i=0,o=0;for(let s=0;s<e;s++){i=o=0;for(let a=0;a<e;a++)i=i<<1&2047|t.get(s,a),a>=10&&(i===1488||i===93)&&n++,o=o<<1&2047|t.get(a,s),a>=10&&(o===1488||o===93)&&n++}return n*fn.N3};he.getPenaltyN4=function(t){let e=0,n=t.data.length;for(let o=0;o<n;o++)e+=t.data[o];return Math.abs(Math.ceil(e*100/n/5)-10)*fn.N4};function p0(r,t,e){switch(r){case he.Patterns.PATTERN000:return(t+e)%2===0;case he.Patterns.PATTERN001:return t%2===0;case he.Patterns.PATTERN010:return e%3===0;case he.Patterns.PATTERN011:return(t+e)%3===0;case he.Patterns.PATTERN100:return(Math.floor(t/2)+Math.floor(e/3))%2===0;case he.Patterns.PATTERN101:return t*e%2+t*e%3===0;case he.Patterns.PATTERN110:return(t*e%2+t*e%3)%2===0;case he.Patterns.PATTERN111:return(t*e%3+(t+e)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}he.applyMask=function(t,e){let n=e.size;for(let i=0;i<n;i++)for(let o=0;o<n;o++)e.isReserved(o,i)||e.xor(o,i,p0(t,o,i))};he.getBestMask=function(t,e){let n=Object.keys(he.Patterns).length,i=0,o=1/0;for(let s=0;s<n;s++){e(s),he.applyMask(s,t);let a=he.getPenaltyN1(t)+he.getPenaltyN2(t)+he.getPenaltyN3(t)+he.getPenaltyN4(t);he.applyMask(s,t),a<o&&(o=a,i=s)}return i}});var Ea=ae(Ma=>{"use strict";var $t=Eo(),Po=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Ao=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Ma.getBlocksCount=function(t,e){switch(e){case $t.L:return Po[(t-1)*4+0];case $t.M:return Po[(t-1)*4+1];case $t.Q:return Po[(t-1)*4+2];case $t.H:return Po[(t-1)*4+3];default:return}};Ma.getTotalCodewordsCount=function(t,e){switch(e){case $t.L:return Ao[(t-1)*4+0];case $t.M:return Ao[(t-1)*4+1];case $t.Q:return Ao[(t-1)*4+2];case $t.H:return Ao[(t-1)*4+3];default:return}}});var Pd=ae(Io=>{"use strict";var ni=new Uint8Array(512),To=new Uint8Array(256);(function(){let t=1;for(let e=0;e<255;e++)ni[e]=t,To[t]=e,t<<=1,t&256&&(t^=285);for(let e=255;e<512;e++)ni[e]=ni[e-255]})();Io.log=function(t){if(t<1)throw new Error("log("+t+")");return To[t]};Io.exp=function(t){return ni[t]};Io.mul=function(t,e){return t===0||e===0?0:ni[To[t]+To[e]]}});var Ad=ae(ri=>{"use strict";var xa=Pd();ri.mul=function(t,e){let n=new Uint8Array(t.length+e.length-1);for(let i=0;i<t.length;i++)for(let o=0;o<e.length;o++)n[i+o]^=xa.mul(t[i],e[o]);return n};ri.mod=function(t,e){let n=new Uint8Array(t);for(;n.length-e.length>=0;){let i=n[0];for(let s=0;s<e.length;s++)n[s]^=xa.mul(e[s],i);let o=0;for(;o<n.length&&n[o]===0;)o++;n=n.slice(o)}return n};ri.generateECPolynomial=function(t){let e=new Uint8Array([1]);for(let n=0;n<t;n++)e=ri.mul(e,new Uint8Array([1,xa.exp(n)]));return e}});var Od=ae((Ab,Id)=>{"use strict";var Td=Ad();function Pa(r){this.genPoly=void 0,this.degree=r,this.degree&&this.initialize(this.degree)}Pa.prototype.initialize=function(t){this.degree=t,this.genPoly=Td.generateECPolynomial(this.degree)};Pa.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");let e=new Uint8Array(t.length+this.degree);e.set(t);let n=Td.mod(e,this.genPoly),i=this.degree-n.length;if(i>0){let o=new Uint8Array(this.degree);return o.set(n,i),o}return n};Id.exports=Pa});var Aa=ae(Dd=>{"use strict";Dd.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40}});var Ta=ae(xt=>{"use strict";var Rd="[0-9]+",h0="[A-Z $%*+\\-./:]+",ii="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";ii=ii.replace(/u/g,"\\u");var f0="(?:(?![A-Z0-9 $%*+\\-./:]|"+ii+`)(?:.|[\r
]))+`;xt.KANJI=new RegExp(ii,"g");xt.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");xt.BYTE=new RegExp(f0,"g");xt.NUMERIC=new RegExp(Rd,"g");xt.ALPHANUMERIC=new RegExp(h0,"g");var m0=new RegExp("^"+ii+"$"),g0=new RegExp("^"+Rd+"$"),v0=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");xt.testKanji=function(t){return m0.test(t)};xt.testNumeric=function(t){return g0.test(t)};xt.testAlphanumeric=function(t){return v0.test(t)}});var Ht=ae(Se=>{"use strict";var _0=Aa(),Ia=Ta();Se.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]};Se.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]};Se.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]};Se.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]};Se.MIXED={bit:-1};Se.getCharCountIndicator=function(t,e){if(!t.ccBits)throw new Error("Invalid mode: "+t);if(!_0.isValid(e))throw new Error("Invalid version: "+e);return e>=1&&e<10?t.ccBits[0]:e<27?t.ccBits[1]:t.ccBits[2]};Se.getBestModeForData=function(t){return Ia.testNumeric(t)?Se.NUMERIC:Ia.testAlphanumeric(t)?Se.ALPHANUMERIC:Ia.testKanji(t)?Se.KANJI:Se.BYTE};Se.toString=function(t){if(t&&t.id)return t.id;throw new Error("Invalid mode")};Se.isValid=function(t){return t&&t.bit&&t.ccBits};function y0(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"numeric":return Se.NUMERIC;case"alphanumeric":return Se.ALPHANUMERIC;case"kanji":return Se.KANJI;case"byte":return Se.BYTE;default:throw new Error("Unknown mode: "+r)}}Se.from=function(t,e){if(Se.isValid(t))return t;try{return y0(t)}catch{return e}}});var jd=ae(mn=>{"use strict";var Oo=qt(),C0=Ea(),Nd=Eo(),Wt=Ht(),Oa=Aa(),Vd=7973,kd=Oo.getBCHDigit(Vd);function b0(r,t,e){for(let n=1;n<=40;n++)if(t<=mn.getCapacity(n,e,r))return n}function Fd(r,t){return Wt.getCharCountIndicator(r,t)+4}function w0(r,t){let e=0;return r.forEach(function(n){let i=Fd(n.mode,t);e+=i+n.getBitsLength()}),e}function S0(r,t){for(let e=1;e<=40;e++)if(w0(r,e)<=mn.getCapacity(e,t,Wt.MIXED))return e}mn.from=function(t,e){return Oa.isValid(t)?parseInt(t,10):e};mn.getCapacity=function(t,e,n){if(!Oa.isValid(t))throw new Error("Invalid QR Code version");typeof n>"u"&&(n=Wt.BYTE);let i=Oo.getSymbolTotalCodewords(t),o=C0.getTotalCodewordsCount(t,e),s=(i-o)*8;if(n===Wt.MIXED)return s;let a=s-Fd(n,t);switch(n){case Wt.NUMERIC:return Math.floor(a/10*3);case Wt.ALPHANUMERIC:return Math.floor(a/11*2);case Wt.KANJI:return Math.floor(a/13);case Wt.BYTE:default:return Math.floor(a/8)}};mn.getBestVersionForData=function(t,e){let n,i=Nd.from(e,Nd.M);if(Array.isArray(t)){if(t.length>1)return S0(t,i);if(t.length===0)return 1;n=t[0]}else n=t;return b0(n.mode,n.getLength(),i)};mn.getEncodedBits=function(t){if(!Oa.isValid(t)||t<7)throw new Error("Invalid QR Code version");let e=t<<12;for(;Oo.getBCHDigit(e)-kd>=0;)e^=Vd<<Oo.getBCHDigit(e)-kd;return t<<12|e}});var Bd=ae(zd=>{"use strict";var Da=qt(),Ud=1335,M0=21522,Ld=Da.getBCHDigit(Ud);zd.getEncodedBits=function(t,e){let n=t.bit<<3|e,i=n<<10;for(;Da.getBCHDigit(i)-Ld>=0;)i^=Ud<<Da.getBCHDigit(i)-Ld;return(n<<10|i)^M0}});var $d=ae((Nb,qd)=>{"use strict";var E0=Ht();function Yn(r){this.mode=E0.NUMERIC,this.data=r.toString()}Yn.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};Yn.prototype.getLength=function(){return this.data.length};Yn.prototype.getBitsLength=function(){return Yn.getBitsLength(this.data.length)};Yn.prototype.write=function(t){let e,n,i;for(e=0;e+3<=this.data.length;e+=3)n=this.data.substr(e,3),i=parseInt(n,10),t.put(i,10);let o=this.data.length-e;o>0&&(n=this.data.substr(e),i=parseInt(n,10),t.put(i,o*3+1))};qd.exports=Yn});var Wd=ae((kb,Hd)=>{"use strict";var x0=Ht(),Ra=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Zn(r){this.mode=x0.ALPHANUMERIC,this.data=r}Zn.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};Zn.prototype.getLength=function(){return this.data.length};Zn.prototype.getBitsLength=function(){return Zn.getBitsLength(this.data.length)};Zn.prototype.write=function(t){let e;for(e=0;e+2<=this.data.length;e+=2){let n=Ra.indexOf(this.data[e])*45;n+=Ra.indexOf(this.data[e+1]),t.put(n,11)}this.data.length%2&&t.put(Ra.indexOf(this.data[e]),6)};Hd.exports=Zn});var Kd=ae((Vb,Gd)=>{"use strict";var P0=Ht();function Xn(r){this.mode=P0.BYTE,typeof r=="string"?this.data=new TextEncoder().encode(r):this.data=new Uint8Array(r)}Xn.getBitsLength=function(t){return t*8};Xn.prototype.getLength=function(){return this.data.length};Xn.prototype.getBitsLength=function(){return Xn.getBitsLength(this.data.length)};Xn.prototype.write=function(r){for(let t=0,e=this.data.length;t<e;t++)r.put(this.data[t],8)};Gd.exports=Xn});var Jd=ae((Fb,Qd)=>{"use strict";var A0=Ht(),T0=qt();function er(r){this.mode=A0.KANJI,this.data=r}er.getBitsLength=function(t){return t*13};er.prototype.getLength=function(){return this.data.length};er.prototype.getBitsLength=function(){return er.getBitsLength(this.data.length)};er.prototype.write=function(r){let t;for(t=0;t<this.data.length;t++){let e=T0.toSJIS(this.data[t]);if(e>=33088&&e<=40956)e-=33088;else if(e>=57408&&e<=60351)e-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);e=(e>>>8&255)*192+(e&255),r.put(e,13)}};Qd.exports=er});var Yd=ae((jb,Na)=>{"use strict";var oi={single_source_shortest_paths:function(r,t,e){var n={},i={};i[t]=0;var o=oi.PriorityQueue.make();o.push(t,0);for(var s,a,l,c,h,v,y,b,_;!o.empty();){s=o.pop(),a=s.value,c=s.cost,h=r[a]||{};for(l in h)h.hasOwnProperty(l)&&(v=h[l],y=c+v,b=i[l],_=typeof i[l]>"u",(_||b>y)&&(i[l]=y,o.push(l,y),n[l]=a))}if(typeof e<"u"&&typeof i[e]>"u"){var w=["Could not find a path from ",t," to ",e,"."].join("");throw new Error(w)}return n},extract_shortest_path_from_predecessor_list:function(r,t){for(var e=[],n=t,i;n;)e.push(n),i=r[n],n=r[n];return e.reverse(),e},find_path:function(r,t,e){var n=oi.single_source_shortest_paths(r,t,e);return oi.extract_shortest_path_from_predecessor_list(n,e)},PriorityQueue:{make:function(r){var t=oi.PriorityQueue,e={},n;r=r||{};for(n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e.queue=[],e.sorter=r.sorter||t.default_sorter,e},default_sorter:function(r,t){return r.cost-t.cost},push:function(r,t){var e={value:r,cost:t};this.queue.push(e),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};typeof Na<"u"&&(Na.exports=oi)});var op=ae(tr=>{"use strict";var ie=Ht(),ep=$d(),tp=Wd(),np=Kd(),rp=Jd(),si=Ta(),Do=qt(),I0=Yd();function Zd(r){return unescape(encodeURIComponent(r)).length}function ai(r,t,e){let n=[],i;for(;(i=r.exec(e))!==null;)n.push({data:i[0],index:i.index,mode:t,length:i[0].length});return n}function ip(r){let t=ai(si.NUMERIC,ie.NUMERIC,r),e=ai(si.ALPHANUMERIC,ie.ALPHANUMERIC,r),n,i;return Do.isKanjiModeEnabled()?(n=ai(si.BYTE,ie.BYTE,r),i=ai(si.KANJI,ie.KANJI,r)):(n=ai(si.BYTE_KANJI,ie.BYTE,r),i=[]),t.concat(e,n,i).sort(function(s,a){return s.index-a.index}).map(function(s){return{data:s.data,mode:s.mode,length:s.length}})}function ka(r,t){switch(t){case ie.NUMERIC:return ep.getBitsLength(r);case ie.ALPHANUMERIC:return tp.getBitsLength(r);case ie.KANJI:return rp.getBitsLength(r);case ie.BYTE:return np.getBitsLength(r)}}function O0(r){return r.reduce(function(t,e){let n=t.length-1>=0?t[t.length-1]:null;return n&&n.mode===e.mode?(t[t.length-1].data+=e.data,t):(t.push(e),t)},[])}function D0(r){let t=[];for(let e=0;e<r.length;e++){let n=r[e];switch(n.mode){case ie.NUMERIC:t.push([n,{data:n.data,mode:ie.ALPHANUMERIC,length:n.length},{data:n.data,mode:ie.BYTE,length:n.length}]);break;case ie.ALPHANUMERIC:t.push([n,{data:n.data,mode:ie.BYTE,length:n.length}]);break;case ie.KANJI:t.push([n,{data:n.data,mode:ie.BYTE,length:Zd(n.data)}]);break;case ie.BYTE:t.push([{data:n.data,mode:ie.BYTE,length:Zd(n.data)}])}}return t}function R0(r,t){let e={},n={start:{}},i=["start"];for(let o=0;o<r.length;o++){let s=r[o],a=[];for(let l=0;l<s.length;l++){let c=s[l],h=""+o+l;a.push(h),e[h]={node:c,lastCount:0},n[h]={};for(let v=0;v<i.length;v++){let y=i[v];e[y]&&e[y].node.mode===c.mode?(n[y][h]=ka(e[y].lastCount+c.length,c.mode)-ka(e[y].lastCount,c.mode),e[y].lastCount+=c.length):(e[y]&&(e[y].lastCount=c.length),n[y][h]=ka(c.length,c.mode)+4+ie.getCharCountIndicator(c.mode,t))}}i=a}for(let o=0;o<i.length;o++)n[i[o]].end=0;return{map:n,table:e}}function Xd(r,t){let e,n=ie.getBestModeForData(r);if(e=ie.from(t,n),e!==ie.BYTE&&e.bit<n.bit)throw new Error('"'+r+'" cannot be encoded with mode '+ie.toString(e)+`.
 Suggested mode is: `+ie.toString(n));switch(e===ie.KANJI&&!Do.isKanjiModeEnabled()&&(e=ie.BYTE),e){case ie.NUMERIC:return new ep(r);case ie.ALPHANUMERIC:return new tp(r);case ie.KANJI:return new rp(r);case ie.BYTE:return new np(r)}}tr.fromArray=function(t){return t.reduce(function(e,n){return typeof n=="string"?e.push(Xd(n,null)):n.data&&e.push(Xd(n.data,n.mode)),e},[])};tr.fromString=function(t,e){let n=ip(t,Do.isKanjiModeEnabled()),i=D0(n),o=R0(i,e),s=I0.find_path(o.map,"start","end"),a=[];for(let l=1;l<s.length-1;l++)a.push(o.table[s[l]].node);return tr.fromArray(O0(a))};tr.rawSplit=function(t){return tr.fromArray(ip(t,Do.isKanjiModeEnabled()))}});var ap=ae(sp=>{"use strict";var No=qt(),Va=Eo(),N0=yd(),k0=bd(),V0=wd(),F0=Ed(),La=xd(),Ua=Ea(),j0=Od(),Ro=jd(),L0=Bd(),U0=Ht(),Fa=op();function z0(r,t){let e=r.size,n=F0.getPositions(t);for(let i=0;i<n.length;i++){let o=n[i][0],s=n[i][1];for(let a=-1;a<=7;a++)if(!(o+a<=-1||e<=o+a))for(let l=-1;l<=7;l++)s+l<=-1||e<=s+l||(a>=0&&a<=6&&(l===0||l===6)||l>=0&&l<=6&&(a===0||a===6)||a>=2&&a<=4&&l>=2&&l<=4?r.set(o+a,s+l,!0,!0):r.set(o+a,s+l,!1,!0))}}function B0(r){let t=r.size;for(let e=8;e<t-8;e++){let n=e%2===0;r.set(e,6,n,!0),r.set(6,e,n,!0)}}function q0(r,t){let e=V0.getPositions(t);for(let n=0;n<e.length;n++){let i=e[n][0],o=e[n][1];for(let s=-2;s<=2;s++)for(let a=-2;a<=2;a++)s===-2||s===2||a===-2||a===2||s===0&&a===0?r.set(i+s,o+a,!0,!0):r.set(i+s,o+a,!1,!0)}}function $0(r,t){let e=r.size,n=Ro.getEncodedBits(t),i,o,s;for(let a=0;a<18;a++)i=Math.floor(a/3),o=a%3+e-8-3,s=(n>>a&1)===1,r.set(i,o,s,!0),r.set(o,i,s,!0)}function ja(r,t,e){let n=r.size,i=L0.getEncodedBits(t,e),o,s;for(o=0;o<15;o++)s=(i>>o&1)===1,o<6?r.set(o,8,s,!0):o<8?r.set(o+1,8,s,!0):r.set(n-15+o,8,s,!0),o<8?r.set(8,n-o-1,s,!0):o<9?r.set(8,15-o-1+1,s,!0):r.set(8,15-o-1,s,!0);r.set(n-8,8,1,!0)}function H0(r,t){let e=r.size,n=-1,i=e-1,o=7,s=0;for(let a=e-1;a>0;a-=2)for(a===6&&a--;;){for(let l=0;l<2;l++)if(!r.isReserved(i,a-l)){let c=!1;s<t.length&&(c=(t[s]>>>o&1)===1),r.set(i,a-l,c),o--,o===-1&&(s++,o=7)}if(i+=n,i<0||e<=i){i-=n,n=-n;break}}}function W0(r,t,e){let n=new N0;e.forEach(function(l){n.put(l.mode.bit,4),n.put(l.getLength(),U0.getCharCountIndicator(l.mode,r)),l.write(n)});let i=No.getSymbolTotalCodewords(r),o=Ua.getTotalCodewordsCount(r,t),s=(i-o)*8;for(n.getLengthInBits()+4<=s&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);let a=(s-n.getLengthInBits())/8;for(let l=0;l<a;l++)n.put(l%2?17:236,8);return G0(n,r,t)}function G0(r,t,e){let n=No.getSymbolTotalCodewords(t),i=Ua.getTotalCodewordsCount(t,e),o=n-i,s=Ua.getBlocksCount(t,e),a=n%s,l=s-a,c=Math.floor(n/s),h=Math.floor(o/s),v=h+1,y=c-h,b=new j0(y),_=0,w=new Array(s),x=new Array(s),B=0,V=new Uint8Array(r.buffer);for(let ue=0;ue<s;ue++){let pe=ue<l?h:v;w[ue]=V.slice(_,_+pe),x[ue]=b.encode(w[ue]),_+=pe,B=Math.max(B,pe)}let X=new Uint8Array(n),ne=0,oe,fe;for(oe=0;oe<B;oe++)for(fe=0;fe<s;fe++)oe<w[fe].length&&(X[ne++]=w[fe][oe]);for(oe=0;oe<y;oe++)for(fe=0;fe<s;fe++)X[ne++]=x[fe][oe];return X}function K0(r,t,e,n){let i;if(Array.isArray(r))i=Fa.fromArray(r);else if(typeof r=="string"){let c=t;if(!c){let h=Fa.rawSplit(r);c=Ro.getBestVersionForData(h,e)}i=Fa.fromString(r,c||40)}else throw new Error("Invalid data");let o=Ro.getBestVersionForData(i,e);if(!o)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=o;else if(t<o)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+o+`.
`);let s=W0(t,e,i),a=No.getSymbolSize(t),l=new k0(a);return z0(l,t),B0(l),q0(l,t),ja(l,e,0),t>=7&&$0(l,t),H0(l,s),isNaN(n)&&(n=La.getBestMask(l,ja.bind(null,l,e))),La.applyMask(n,l),ja(l,e,n),{modules:l,version:t,errorCorrectionLevel:e,maskPattern:n,segments:i}}sp.create=function(t,e){if(typeof t>"u"||t==="")throw new Error("No input text");let n=Va.M,i,o;return typeof e<"u"&&(n=Va.from(e.errorCorrectionLevel,Va.M),i=Ro.from(e.version),o=La.from(e.maskPattern),e.toSJISFunc&&No.setToSJISFunction(e.toSJISFunc)),K0(t,i,n,o)}});var za=ae(gn=>{"use strict";function lp(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let t=r.slice().replace("#","").split("");if(t.length<3||t.length===5||t.length>8)throw new Error("Invalid hex color: "+r);(t.length===3||t.length===4)&&(t=Array.prototype.concat.apply([],t.map(function(n){return[n,n]}))),t.length===6&&t.push("F","F");let e=parseInt(t.join(""),16);return{r:e>>24&255,g:e>>16&255,b:e>>8&255,a:e&255,hex:"#"+t.slice(0,6).join("")}}gn.getOptions=function(t){t||(t={}),t.color||(t.color={});let e=typeof t.margin>"u"||t.margin===null||t.margin<0?4:t.margin,n=t.width&&t.width>=21?t.width:void 0,i=t.scale||4;return{width:n,scale:n?4:i,margin:e,color:{dark:lp(t.color.dark||"#000000ff"),light:lp(t.color.light||"#ffffffff")},type:t.type,rendererOpts:t.rendererOpts||{}}};gn.getScale=function(t,e){return e.width&&e.width>=t+e.margin*2?e.width/(t+e.margin*2):e.scale};gn.getImageWidth=function(t,e){let n=gn.getScale(t,e);return Math.floor((t+e.margin*2)*n)};gn.qrToImageData=function(t,e,n){let i=e.modules.size,o=e.modules.data,s=gn.getScale(i,n),a=Math.floor((i+n.margin*2)*s),l=n.margin*s,c=[n.color.light,n.color.dark];for(let h=0;h<a;h++)for(let v=0;v<a;v++){let y=(h*a+v)*4,b=n.color.light;if(h>=l&&v>=l&&h<a-l&&v<a-l){let _=Math.floor((h-l)/s),w=Math.floor((v-l)/s);b=c[o[_*i+w]?1:0]}t[y++]=b.r,t[y++]=b.g,t[y++]=b.b,t[y]=b.a}}});var cp=ae(ko=>{"use strict";var Ba=za();function Q0(r,t,e){r.clearRect(0,0,t.width,t.height),t.style||(t.style={}),t.height=e,t.width=e,t.style.height=e+"px",t.style.width=e+"px"}function J0(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}ko.render=function(t,e,n){let i=n,o=e;typeof i>"u"&&(!e||!e.getContext)&&(i=e,e=void 0),e||(o=J0()),i=Ba.getOptions(i);let s=Ba.getImageWidth(t.modules.size,i),a=o.getContext("2d"),l=a.createImageData(s,s);return Ba.qrToImageData(l.data,t,i),Q0(a,o,s),a.putImageData(l,0,0),o};ko.renderToDataURL=function(t,e,n){let i=n;typeof i>"u"&&(!e||!e.getContext)&&(i=e,e=void 0),i||(i={});let o=ko.render(t,e,i),s=i.type||"image/png",a=i.rendererOpts||{};return o.toDataURL(s,a.quality)}});var pp=ae(dp=>{"use strict";var Y0=za();function up(r,t){let e=r.a/255,n=t+'="'+r.hex+'"';return e<1?n+" "+t+'-opacity="'+e.toFixed(2).slice(1)+'"':n}function qa(r,t,e){let n=r+t;return typeof e<"u"&&(n+=" "+e),n}function Z0(r,t,e){let n="",i=0,o=!1,s=0;for(let a=0;a<r.length;a++){let l=Math.floor(a%t),c=Math.floor(a/t);!l&&!o&&(o=!0),r[a]?(s++,a>0&&l>0&&r[a-1]||(n+=o?qa("M",l+e,.5+c+e):qa("m",i,0),i=0,o=!1),l+1<t&&r[a+1]||(n+=qa("h",s),s=0)):i++}return n}dp.render=function(t,e,n){let i=Y0.getOptions(e),o=t.modules.size,s=t.modules.data,a=o+i.margin*2,l=i.color.light.a?"<path "+up(i.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",c="<path "+up(i.color.dark,"stroke")+' d="'+Z0(s,o,i.margin)+'"/>',h='viewBox="0 0 '+a+" "+a+'"',y='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+h+' shape-rendering="crispEdges">'+l+c+`</svg>
`;return typeof n=="function"&&n(null,y),y}});var fp=ae(li=>{"use strict";var X0=gd(),$a=ap(),hp=cp(),ev=pp();function Ha(r,t,e,n,i){let o=[].slice.call(arguments,1),s=o.length,a=typeof o[s-1]=="function";if(!a&&!X0())throw new Error("Callback required as last argument");if(a){if(s<2)throw new Error("Too few arguments provided");s===2?(i=e,e=t,t=n=void 0):s===3&&(t.getContext&&typeof i>"u"?(i=n,n=void 0):(i=n,n=e,e=t,t=void 0))}else{if(s<1)throw new Error("Too few arguments provided");return s===1?(e=t,t=n=void 0):s===2&&!t.getContext&&(n=e,e=t,t=void 0),new Promise(function(l,c){try{let h=$a.create(e,n);l(r(h,t,n))}catch(h){c(h)}})}try{let l=$a.create(e,n);i(null,r(l,t,n))}catch(l){i(l)}}li.create=$a.create;li.toCanvas=Ha.bind(null,hp.render);li.toDataURL=Ha.bind(null,hp.renderToDataURL);li.toString=Ha.bind(null,function(r,t,e){return ev.render(r,e)})});var Ai=new me(""),As=(()=>{class r{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,n){this._zone=n,e.forEach(i=>{i.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,n,i,o){return this._findPluginFor(n).addEventListener(e,n,i,o)}getZone(){return this._zone}_findPluginFor(e){let n=this._eventNameToPlugin.get(e);if(n)return n;if(n=this._plugins.find(o=>o.supports(e)),!n)throw new R(5101,!1);return this._eventNameToPlugin.set(e,n),n}static \u0275fac=function(n){return new(n||r)(Q(Ai),Q(Be))};static \u0275prov=J({token:r,factory:r.\u0275fac})}return r})(),_r=class{_doc;constructor(t){this._doc=t}manager},xi="ng-app-id";function Ic(r){for(let t of r)t.remove()}function Oc(r,t){let e=t.createElement("style");return e.textContent=r,e}function xh(r,t,e,n){let i=r.head?.querySelectorAll(`style[${xi}="${t}"],link[${xi}="${t}"]`);if(i)for(let o of i)o.removeAttribute(xi),o instanceof HTMLLinkElement?n.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&e.set(o.textContent,{usage:0,elements:[o]})}function xs(r,t){let e=t.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",r),e}var Ts=(()=>{class r{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(e,n,i,o={}){this.doc=e,this.appId=n,this.nonce=i,this.isServer=Ss(o),xh(e,n,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,n){for(let i of e)this.addUsage(i,this.inline,Oc);n?.forEach(i=>this.addUsage(i,this.external,xs))}removeStyles(e,n){for(let i of e)this.removeUsage(i,this.inline);n?.forEach(i=>this.removeUsage(i,this.external))}addUsage(e,n,i){let o=n.get(e);o?o.usage++:n.set(e,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(e,this.doc)))})}removeUsage(e,n){let i=n.get(e);i&&(i.usage--,i.usage<=0&&(Ic(i.elements),n.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])Ic(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[n,{elements:i}]of this.inline)i.push(this.addElement(e,Oc(n,this.doc)));for(let[n,{elements:i}]of this.external)i.push(this.addElement(e,xs(n,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,n){return this.nonce&&n.setAttribute("nonce",this.nonce),this.isServer&&n.setAttribute(xi,this.appId),e.appendChild(n)}static \u0275fac=function(n){return new(n||r)(Q(Ie),Q(hs),Q(ms,8),Q(xe))};static \u0275prov=J({token:r,factory:r.\u0275fac})}return r})(),Es={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Is=/%COMP%/g;var Rc="%COMP%",Ph=`_nghost-${Rc}`,Ah=`_ngcontent-${Rc}`,Th=!0,Ih=new me("",{providedIn:"root",factory:()=>Th});function Oh(r){return Ah.replace(Is,r)}function Dh(r){return Ph.replace(Is,r)}function Nc(r,t){return t.map(e=>e.replace(Is,r))}var br=(()=>{class r{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,n,i,o,s,a,l,c=null,h=null){this.eventManager=e,this.sharedStylesHost=n,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.tracingService=h,this.platformIsServer=Ss(a),this.defaultRenderer=new yr(e,s,l,this.platformIsServer,this.tracingService)}createRenderer(e,n){if(!e||!n)return this.defaultRenderer;this.platformIsServer&&n.encapsulation===pr.ShadowDom&&(n=ye(A({},n),{encapsulation:pr.Emulated}));let i=this.getOrCreateRenderer(e,n);return i instanceof Pi?i.applyToHost(e):i instanceof Cr&&i.applyStyles(),i}getOrCreateRenderer(e,n){let i=this.rendererByCompId,o=i.get(n.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,v=this.platformIsServer,y=this.tracingService;switch(n.encapsulation){case pr.Emulated:o=new Pi(l,c,n,this.appId,h,s,a,v,y);break;case pr.ShadowDom:return new Ps(l,c,e,n,s,a,this.nonce,v,y);default:o=new Cr(l,c,n,h,s,a,v,y);break}i.set(n.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(n){return new(n||r)(Q(As),Q(Ts),Q(hs),Q(Ih),Q(Ie),Q(xe),Q(Be),Q(ms),Q(Hl,8))};static \u0275prov=J({token:r,factory:r.\u0275fac})}return r})(),yr=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,e,n,i,o){this.eventManager=t,this.doc=e,this.ngZone=n,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,e){return e?this.doc.createElementNS(Es[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(Dc(t)?t.content:t).appendChild(e)}insertBefore(t,e,n){t&&(Dc(t)?t.content:t).insertBefore(e,n)}removeChild(t,e){e.remove()}selectRootElement(t,e){let n=typeof t=="string"?this.doc.querySelector(t):t;if(!n)throw new R(-5104,!1);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,i){if(i){e=i+":"+e;let o=Es[i];o?t.setAttributeNS(o,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){let i=Es[n];i?t.removeAttributeNS(i,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(fr.DashCase|fr.Important)?t.style.setProperty(e,n,i&fr.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&fr.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t!=null&&(t[e]=n)}setValue(t,e){t.nodeValue=e}listen(t,e,n,i){if(typeof t=="string"&&(t=Nt().getGlobalEventTarget(this.doc,t),!t))throw new R(5102,!1);let o=this.decoratePreventDefault(n);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,e,o)),this.eventManager.addEventListener(t,e,o,i)}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))===!1&&e.preventDefault()}}};function Dc(r){return r.tagName==="TEMPLATE"&&r.content!==void 0}var Ps=class extends yr{sharedStylesHost;hostEl;shadowRoot;constructor(t,e,n,i,o,s,a,l,c){super(t,o,s,l,c),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=Nc(i.id,h);for(let y of h){let b=document.createElement("style");a&&b.setAttribute("nonce",a),b.textContent=y,this.shadowRoot.appendChild(b)}let v=i.getExternalStyles?.();if(v)for(let y of v){let b=xs(y,o);a&&b.setAttribute("nonce",a),this.shadowRoot.appendChild(b)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Cr=class extends yr{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,e,n,i,o,s,a,l,c){super(t,o,s,a,l),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=i;let h=n.styles;this.styles=c?Nc(c,h):h,this.styleUrls=n.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Pi=class extends Cr{contentAttr;hostAttr;constructor(t,e,n,i,o,s,a,l,c){let h=i+"-"+n.id;super(t,e,n,o,s,a,l,c,h),this.contentAttr=Oh(h),this.hostAttr=Dh(h)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}};var Ti=class r extends _c{supportsDOMEvents=!0;static makeCurrent(){vc(new r)}onAndCancel(t,e,n,i){return t.addEventListener(e,n,i),()=>{t.removeEventListener(e,n,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=Nh();return e==null?null:kh(e)}resetBaseElement(){wr=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Sc(document.cookie,t)}},wr=null;function Nh(){return wr=wr||document.head.querySelector("base"),wr?wr.getAttribute("href"):null}function kh(r){return new URL(r,document.baseURI).pathname}var Vh=(()=>{class r{build(){return new XMLHttpRequest}static \u0275fac=function(n){return new(n||r)};static \u0275prov=J({token:r,factory:r.\u0275fac})}return r})(),Vc=(()=>{class r extends _r{constructor(e){super(e)}supports(e){return!0}addEventListener(e,n,i,o){return e.addEventListener(n,i,o),()=>this.removeEventListener(e,n,i,o)}removeEventListener(e,n,i,o){return e.removeEventListener(n,i,o)}static \u0275fac=function(n){return new(n||r)(Q(Ie))};static \u0275prov=J({token:r,factory:r.\u0275fac})}return r})(),kc=["alt","control","meta","shift"],Fh={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},jh={alt:r=>r.altKey,control:r=>r.ctrlKey,meta:r=>r.metaKey,shift:r=>r.shiftKey},Fc=(()=>{class r extends _r{constructor(e){super(e)}supports(e){return r.parseEventName(e)!=null}addEventListener(e,n,i,o){let s=r.parseEventName(n),a=r.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Nt().onAndCancel(e,s.domEventName,a,o))}static parseEventName(e){let n=e.toLowerCase().split("."),i=n.shift();if(n.length===0||!(i==="keydown"||i==="keyup"))return null;let o=r._normalizeKey(n.pop()),s="",a=n.indexOf("code");if(a>-1&&(n.splice(a,1),s="code."),kc.forEach(c=>{let h=n.indexOf(c);h>-1&&(n.splice(h,1),s+=c+".")}),s+=o,n.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(e,n){let i=Fh[e.key]||e.key,o="";return n.indexOf("code.")>-1&&(i=e.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),kc.forEach(s=>{if(s!==i){let a=jh[s];a(e)&&(o+=s+".")}}),o+=i,o===n)}static eventCallback(e,n,i){return o=>{r.matchEventFullKeyCode(o,e)&&i.runGuarded(()=>n(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(n){return new(n||r)(Q(Ie))};static \u0275prov=J({token:r,factory:r.\u0275fac})}return r})();function Os(r,t){return mc(A({rootComponent:r},Lh(t)))}function Lh(r){return{appProviders:[...$h,...r?.providers??[]],platformProviders:qh}}function Uh(){Ti.makeCurrent()}function zh(){return new ps}function Bh(){return ql(document),document}var qh=[{provide:xe,useValue:Mc},{provide:$l,useValue:Uh,multi:!0},{provide:Ie,useFactory:Bh}];var $h=[{provide:jl,useValue:"root"},{provide:ps,useFactory:zh},{provide:Ai,useClass:Vc,multi:!0,deps:[Ie]},{provide:Ai,useClass:Fc,multi:!0,deps:[Ie]},br,Ts,As,{provide:Ci,useExisting:br},{provide:Ec,useClass:Vh},[]];var jc=(()=>{class r{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(n){return new(n||r)(Q(Ie))};static \u0275prov=J({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var nn=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275prov=J({token:r,factory:function(n){let i=null;return n?i=new(n||r):i=Q(Gh),i},providedIn:"root"})}return r})(),Gh=(()=>{class r extends nn{_doc;constructor(e){super(),this._doc=e}sanitize(e,n){if(n==null)return null;switch(e){case Zt.NONE:return n;case Zt.HTML:return xn(n,"HTML")?En(n):Xl(this._doc,String(n)).toString();case Zt.STYLE:return xn(n,"Style")?En(n):n;case Zt.SCRIPT:if(xn(n,"Script"))return En(n);throw new R(5200,!1);case Zt.URL:return xn(n,"URL")?En(n):Zl(String(n));case Zt.RESOURCE_URL:if(xn(n,"ResourceURL"))return En(n);throw new R(5201,!1);default:throw new R(5202,!1)}}bypassSecurityTrustHtml(e){return Gl(e)}bypassSecurityTrustStyle(e){return Kl(e)}bypassSecurityTrustScript(e){return Ql(e)}bypassSecurityTrustUrl(e){return Jl(e)}bypassSecurityTrustResourceUrl(e){return Yl(e)}static \u0275fac=function(n){return new(n||r)(Q(Ie))};static \u0275prov=J({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var H="primary",kr=Symbol("RouteTitle"),Vs=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function sn(r){return new Vs(r)}function Wc(r,t,e){let n=e.path.split("/");if(n.length>r.length||e.pathMatch==="full"&&(t.hasChildren()||n.length<r.length))return null;let i={};for(let o=0;o<n.length;o++){let s=n[o],a=r[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:r.slice(0,n.length),posParams:i}}function Kh(r,t){if(r.length!==t.length)return!1;for(let e=0;e<r.length;++e)if(!pt(r[e],t[e]))return!1;return!0}function pt(r,t){let e=r?Fs(r):void 0,n=t?Fs(t):void 0;if(!e||!n||e.length!=n.length)return!1;let i;for(let o=0;o<e.length;o++)if(i=e[o],!Gc(r[i],t[i]))return!1;return!0}function Fs(r){return[...Object.keys(r),...Object.getOwnPropertySymbols(r)]}function Gc(r,t){if(Array.isArray(r)&&Array.isArray(t)){if(r.length!==t.length)return!1;let e=[...r].sort(),n=[...t].sort();return e.every((i,o)=>n[o]===i)}else return r===t}function Kc(r){return r.length>0?r[r.length-1]:null}function Lt(r){return Tl(r)?r:wi(r)?Pe(Promise.resolve(r)):z(r)}var Qh={exact:Jc,subset:Yc},Qc={exact:Jh,subset:Yh,ignored:()=>!0};function Lc(r,t,e){return Qh[e.paths](r.root,t.root,e.matrixParams)&&Qc[e.queryParams](r.queryParams,t.queryParams)&&!(e.fragment==="exact"&&r.fragment!==t.fragment)}function Jh(r,t){return pt(r,t)}function Jc(r,t,e){if(!rn(r.segments,t.segments)||!Ri(r.segments,t.segments,e)||r.numberOfChildren!==t.numberOfChildren)return!1;for(let n in t.children)if(!r.children[n]||!Jc(r.children[n],t.children[n],e))return!1;return!0}function Yh(r,t){return Object.keys(t).length<=Object.keys(r).length&&Object.keys(t).every(e=>Gc(r[e],t[e]))}function Yc(r,t,e){return Zc(r,t,t.segments,e)}function Zc(r,t,e,n){if(r.segments.length>e.length){let i=r.segments.slice(0,e.length);return!(!rn(i,e)||t.hasChildren()||!Ri(i,e,n))}else if(r.segments.length===e.length){if(!rn(r.segments,e)||!Ri(r.segments,e,n))return!1;for(let i in t.children)if(!r.children[i]||!Yc(r.children[i],t.children[i],n))return!1;return!0}else{let i=e.slice(0,r.segments.length),o=e.slice(r.segments.length);return!rn(r.segments,i)||!Ri(r.segments,i,n)||!r.children[H]?!1:Zc(r.children[H],t,o,n)}}function Ri(r,t,e){return t.every((n,i)=>Qc[e](r[i].parameters,n.parameters))}var ft=class{root;queryParams;fragment;_queryParamMap;constructor(t=new re([],{}),e={},n=null){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap??=sn(this.queryParams),this._queryParamMap}toString(){return ef.serialize(this)}},re=class{segments;children;parent=null;constructor(t,e){this.segments=t,this.children=e,Object.values(e).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ni(this)}},Vt=class{path;parameters;_parameterMap;constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=sn(this.parameters),this._parameterMap}toString(){return eu(this)}};function Zh(r,t){return rn(r,t)&&r.every((e,n)=>pt(e.parameters,t[n].parameters))}function rn(r,t){return r.length!==t.length?!1:r.every((e,n)=>e.path===t[n].path)}function Xh(r,t){let e=[];return Object.entries(r.children).forEach(([n,i])=>{n===H&&(e=e.concat(t(i,n)))}),Object.entries(r.children).forEach(([n,i])=>{n!==H&&(e=e.concat(t(i,n)))}),e}var an=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275prov=J({token:r,factory:()=>new Ft,providedIn:"root"})}return r})(),Ft=class{parse(t){let e=new Ls(t);return new ft(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${Sr(t.root,!0)}`,n=rf(t.queryParams),i=typeof t.fragment=="string"?`#${tf(t.fragment)}`:"";return`${e}${n}${i}`}},ef=new Ft;function Ni(r){return r.segments.map(t=>eu(t)).join("/")}function Sr(r,t){if(!r.hasChildren())return Ni(r);if(t){let e=r.children[H]?Sr(r.children[H],!1):"",n=[];return Object.entries(r.children).forEach(([i,o])=>{i!==H&&n.push(`${i}:${Sr(o,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}else{let e=Xh(r,(n,i)=>i===H?[Sr(r.children[H],!1)]:[`${i}:${Sr(n,!1)}`]);return Object.keys(r.children).length===1&&r.children[H]!=null?`${Ni(r)}/${e[0]}`:`${Ni(r)}/(${e.join("//")})`}}function Xc(r){return encodeURIComponent(r).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Oi(r){return Xc(r).replace(/%3B/gi,";")}function tf(r){return encodeURI(r)}function js(r){return Xc(r).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ki(r){return decodeURIComponent(r)}function Uc(r){return ki(r.replace(/\+/g,"%20"))}function eu(r){return`${js(r.path)}${nf(r.parameters)}`}function nf(r){return Object.entries(r).map(([t,e])=>`;${js(t)}=${js(e)}`).join("")}function rf(r){let t=Object.entries(r).map(([e,n])=>Array.isArray(n)?n.map(i=>`${Oi(e)}=${Oi(i)}`).join("&"):`${Oi(e)}=${Oi(n)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var of=/^[^\/()?;#]+/;function Ds(r){let t=r.match(of);return t?t[0]:""}var sf=/^[^\/()?;=#]+/;function af(r){let t=r.match(sf);return t?t[0]:""}var lf=/^[^=?&#]+/;function cf(r){let t=r.match(lf);return t?t[0]:""}var uf=/^[^&#]+/;function df(r){let t=r.match(uf);return t?t[0]:""}var Ls=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new re([],{}):new re([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[H]=new re(t,e)),n}parseSegment(){let t=Ds(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new R(4009,!1);return this.capture(t),new Vt(ki(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=af(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){let i=Ds(this.remaining);i&&(n=i,this.capture(n))}t[ki(e)]=ki(n)}parseQueryParam(t){let e=cf(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){let s=df(this.remaining);s&&(n=s,this.capture(n))}let i=Uc(e),o=Uc(n);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=Ds(this.remaining),i=this.remaining[n.length];if(i!=="/"&&i!==")"&&i!==";")throw new R(4010,!1);let o;n.indexOf(":")>-1?(o=n.slice(0,n.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=H);let s=this.parseChildren();e[o]=Object.keys(s).length===1?s[H]:new re([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new R(4011,!1)}};function tu(r){return r.segments.length>0?new re([],{[H]:r}):r}function nu(r){let t={};for(let[n,i]of Object.entries(r.children)){let o=nu(i);if(n===H&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[n]=o)}let e=new re(r.segments,t);return pf(e)}function pf(r){if(r.numberOfChildren===1&&r.children[H]){let t=r.children[H];return new re(r.segments.concat(t.segments),t.children)}return r}function jt(r){return r instanceof ft}function ru(r,t,e=null,n=null){let i=iu(r);return ou(i,t,e,n)}function iu(r){let t;function e(o){let s={};for(let l of o.children){let c=e(l);s[l.outlet]=c}let a=new re(o.url,s);return o===r&&(t=a),a}let n=e(r.root),i=tu(n);return t??i}function ou(r,t,e,n){let i=r;for(;i.parent;)i=i.parent;if(t.length===0)return Rs(i,i,i,e,n);let o=hf(t);if(o.toRoot())return Rs(i,i,new re([],{}),e,n);let s=ff(o,i,r),a=s.processChildren?Er(s.segmentGroup,s.index,o.commands):au(s.segmentGroup,s.index,o.commands);return Rs(i,s.segmentGroup,a,e,n)}function Fi(r){return typeof r=="object"&&r!=null&&!r.outlets&&!r.segmentPath}function Pr(r){return typeof r=="object"&&r!=null&&r.outlets}function Rs(r,t,e,n,i){let o={};n&&Object.entries(n).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(h=>`${h}`):`${c}`});let s;r===t?s=e:s=su(r,t,e);let a=tu(nu(s));return new ft(a,o,i)}function su(r,t,e){let n={};return Object.entries(r.children).forEach(([i,o])=>{o===t?n[i]=e:n[i]=su(o,t,e)}),new re(r.segments,n)}var ji=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Fi(n[0]))throw new R(4003,!1);let i=n.find(Pr);if(i&&i!==Kc(n))throw new R(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function hf(r){if(typeof r[0]=="string"&&r.length===1&&r[0]==="/")return new ji(!0,0,r);let t=0,e=!1,n=r.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?e=!0:a===".."?t++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new ji(e,t,n)}var Nn=class{segmentGroup;processChildren;index;constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}};function ff(r,t,e){if(r.isAbsolute)return new Nn(t,!0,0);if(!e)return new Nn(t,!1,NaN);if(e.parent===null)return new Nn(e,!0,0);let n=Fi(r.commands[0])?0:1,i=e.segments.length-1+n;return mf(e,i,r.numberOfDoubleDots)}function mf(r,t,e){let n=r,i=t,o=e;for(;o>i;){if(o-=i,n=n.parent,!n)throw new R(4005,!1);i=n.segments.length}return new Nn(n,!1,i-o)}function gf(r){return Pr(r[0])?r[0].outlets:{[H]:r}}function au(r,t,e){if(r??=new re([],{}),r.segments.length===0&&r.hasChildren())return Er(r,t,e);let n=vf(r,t,e),i=e.slice(n.commandIndex);if(n.match&&n.pathIndex<r.segments.length){let o=new re(r.segments.slice(0,n.pathIndex),{});return o.children[H]=new re(r.segments.slice(n.pathIndex),r.children),Er(o,0,i)}else return n.match&&i.length===0?new re(r.segments,{}):n.match&&!r.hasChildren()?Us(r,t,e):n.match?Er(r,0,i):Us(r,t,e)}function Er(r,t,e){if(e.length===0)return new re(r.segments,{});{let n=gf(e),i={};if(Object.keys(n).some(o=>o!==H)&&r.children[H]&&r.numberOfChildren===1&&r.children[H].segments.length===0){let o=Er(r.children[H],t,e);return new re(r.segments,o.children)}return Object.entries(n).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=au(r.children[o],t,s))}),Object.entries(r.children).forEach(([o,s])=>{n[o]===void 0&&(i[o]=s)}),new re(r.segments,i)}}function vf(r,t,e){let n=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};for(;i<r.segments.length;){if(n>=e.length)return o;let s=r.segments[i],a=e[n];if(Pr(a))break;let l=`${a}`,c=n<e.length-1?e[n+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!Bc(l,c,s))return o;n+=2}else{if(!Bc(l,{},s))return o;n++}i++}return{match:!0,pathIndex:i,commandIndex:n}}function Us(r,t,e){let n=r.segments.slice(0,t),i=0;for(;i<e.length;){let o=e[i];if(Pr(o)){let l=_f(o.outlets);return new re(n,l)}if(i===0&&Fi(e[0])){let l=r.segments[t];n.push(new Vt(l.path,zc(e[0]))),i++;continue}let s=Pr(o)?o.outlets[H]:`${o}`,a=i<e.length-1?e[i+1]:null;s&&a&&Fi(a)?(n.push(new Vt(s,zc(a))),i+=2):(n.push(new Vt(s,{})),i++)}return new re(n,{})}function _f(r){let t={};return Object.entries(r).forEach(([e,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(t[e]=Us(new re([],{}),0,n))}),t}function zc(r){let t={};return Object.entries(r).forEach(([e,n])=>t[e]=`${n}`),t}function Bc(r,t,e){return r==e.path&&pt(t,e.parameters)}var Vi="imperative",Me=function(r){return r[r.NavigationStart=0]="NavigationStart",r[r.NavigationEnd=1]="NavigationEnd",r[r.NavigationCancel=2]="NavigationCancel",r[r.NavigationError=3]="NavigationError",r[r.RoutesRecognized=4]="RoutesRecognized",r[r.ResolveStart=5]="ResolveStart",r[r.ResolveEnd=6]="ResolveEnd",r[r.GuardsCheckStart=7]="GuardsCheckStart",r[r.GuardsCheckEnd=8]="GuardsCheckEnd",r[r.RouteConfigLoadStart=9]="RouteConfigLoadStart",r[r.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",r[r.ChildActivationStart=11]="ChildActivationStart",r[r.ChildActivationEnd=12]="ChildActivationEnd",r[r.ActivationStart=13]="ActivationStart",r[r.ActivationEnd=14]="ActivationEnd",r[r.Scroll=15]="Scroll",r[r.NavigationSkipped=16]="NavigationSkipped",r}(Me||{}),Ge=class{id;url;constructor(t,e){this.id=t,this.url=e}},mt=class extends Ge{type=Me.NavigationStart;navigationTrigger;restoredState;constructor(t,e,n="imperative",i=null){super(t,e),this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ke=class extends Ge{urlAfterRedirects;type=Me.NavigationEnd;constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Fe=function(r){return r[r.Redirect=0]="Redirect",r[r.SupersededByNewNavigation=1]="SupersededByNewNavigation",r[r.NoDataFromResolver=2]="NoDataFromResolver",r[r.GuardRejected=3]="GuardRejected",r}(Fe||{}),Vn=function(r){return r[r.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",r[r.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",r}(Vn||{}),ht=class extends Ge{reason;code;type=Me.NavigationCancel;constructor(t,e,n,i){super(t,e),this.reason=n,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},gt=class extends Ge{reason;code;type=Me.NavigationSkipped;constructor(t,e,n,i){super(t,e),this.reason=n,this.code=i}},Fn=class extends Ge{error;target;type=Me.NavigationError;constructor(t,e,n,i){super(t,e),this.error=n,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ar=class extends Ge{urlAfterRedirects;state;type=Me.RoutesRecognized;constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Li=class extends Ge{urlAfterRedirects;state;type=Me.GuardsCheckStart;constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ui=class extends Ge{urlAfterRedirects;state;shouldActivate;type=Me.GuardsCheckEnd;constructor(t,e,n,i,o){super(t,e),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},zi=class extends Ge{urlAfterRedirects;state;type=Me.ResolveStart;constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Bi=class extends Ge{urlAfterRedirects;state;type=Me.ResolveEnd;constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qi=class{route;type=Me.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},$i=class{route;type=Me.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Hi=class{snapshot;type=Me.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Wi=class{snapshot;type=Me.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Gi=class{snapshot;type=Me.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ki=class{snapshot;type=Me.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},jn=class{routerEvent;position;anchor;type=Me.Scroll;constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},Tr=class{},Ln=class{url;navigationBehaviorOptions;constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function yf(r,t){return r.providers&&!r._injector&&(r._injector=bi(r.providers,t,`Route: ${r.path}`)),r._injector??t}function rt(r){return r.outlet||H}function Cf(r,t){let e=r.filter(n=>rt(n)===t);return e.push(...r.filter(n=>rt(n)!==t)),e}function Vr(r){if(!r)return null;if(r.routeConfig?._injector)return r.routeConfig._injector;for(let t=r.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var Qi=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Vr(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new ln(this.rootInjector)}},ln=(()=>{class r{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,n){let i=this.getOrCreateContext(e);i.outlet=n,this.contexts.set(e,i)}onChildOutletDestroyed(e){let n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new Qi(this.rootInjector),this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(n){return new(n||r)(Q(Sn))};static \u0275prov=J({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Ji=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=zs(t,this._root);return e?e.children.map(n=>n.value):[]}firstChild(t){let e=zs(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=Bs(t,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return Bs(t,this._root).map(e=>e.value)}};function zs(r,t){if(r===t.value)return t;for(let e of t.children){let n=zs(r,e);if(n)return n}return null}function Bs(r,t){if(r===t.value)return[t];for(let e of t.children){let n=Bs(r,e);if(n.length)return n.unshift(t),n}return[]}var We=class{value;children;constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function Rn(r){let t={};return r&&r.children.forEach(e=>t[e.value.outlet]=e),t}var Ir=class extends Ji{snapshot;constructor(t,e){super(t),this.snapshot=e,Js(this,t)}toString(){return this.snapshot.toString()}};function lu(r){let t=bf(r),e=new Ne([new Vt("",{})]),n=new Ne({}),i=new Ne({}),o=new Ne({}),s=new Ne(""),a=new vt(e,n,o,s,i,H,r,t.root);return a.snapshot=t.root,new Ir(new We(a,[]),t)}function bf(r){let t={},e={},n={},i="",o=new on([],t,n,i,e,H,r,null,{});return new Or("",new We(o,[]))}var vt=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,e,n,i,o,s,a,l){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=n,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(ce(c=>c[kr]))??z(void 0),this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ce(t=>sn(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ce(t=>sn(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Yi(r,t,e="emptyOnly"){let n,{routeConfig:i}=r;return t!==null&&(e==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?n={params:A(A({},t.params),r.params),data:A(A({},t.data),r.data),resolve:A(A(A(A({},r.data),t.data),i?.data),r._resolvedData)}:n={params:A({},r.params),data:A({},r.data),resolve:A(A({},r.data),r._resolvedData??{})},i&&uu(i)&&(n.resolve[kr]=i.title),n}var on=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[kr]}constructor(t,e,n,i,o,s,a,l,c){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=sn(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=sn(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(n=>n.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},Or=class extends Ji{url;constructor(t,e){super(e),this.url=t,Js(this,e)}toString(){return cu(this._root)}};function Js(r,t){t.value._routerState=r,t.children.forEach(e=>Js(r,e))}function cu(r){let t=r.children.length>0?` { ${r.children.map(cu).join(", ")} } `:"";return`${r.value}${t}`}function Ns(r){if(r.snapshot){let t=r.snapshot,e=r._futureSnapshot;r.snapshot=e,pt(t.queryParams,e.queryParams)||r.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&r.fragmentSubject.next(e.fragment),pt(t.params,e.params)||r.paramsSubject.next(e.params),Kh(t.url,e.url)||r.urlSubject.next(e.url),pt(t.data,e.data)||r.dataSubject.next(e.data)}else r.snapshot=r._futureSnapshot,r.dataSubject.next(r._futureSnapshot.data)}function qs(r,t){let e=pt(r.params,t.params)&&Zh(r.url,t.url),n=!r.parent!=!t.parent;return e&&!n&&(!r.parent||qs(r.parent,t.parent))}function uu(r){return typeof r.title=="string"||r.title===null}var du=new me(""),Fr=(()=>{class r{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=H;activateEvents=new ze;deactivateEvents=new ze;attachEvents=new ze;detachEvents=new ze;routerOutletData=Bl(void 0);parentContexts=L(ln);location=L(ic);changeDetector=L(Xt);inputBinder=L(jr,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:n,previousValue:i}=e.name;if(n)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new R(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new R(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new R(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,n){this.activated=e,this._activatedRoute=n,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,n){if(this.isActivated)throw new R(4013,!1);this._activatedRoute=e;let i=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new $s(e,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:n}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(n){return new(n||r)};static \u0275dir=be({type:r,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[wt]})}return r})(),$s=class{route;childContexts;parent;outletData;constructor(t,e,n,i){this.route=t,this.childContexts=e,this.parent=n,this.outletData=i}get(t,e){return t===vt?this.route:t===ln?this.childContexts:t===du?this.outletData:this.parent.get(t,e)}},jr=new me(""),Ys=(()=>{class r{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:n}=e,i=vi([n.queryParams,n.params,n.data]).pipe(et(([o,s,a],l)=>(a=A(A(A({},o),s),a),l===0?z(a):Promise.resolve(a)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==n||n.component===null){this.unsubscribeFromRouteData(e);return}let s=gc(n.component);if(!s){this.unsubscribeFromRouteData(e);return}for(let{templateName:a}of s.inputs)e.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(e,i)}static \u0275fac=function(n){return new(n||r)};static \u0275prov=J({token:r,factory:r.\u0275fac})}return r})(),Zs=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275cmp=Te({type:r,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(n,i){n&1&&le(0,"router-outlet")},dependencies:[Fr],encapsulation:2})}return r})();function Xs(r){let t=r.children&&r.children.map(Xs),e=t?ye(A({},r),{children:t}):A({},r);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==H&&(e.component=Zs),e}function wf(r,t,e){let n=Dr(r,t._root,e?e._root:void 0);return new Ir(n,t)}function Dr(r,t,e){if(e&&r.shouldReuseRoute(t.value,e.value.snapshot)){let n=e.value;n._futureSnapshot=t.value;let i=Sf(r,t,e);return new We(n,i)}else{if(r.shouldAttach(t.value)){let o=r.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Dr(r,a)),s}}let n=Mf(t.value),i=t.children.map(o=>Dr(r,o));return new We(n,i)}}function Sf(r,t,e){return t.children.map(n=>{for(let i of e.children)if(r.shouldReuseRoute(n.value,i.value.snapshot))return Dr(r,n,i);return Dr(r,n)})}function Mf(r){return new vt(new Ne(r.url),new Ne(r.params),new Ne(r.queryParams),new Ne(r.fragment),new Ne(r.data),r.outlet,r.component,r)}var Un=class{redirectTo;navigationBehaviorOptions;constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},pu="ngNavigationCancelingError";function Zi(r,t){let{redirectTo:e,navigationBehaviorOptions:n}=jt(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=hu(!1,Fe.Redirect);return i.url=e,i.navigationBehaviorOptions=n,i}function hu(r,t){let e=new Error(`NavigationCancelingError: ${r||""}`);return e[pu]=!0,e.cancellationCode=t,e}function Ef(r){return fu(r)&&jt(r.url)}function fu(r){return!!r&&r[pu]}var xf=(r,t,e,n)=>ce(i=>(new Hs(t,i.targetRouterState,i.currentRouterState,e,n).activate(r),i)),Hs=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,e,n,i,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){let e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Ns(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){let i=Rn(e);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],n),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,n)})}deactivateRoutes(t,e,n){let i=t.value,o=e?e.value:null;if(i===o)if(i.component){let s=n.getContext(i.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,n);else o&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let n=e.getContext(t.value.outlet),i=n&&t.value.component?n.children:e,o=Rn(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(n&&n.outlet){let s=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){let n=e.getContext(t.value.outlet),i=n&&t.value.component?n.children:e,o=Rn(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(t,e,n){let i=Rn(e);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],n),this.forwardEvent(new Ki(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Wi(t.value.snapshot))}activateRoutes(t,e,n){let i=t.value,o=e?e.value:null;if(Ns(i),i===o)if(i.component){let s=n.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,n);else if(i.component){let s=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Ns(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,n)}},Xi=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},kn=class{component;route;constructor(t,e){this.component=t,this.route=e}};function Pf(r,t,e){let n=r._root,i=t?t._root:null;return Mr(n,i,e,[n.value])}function Af(r){let t=r.routeConfig?r.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:r,guards:t}}function Bn(r,t){let e=Symbol(),n=t.get(r,e);return n===e?typeof r=="function"&&!Fl(r)?r:t.get(r):n}function Mr(r,t,e,n,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Rn(t);return r.children.forEach(s=>{Tf(s,o[s.value.outlet],e,n.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>xr(a,e.getContext(s),i)),i}function Tf(r,t,e,n,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=r.value,s=t?t.value:null,a=e?e.getContext(r.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=If(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Xi(n)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Mr(r,t,a?a.children:null,n,i):Mr(r,t,e,n,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new kn(a.outlet.component,s))}else s&&xr(t,a,i),i.canActivateChecks.push(new Xi(n)),o.component?Mr(r,null,a?a.children:null,n,i):Mr(r,null,e,n,i);return i}function If(r,t,e){if(typeof e=="function")return e(r,t);switch(e){case"pathParamsChange":return!rn(r.url,t.url);case"pathParamsOrQueryParamsChange":return!rn(r.url,t.url)||!pt(r.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!qs(r,t)||!pt(r.queryParams,t.queryParams);case"paramsChange":default:return!qs(r,t)}}function xr(r,t,e){let n=Rn(r),i=r.value;Object.entries(n).forEach(([o,s])=>{i.component?t?xr(s,t.children.getContext(o),e):xr(s,null,e):xr(s,t,e)}),i.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new kn(t.outlet.component,i)):e.canDeactivateChecks.push(new kn(null,i)):e.canDeactivateChecks.push(new kn(null,i))}function Lr(r){return typeof r=="function"}function Of(r){return typeof r=="boolean"}function Df(r){return r&&Lr(r.canLoad)}function Rf(r){return r&&Lr(r.canActivate)}function Nf(r){return r&&Lr(r.canActivateChild)}function kf(r){return r&&Lr(r.canDeactivate)}function Vf(r){return r&&Lr(r.canMatch)}function mu(r){return r instanceof Il||r?.name==="EmptyError"}var Di=Symbol("INITIAL_VALUE");function zn(){return et(r=>vi(r.map(t=>t.pipe(wn(1),kl(Di)))).pipe(ce(t=>{for(let e of t)if(e!==!0){if(e===Di)return Di;if(e===!1||Ff(e))return e}return!0}),at(t=>t!==Di),wn(1)))}function Ff(r){return jt(r)||r instanceof Un}function jf(r,t){return ke(e=>{let{targetSnapshot:n,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return s.length===0&&o.length===0?z(ye(A({},e),{guardsResult:!0})):Lf(s,n,i,r).pipe(ke(a=>a&&Of(a)?Uf(n,o,r,t):z(a)),ce(a=>ye(A({},e),{guardsResult:a})))})}function Lf(r,t,e,n){return Pe(r).pipe(ke(i=>Hf(i.component,i.route,e,t,n)),Tt(i=>i!==!0,!0))}function Uf(r,t,e,n){return Pe(t).pipe(Jt(i=>Ol(Bf(i.route.parent,n),zf(i.route,n),$f(r,i.path,e),qf(r,i.route,e))),Tt(i=>i!==!0,!0))}function zf(r,t){return r!==null&&t&&t(new Gi(r)),z(!0)}function Bf(r,t){return r!==null&&t&&t(new Hi(r)),z(!0)}function qf(r,t,e){let n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||n.length===0)return z(!0);let i=n.map(o=>as(()=>{let s=Vr(t)??e,a=Bn(o,s),l=Rf(a)?a.canActivate(t,r):ct(s,()=>a(t,r));return Lt(l).pipe(Tt())}));return z(i).pipe(zn())}function $f(r,t,e){let n=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>Af(s)).filter(s=>s!==null).map(s=>as(()=>{let a=s.guards.map(l=>{let c=Vr(s.node)??e,h=Bn(l,c),v=Nf(h)?h.canActivateChild(n,r):ct(c,()=>h(n,r));return Lt(v).pipe(Tt())});return z(a).pipe(zn())}));return z(o).pipe(zn())}function Hf(r,t,e,n,i){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return z(!0);let s=o.map(a=>{let l=Vr(t)??i,c=Bn(a,l),h=kf(c)?c.canDeactivate(r,t,e,n):ct(l,()=>c(r,t,e,n));return Lt(h).pipe(Tt())});return z(s).pipe(zn())}function Wf(r,t,e,n){let i=t.canLoad;if(i===void 0||i.length===0)return z(!0);let o=i.map(s=>{let a=Bn(s,r),l=Df(a)?a.canLoad(t,e):ct(r,()=>a(t,e));return Lt(l)});return z(o).pipe(zn(),gu(n))}function gu(r){return Al(Ae(t=>{if(typeof t!="boolean")throw Zi(r,t)}),ce(t=>t===!0))}function Gf(r,t,e,n){let i=t.canMatch;if(!i||i.length===0)return z(!0);let o=i.map(s=>{let a=Bn(s,r),l=Vf(a)?a.canMatch(t,e):ct(r,()=>a(t,e));return Lt(l)});return z(o).pipe(zn(),gu(n))}var Rr=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},Nr=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function Dn(r){return ur(new Rr(r))}function Kf(r){return ur(new R(4e3,!1))}function Qf(r){return ur(hu(!1,Fe.GuardRejected))}var Ws=class{urlSerializer;urlTree;constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let n=[],i=e.root;for(;;){if(n=n.concat(i.segments),i.numberOfChildren===0)return z(n);if(i.numberOfChildren>1||!i.children[H])return Kf(`${t.redirectTo}`);i=i.children[H]}}applyRedirectCommands(t,e,n,i,o){if(typeof e!="string"){let a=e,{queryParams:l,fragment:c,routeConfig:h,url:v,outlet:y,params:b,data:_,title:w}=i,x=ct(o,()=>a({params:b,data:_,queryParams:l,fragment:c,routeConfig:h,url:v,outlet:y,title:w}));if(x instanceof ft)throw new Nr(x);e=x}let s=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,n);if(e[0]==="/")throw new Nr(s);return s}applyRedirectCreateUrlTree(t,e,n,i){let o=this.createSegmentGroup(t,e.root,n,i);return new ft(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let n={};return Object.entries(t).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);n[i]=e[a]}else n[i]=o}),n}createSegmentGroup(t,e,n,i){let o=this.createSegments(t,e.segments,n,i),s={};return Object.entries(e.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,n,i)}),new re(o,s)}createSegments(t,e,n,i){return e.map(o=>o.path[0]===":"?this.findPosParam(t,o,i):this.findOrReturn(o,n))}findPosParam(t,e,n){let i=n[e.path.substring(1)];if(!i)throw new R(4001,!1);return i}findOrReturn(t,e){let n=0;for(let i of e){if(i.path===t.path)return e.splice(n),i;n++}return t}},Gs={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Jf(r,t,e,n,i){let o=vu(r,t,e);return o.matched?(n=yf(t,n),Gf(n,t,e,i).pipe(ce(s=>s===!0?o:A({},Gs)))):z(o)}function vu(r,t,e){if(t.path==="**")return Yf(e);if(t.path==="")return t.pathMatch==="full"&&(r.hasChildren()||e.length>0)?A({},Gs):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let i=(t.matcher||Wc)(e,r,t);if(!i)return A({},Gs);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?A(A({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function Yf(r){return{matched:!0,parameters:r.length>0?Kc(r).parameters:{},consumedSegments:r,remainingSegments:[],positionalParamSegments:{}}}function qc(r,t,e,n){return e.length>0&&em(r,e,n)?{segmentGroup:new re(t,Xf(n,new re(e,r.children))),slicedSegments:[]}:e.length===0&&tm(r,e,n)?{segmentGroup:new re(r.segments,Zf(r,e,n,r.children)),slicedSegments:e}:{segmentGroup:new re(r.segments,r.children),slicedSegments:e}}function Zf(r,t,e,n){let i={};for(let o of e)if(to(r,t,o)&&!n[rt(o)]){let s=new re([],{});i[rt(o)]=s}return A(A({},n),i)}function Xf(r,t){let e={};e[H]=t;for(let n of r)if(n.path===""&&rt(n)!==H){let i=new re([],{});e[rt(n)]=i}return e}function em(r,t,e){return e.some(n=>to(r,t,n)&&rt(n)!==H)}function tm(r,t,e){return e.some(n=>to(r,t,n))}function to(r,t,e){return(r.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function nm(r,t,e){return t.length===0&&!r.children[e]}var Ks=class{};function rm(r,t,e,n,i,o,s="emptyOnly"){return new Qs(r,t,e,n,i,s,o).recognize()}var im=31,Qs=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,e,n,i,o,s,a){this.injector=t,this.configLoader=e,this.rootComponentType=n,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Ws(this.urlSerializer,this.urlTree)}noMatchError(t){return new R(4002,`'${t.segmentGroup}'`)}recognize(){let t=qc(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(ce(({children:e,rootSnapshot:n})=>{let i=new We(n,e),o=new Or("",i),s=ru(n,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){let e=new on([],Object.freeze({}),Object.freeze(A({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),H,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,H,e).pipe(ce(n=>({children:n,rootSnapshot:e})),Qt(n=>{if(n instanceof Nr)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof Rr?this.noMatchError(n):n}))}processSegmentGroup(t,e,n,i,o){return n.segments.length===0&&n.hasChildren()?this.processChildren(t,e,n,o):this.processSegment(t,e,n,n.segments,i,!0,o).pipe(ce(s=>s instanceof We?[s]:[]))}processChildren(t,e,n,i){let o=[];for(let s of Object.keys(n.children))s==="primary"?o.unshift(s):o.push(s);return Pe(o).pipe(Jt(s=>{let a=n.children[s],l=Cf(e,s);return this.processSegmentGroup(t,l,a,s,i)}),Nl((s,a)=>(s.push(...a),s)),ls(null),Rl(),ke(s=>{if(s===null)return Dn(n);let a=_u(s);return om(a),z(a)}))}processSegment(t,e,n,i,o,s,a){return Pe(e).pipe(Jt(l=>this.processSegmentAgainstRoute(l._injector??t,e,l,n,i,o,s,a).pipe(Qt(c=>{if(c instanceof Rr)return z(null);throw c}))),Tt(l=>!!l),Qt(l=>{if(mu(l))return nm(n,i,o)?z(new Ks):Dn(n);throw l}))}processSegmentAgainstRoute(t,e,n,i,o,s,a,l){return rt(n)!==s&&(s===H||!to(i,o,n))?Dn(i):n.redirectTo===void 0?this.matchSegmentAgainstRoute(t,i,n,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,i,e,n,o,s,l):Dn(i)}expandSegmentAgainstRouteUsingRedirect(t,e,n,i,o,s,a){let{matched:l,parameters:c,consumedSegments:h,positionalParamSegments:v,remainingSegments:y}=vu(e,i,o);if(!l)return Dn(e);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>im&&(this.allowRedirects=!1));let b=new on(o,c,Object.freeze(A({},this.urlTree.queryParams)),this.urlTree.fragment,$c(i),rt(i),i.component??i._loadedComponent??null,i,Hc(i)),_=Yi(b,a,this.paramsInheritanceStrategy);b.params=Object.freeze(_.params),b.data=Object.freeze(_.data);let w=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,v,b,t);return this.applyRedirects.lineralizeSegments(i,w).pipe(ke(x=>this.processSegment(t,n,e,x.concat(y),s,!1,a)))}matchSegmentAgainstRoute(t,e,n,i,o,s){let a=Jf(e,n,i,t,this.urlSerializer);return n.path==="**"&&(e.children={}),a.pipe(et(l=>l.matched?(t=n._injector??t,this.getChildConfig(t,n,i).pipe(et(({routes:c})=>{let h=n._loadedInjector??t,{parameters:v,consumedSegments:y,remainingSegments:b}=l,_=new on(y,v,Object.freeze(A({},this.urlTree.queryParams)),this.urlTree.fragment,$c(n),rt(n),n.component??n._loadedComponent??null,n,Hc(n)),w=Yi(_,s,this.paramsInheritanceStrategy);_.params=Object.freeze(w.params),_.data=Object.freeze(w.data);let{segmentGroup:x,slicedSegments:B}=qc(e,y,b,c);if(B.length===0&&x.hasChildren())return this.processChildren(h,c,x,_).pipe(ce(X=>new We(_,X)));if(c.length===0&&B.length===0)return z(new We(_,[]));let V=rt(n)===o;return this.processSegment(h,c,x,B,V?H:o,!0,_).pipe(ce(X=>new We(_,X instanceof We?[X]:[])))}))):Dn(e)))}getChildConfig(t,e,n){return e.children?z({routes:e.children,injector:t}):e.loadChildren?e._loadedRoutes!==void 0?z({routes:e._loadedRoutes,injector:e._loadedInjector}):Wf(t,e,n,this.urlSerializer).pipe(ke(i=>i?this.configLoader.loadChildren(t,e).pipe(Ae(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):Qf(e))):z({routes:[],injector:t})}};function om(r){r.sort((t,e)=>t.value.outlet===H?-1:e.value.outlet===H?1:t.value.outlet.localeCompare(e.value.outlet))}function sm(r){let t=r.value.routeConfig;return t&&t.path===""}function _u(r){let t=[],e=new Set;for(let n of r){if(!sm(n)){t.push(n);continue}let i=t.find(o=>n.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...n.children),e.add(i)):t.push(n)}for(let n of e){let i=_u(n.children);t.push(new We(n.value,i))}return t.filter(n=>!e.has(n))}function $c(r){return r.data||{}}function Hc(r){return r.resolve||{}}function am(r,t,e,n,i,o){return ke(s=>rm(r,t,e,n,s.extractedUrl,i,o).pipe(ce(({state:a,tree:l})=>ye(A({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function lm(r,t){return ke(e=>{let{targetSnapshot:n,guards:{canActivateChecks:i}}=e;if(!i.length)return z(e);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of yu(l))s.add(c);let a=0;return Pe(s).pipe(Jt(l=>o.has(l)?cm(l,n,r,t):(l.data=Yi(l,l.parent,r).resolve,z(void 0))),Ae(()=>a++),cs(1),ke(l=>a===s.size?z(e):bt))})}function yu(r){let t=r.children.map(e=>yu(e)).flat();return[r,...t]}function cm(r,t,e,n){let i=r.routeConfig,o=r._resolve;return i?.title!==void 0&&!uu(i)&&(o[kr]=i.title),um(o,r,t,n).pipe(ce(s=>(r._resolvedData=s,r.data=Yi(r,r.parent,e).resolve,null)))}function um(r,t,e,n){let i=Fs(r);if(i.length===0)return z({});let o={};return Pe(i).pipe(ke(s=>dm(r[s],t,e,n).pipe(Tt(),Ae(a=>{if(a instanceof Un)throw Zi(new Ft,a);o[s]=a}))),cs(1),ce(()=>o),Qt(s=>mu(s)?bt:ur(s)))}function dm(r,t,e,n){let i=Vr(t)??n,o=Bn(r,i),s=o.resolve?o.resolve(t,e):ct(i,()=>o(t,e));return Lt(s)}function ks(r){return et(t=>{let e=r(t);return e?Pe(e).pipe(ce(()=>t)):z(t)})}var ea=(()=>{class r{buildTitle(e){let n,i=e.root;for(;i!==void 0;)n=this.getResolvedTitleForRoute(i)??n,i=i.children.find(o=>o.outlet===H);return n}getResolvedTitleForRoute(e){return e.data[kr]}static \u0275fac=function(n){return new(n||r)};static \u0275prov=J({token:r,factory:()=>L(Cu),providedIn:"root"})}return r})(),Cu=(()=>{class r extends ea{title;constructor(e){super(),this.title=e}updateTitle(e){let n=this.buildTitle(e);n!==void 0&&this.title.setTitle(n)}static \u0275fac=function(n){return new(n||r)(Q(jc))};static \u0275prov=J({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),cn=new me("",{providedIn:"root",factory:()=>({})}),un=new me(""),no=(()=>{class r{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=L(fc);loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return z(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let n=Lt(e.loadComponent()).pipe(ce(wu),Ae(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),_i(()=>{this.componentLoaders.delete(e)})),i=new os(n,()=>new Xe).pipe(is());return this.componentLoaders.set(e,i),i}loadChildren(e,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return z({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);let o=bu(n,this.compiler,e,this.onLoadEndListener).pipe(_i(()=>{this.childrenLoaders.delete(n)})),s=new os(o,()=>new Xe).pipe(is());return this.childrenLoaders.set(n,s),s}static \u0275fac=function(n){return new(n||r)};static \u0275prov=J({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function bu(r,t,e,n){return Lt(r.loadChildren()).pipe(ce(wu),ke(i=>i instanceof oc||Array.isArray(i)?z(i):Pe(t.compileModuleAsync(i))),ce(i=>{n&&n(r);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(e).injector,s=o.get(un,[],{optional:!0,self:!0}).flat()),{routes:s.map(Xs),injector:o}}))}function pm(r){return r&&typeof r=="object"&&"default"in r}function wu(r){return pm(r)?r.default:r}var ro=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275prov=J({token:r,factory:()=>L(hm),providedIn:"root"})}return r})(),hm=(()=>{class r{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}static \u0275fac=function(n){return new(n||r)};static \u0275prov=J({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),ta=new me(""),na=new me("");function Su(r,t,e){let n=r.get(na),i=r.get(Ie);return r.get(Be).runOutsideAngular(()=>{if(!i.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,new Promise(c=>setTimeout(c));let o,s=new Promise(c=>{o=c}),a=i.startViewTransition(()=>(o(),fm(r))),{onViewTransitionCreated:l}=n;return l&&ct(r,()=>l({transition:a,from:t,to:e})),s})}function fm(r){return new Promise(t=>{Wl({read:()=>setTimeout(t)},{injector:r})})}var ra=new me(""),io=(()=>{class r{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Xe;transitionAbortSubject=new Xe;configLoader=L(no);environmentInjector=L(Sn);destroyRef=L(Ul);urlSerializer=L(an);rootContexts=L(ln);location=L(An);inputBindingEnabled=L(jr,{optional:!0})!==null;titleStrategy=L(ea);options=L(cn,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=L(ro);createViewTransition=L(ta,{optional:!0});navigationErrorHandler=L(ra,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>z(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=i=>this.events.next(new qi(i)),n=i=>this.events.next(new $i(i));this.configLoader.onLoadEndListener=n,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let n=++this.navigationId;this.transitions?.next(ye(A({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:n}))}setupNavigations(e){return this.transitions=new Ne(null),this.transitions.pipe(at(n=>n!==null),et(n=>{let i=!1,o=!1;return z(n).pipe(et(s=>{if(this.navigationId>n.id)return this.cancelNavigationTransition(n,"",Fe.SupersededByNewNavigation),bt;this.currentTransition=n,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?ye(A({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=s.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!a&&l!=="reload"){let c="";return this.events.next(new gt(s.id,this.urlSerializer.serialize(s.rawUrl),c,Vn.IgnoredSameUrlNavigation)),s.resolve(!1),bt}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return z(s).pipe(et(c=>(this.events.next(new mt(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?bt:Promise.resolve(c))),am(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),Ae(c=>{n.targetSnapshot=c.targetSnapshot,n.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation=ye(A({},this.currentNavigation),{finalUrl:c.urlAfterRedirects});let h=new Ar(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(h)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:c,extractedUrl:h,source:v,restoredState:y,extras:b}=s,_=new mt(c,this.urlSerializer.serialize(h),v,y);this.events.next(_);let w=lu(this.rootComponentType).snapshot;return this.currentTransition=n=ye(A({},s),{targetSnapshot:w,urlAfterRedirects:h,extras:ye(A({},b),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,z(n)}else{let c="";return this.events.next(new gt(s.id,this.urlSerializer.serialize(s.extractedUrl),c,Vn.IgnoredByUrlHandlingStrategy)),s.resolve(!1),bt}}),Ae(s=>{let a=new Li(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),ce(s=>(this.currentTransition=n=ye(A({},s),{guards:Pf(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),n)),jf(this.environmentInjector,s=>this.events.next(s)),Ae(s=>{if(n.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Zi(this.urlSerializer,s.guardsResult);let a=new Ui(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),at(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Fe.GuardRejected),!1)),ks(s=>{if(s.guards.canActivateChecks.length!==0)return z(s).pipe(Ae(a=>{let l=new zi(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),et(a=>{let l=!1;return z(a).pipe(lm(this.paramsInheritanceStrategy,this.environmentInjector),Ae({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(a,"",Fe.NoDataFromResolver)}}))}),Ae(a=>{let l=new Bi(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),ks(s=>{let a=l=>{let c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(Ae(h=>{l.component=h}),ce(()=>{})));for(let h of l.children)c.push(...a(h));return c};return vi(a(s.targetSnapshot.root)).pipe(ls(null),wn(1))}),ks(()=>this.afterPreactivation()),et(()=>{let{currentSnapshot:s,targetSnapshot:a}=n,l=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return l?Pe(l).pipe(ce(()=>n)):z(n)}),ce(s=>{let a=wf(e.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=n=ye(A({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,n}),Ae(()=>{this.events.next(new Tr)}),xf(this.rootContexts,e.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),wn(1),Ae({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ke(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),Vl(this.transitionAbortSubject.pipe(Ae(s=>{throw s}))),_i(()=>{!i&&!o&&this.cancelNavigationTransition(n,"",Fe.SupersededByNewNavigation),this.currentTransition?.id===n.id&&(this.currentNavigation=null,this.currentTransition=null)}),Qt(s=>{if(this.destroyed)return n.resolve(!1),bt;if(o=!0,fu(s))this.events.next(new ht(n.id,this.urlSerializer.serialize(n.extractedUrl),s.message,s.cancellationCode)),Ef(s)?this.events.next(new Ln(s.url,s.navigationBehaviorOptions)):n.resolve(!1);else{let a=new Fn(n.id,this.urlSerializer.serialize(n.extractedUrl),s,n.targetSnapshot??void 0);try{let l=ct(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(l instanceof Un){let{message:c,cancellationCode:h}=Zi(this.urlSerializer,l);this.events.next(new ht(n.id,this.urlSerializer.serialize(n.extractedUrl),c,h)),this.events.next(new Ln(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(l){this.options.resolveNavigationPromiseOnError?n.resolve(!1):n.reject(l)}}return bt}))}))}cancelNavigationTransition(e,n,i){let o=new ht(e.id,this.urlSerializer.serialize(e.extractedUrl),n,i);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),n=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==n?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(n){return new(n||r)};static \u0275prov=J({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function mm(r){return r!==Vi}var Mu=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275prov=J({token:r,factory:()=>L(gm),providedIn:"root"})}return r})(),eo=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},gm=(()=>{class r extends eo{static \u0275fac=(()=>{let e;return function(i){return(e||(e=tt(r)))(i||r)}})();static \u0275prov=J({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Eu=(()=>{class r{urlSerializer=L(an);options=L(cn,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=L(An);urlHandlingStrategy=L(ro);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new ft;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:e,initialUrl:n,targetBrowserUrl:i}){let o=e!==void 0?this.urlHandlingStrategy.merge(e,n):n,s=i??o;return s instanceof ft?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:e,finalUrl:n,initialUrl:i}){n&&e?(this.currentUrlTree=n,this.rawUrlTree=this.urlHandlingStrategy.merge(n,i),this.routerState=e):this.rawUrlTree=i}routerState=lu(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:e}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e??this.rawUrlTree)}static \u0275fac=function(n){return new(n||r)};static \u0275prov=J({token:r,factory:()=>L(vm),providedIn:"root"})}return r})(),vm=(()=>{class r extends Eu{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(n=>{n.type==="popstate"&&setTimeout(()=>{e(n.url,n.state,"popstate")})})}handleRouterEvent(e,n){e instanceof mt?this.updateStateMemento():e instanceof gt?this.commitTransition(n):e instanceof Ar?this.urlUpdateStrategy==="eager"&&(n.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(n),n)):e instanceof Tr?(this.commitTransition(n),this.urlUpdateStrategy==="deferred"&&!n.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(n),n)):e instanceof ht&&(e.code===Fe.GuardRejected||e.code===Fe.NoDataFromResolver)?this.restoreHistory(n):e instanceof Fn?this.restoreHistory(n,!0):e instanceof Ke&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,{extras:n,id:i}){let{replaceUrl:o,state:s}=n;if(this.location.isCurrentPathEqualTo(e)||o){let a=this.browserPageId,l=A(A({},s),this.generateNgRouterState(i,a));this.location.replaceState(e,"",l)}else{let a=A(A({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(e,"",a)}}restoreHistory(e,n=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===e.finalUrl&&o===0&&(this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(n&&this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,n){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:n}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(i){return(e||(e=tt(r)))(i||r)}})();static \u0275prov=J({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function oo(r,t){r.events.pipe(at(e=>e instanceof Ke||e instanceof ht||e instanceof Fn||e instanceof gt),ce(e=>e instanceof Ke||e instanceof gt?0:(e instanceof ht?e.code===Fe.Redirect||e.code===Fe.SupersededByNewNavigation:!1)?2:1),at(e=>e!==2),wn(1)).subscribe(()=>{t()})}var _m={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ym={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},je=(()=>{class r{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=L(gs);stateManager=L(Eu);options=L(cn,{optional:!0})||{};pendingTasks=L(zl);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=L(io);urlSerializer=L(an);location=L(An);urlHandlingStrategy=L(ro);_events=new Xe;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=L(Mu);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=L(un,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!L(jr,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Pl;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(n=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(n,o),n instanceof ht&&n.code!==Fe.Redirect&&n.code!==Fe.SupersededByNewNavigation)this.navigated=!0;else if(n instanceof Ke)this.navigated=!0;else if(n instanceof Ln){let s=n.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(n.url,i.currentRawUrl),l=A({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||mm(i.source)},s);this.scheduleNavigation(a,Vi,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}bm(n)&&this._events.next(n)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Vi,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,n,i)=>{this.navigateToSyncWithBrowser(e,i,n)})}navigateToSyncWithBrowser(e,n,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=A({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(e);this.scheduleNavigation(a,n,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Xs),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,n={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=n,c=l?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=A(A({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let v;try{let y=i?i.snapshot:this.routerState.snapshot.root;v=iu(y)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),v=this.currentUrlTree.root}return ou(v,e,h,c??null)}navigateByUrl(e,n={skipLocationChange:!1}){let i=jt(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Vi,null,n)}navigate(e,n={skipLocationChange:!1}){return Cm(e),this.navigateByUrl(this.createUrlTree(e,n),n)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,n){let i;if(n===!0?i=A({},_m):n===!1?i=A({},ym):i=n,jt(e))return Lc(this.currentUrlTree,e,i);let o=this.parseUrl(e);return Lc(this.currentUrlTree,o,i)}removeEmptyProps(e){return Object.entries(e).reduce((n,[i,o])=>(o!=null&&(n[i]=o),n),{})}scheduleNavigation(e,n,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((v,y)=>{a=v,l=y});let h=this.pendingTasks.add();return oo(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:n,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(v=>Promise.reject(v))}static \u0275fac=function(n){return new(n||r)};static \u0275prov=J({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function Cm(r){for(let t=0;t<r.length;t++)if(r[t]==null)throw new R(4008,!1)}function bm(r){return!(r instanceof Tr)&&!(r instanceof Ln)}var so=(()=>{class r{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Xe;constructor(e,n,i,o,s,a){this.router=e,this.route=n,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=e.events.subscribe(c=>{c instanceof Ke&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(jt(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,n,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(e!==0||n||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let n=this.href===null?null:nc(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(e,n){let i=this.renderer,o=this.el.nativeElement;n!==null?i.setAttribute(o,e,n):i.removeAttribute(o,e)}get urlTree(){return this.routerLinkInput===null?null:jt(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(n){return new(n||r)(k(je),k(vt),Ll("tabindex"),k(St),k(Yt),k(gr))};static \u0275dir=be({type:r,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,i){n&1&&P("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),n&2&&Dt("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",en],skipLocationChange:[2,"skipLocationChange","skipLocationChange",en],replaceUrl:[2,"replaceUrl","replaceUrl",en],routerLink:"routerLink"},features:[wt]})}return r})();var Ur=class{};var xu=(()=>{class r{router;injector;preloadingStrategy;loader;subscription;constructor(e,n,i,o){this.router=e,this.injector=n,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(at(e=>e instanceof Ke),Jt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,n){let i=[];for(let o of n){o.providers&&!o._injector&&(o._injector=bi(o.providers,e,`Route: ${o.path}`));let s=o._injector??e,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Pe(i).pipe(ss())}preloadConfig(e,n){return this.preloadingStrategy.preload(n,()=>{let i;n.loadChildren&&n.canLoad===void 0?i=this.loader.loadChildren(e,n):i=z(null);let o=i.pipe(ke(s=>s===null?z(void 0):(n._loadedRoutes=s.routes,n._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));if(n.loadComponent&&!n._loadedComponent){let s=this.loader.loadComponent(n);return Pe([o,s]).pipe(ss())}else return o})}static \u0275fac=function(n){return new(n||r)(Q(je),Q(Sn),Q(Ur),Q(no))};static \u0275prov=J({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Pu=new me(""),wm=(()=>{class r{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(e,n,i,o,s={}){this.urlSerializer=e,this.transitions=n,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof mt?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Ke?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof gt&&e.code===Vn.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof jn&&(e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,n){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new jn(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,n))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(n){rc()};static \u0275prov=J({token:r,factory:r.\u0275fac})}return r})();function oa(r,...t){return ds([{provide:un,multi:!0,useValue:r},[],{provide:vt,useFactory:Au,deps:[je]},{provide:_s,multi:!0,useFactory:Tu},t.map(e=>e.\u0275providers)])}function Au(r){return r.routerState.root}function zr(r,t){return{\u0275kind:r,\u0275providers:t}}function Tu(){let r=L(Mn);return t=>{let e=r.get(ys);if(t!==e.components[0])return;let n=r.get(je),i=r.get(Iu);r.get(sa)===1&&n.initialNavigation(),r.get(Ru,null,us.Optional)?.setUpPreloading(),r.get(Pu,null,us.Optional)?.init(),n.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Iu=new me("",{factory:()=>new Xe}),sa=new me("",{providedIn:"root",factory:()=>1});function Ou(){let r=[{provide:sa,useValue:0},vs(()=>{let t=L(Mn);return t.get(yc,Promise.resolve()).then(()=>new Promise(n=>{let i=t.get(je),o=t.get(Iu);oo(i,()=>{n(!0)}),t.get(io).afterPreactivation=()=>(n(!0),o.closed?z(void 0):o),i.initialNavigation()}))})];return zr(2,r)}function Du(){let r=[vs(()=>{L(je).setUpLocationChangeListener()}),{provide:sa,useValue:2}];return zr(3,r)}var Ru=new me("");function Nu(r){return zr(0,[{provide:Ru,useExisting:xu},{provide:Ur,useExisting:r}])}function ku(){return zr(8,[Ys,{provide:jr,useExisting:Ys}])}function Vu(r){yi("NgRouterViewTransitions");let t=[{provide:ta,useValue:Su},{provide:na,useValue:A({skipNextTransition:!!r?.skipInitialTransition},r)}];return zr(9,t)}var Fu=[An,{provide:an,useClass:Ft},je,ln,{provide:vt,useFactory:Au,deps:[je]},no,[]],aa=(()=>{class r{constructor(){}static forRoot(e,n){return{ngModule:r,providers:[Fu,[],{provide:un,multi:!0,useValue:e},[],n?.errorHandler?{provide:ra,useValue:n.errorHandler}:[],{provide:cn,useValue:n||{}},n?.useHash?Mm():Em(),Sm(),n?.preloadingStrategy?Nu(n.preloadingStrategy).\u0275providers:[],n?.initialNavigation?xm(n):[],n?.bindToComponentInputs?ku().\u0275providers:[],n?.enableViewTransitions?Vu().\u0275providers:[],Pm()]}}static forChild(e){return{ngModule:r,providers:[{provide:un,multi:!0,useValue:e}]}}static \u0275fac=function(n){return new(n||r)};static \u0275mod=Ot({type:r});static \u0275inj=It({})}return r})();function Sm(){return{provide:Pu,useFactory:()=>{let r=L(xc),t=L(Be),e=L(cn),n=L(io),i=L(an);return e.scrollOffset&&r.setOffset(e.scrollOffset),new wm(i,n,r,t,e)}}}function Mm(){return{provide:gr,useClass:bc}}function Em(){return{provide:gr,useClass:Cc}}function xm(r){return[r.initialNavigation==="disabled"?Du().\u0275providers:[],r.initialNavigation==="enabledBlocking"?Ou().\u0275providers:[]]}var ia=new me("");function Pm(){return[{provide:ia,useFactory:Tu},{provide:_s,multi:!0,useExisting:ia}]}var Ku=(()=>{class r{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,n){this._renderer=e,this._elementRef=n}setProperty(e,n){this._renderer.setProperty(this._elementRef.nativeElement,e,n)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(n){return new(n||r)(k(St),k(Yt))};static \u0275dir=be({type:r})}return r})(),mo=(()=>{class r extends Ku{static \u0275fac=(()=>{let e;return function(i){return(e||(e=tt(r)))(i||r)}})();static \u0275dir=be({type:r,features:[qe]})}return r})(),Kr=new me("");var Am={provide:Kr,useExisting:lt(()=>zt),multi:!0};function Tm(){let r=Nt()?Nt().getUserAgent():"";return/android (\d+)/.test(r.toLowerCase())}var Im=new me(""),zt=(()=>{class r extends Ku{_compositionMode;_composing=!1;constructor(e,n,i){super(e,n),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!Tm())}writeValue(e){let n=e??"";this.setProperty("value",n)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(n){return new(n||r)(k(St),k(Yt),k(Im,8))};static \u0275dir=be({type:r,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,i){n&1&&P("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[ut([Am]),qe]})}return r})();function Om(r){return r==null||Qu(r)===0}function Qu(r){return r==null?null:Array.isArray(r)||typeof r=="string"?r.length:r instanceof Set?r.size:null}var Qr=new me(""),Ju=new me("");function Dm(r){return t=>{if(t.value==null||r==null)return null;let e=parseFloat(t.value);return!isNaN(e)&&e<r?{min:{min:r,actual:t.value}}:null}}function Rm(r){return Om(r.value)?{required:!0}:null}function Nm(r){return t=>{let e=t.value?.length??Qu(t.value);return e!==null&&e>r?{maxlength:{requiredLength:r,actualLength:e}}:null}}function Lu(r){return null}function Yu(r){return r!=null}function Zu(r){return wi(r)?Pe(r):r}function Xu(r){let t={};return r.forEach(e=>{t=e!=null?A(A({},t),e):t}),Object.keys(t).length===0?null:t}function ed(r,t){return t.map(e=>e(r))}function km(r){return!r.validate}function td(r){return r.map(t=>km(t)?t:e=>t.validate(e))}function Vm(r){if(!r)return null;let t=r.filter(Yu);return t.length==0?null:function(e){return Xu(ed(e,t))}}function da(r){return r!=null?Vm(td(r)):null}function Fm(r){if(!r)return null;let t=r.filter(Yu);return t.length==0?null:function(e){let n=ed(e,t).map(Zu);return Dl(n).pipe(ce(Xu))}}function pa(r){return r!=null?Fm(td(r)):null}function Uu(r,t){return r===null?[t]:Array.isArray(r)?[...r,t]:[r,t]}function jm(r){return r._rawValidators}function Lm(r){return r._rawAsyncValidators}function la(r){return r?Array.isArray(r)?r:[r]:[]}function lo(r,t){return Array.isArray(r)?r.includes(t):r===t}function zu(r,t){let e=la(t);return la(r).forEach(i=>{lo(e,i)||e.push(i)}),e}function Bu(r,t){return la(t).filter(e=>!lo(r,e))}var co=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=da(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=pa(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},Wn=class extends co{name;get formDirective(){return null}get path(){return null}},Gr=class extends co{_parent=null;name=null;valueAccessor=null},uo=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Um={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},yC=ye(A({},Um),{"[class.ng-submitted]":"isSubmitted"}),Gn=(()=>{class r extends uo{constructor(e){super(e)}static \u0275fac=function(n){return new(n||r)(k(Gr,2))};static \u0275dir=be({type:r,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,i){n&2&&$e("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[qe]})}return r})(),go=(()=>{class r extends uo{constructor(e){super(e)}static \u0275fac=function(n){return new(n||r)(k(Wn,10))};static \u0275dir=be({type:r,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,i){n&2&&$e("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[qe]})}return r})();var Br="VALID",ao="INVALID",$n="PENDING",qr="DISABLED",Ut=class{},po=class extends Ut{value;source;constructor(t,e){super(),this.value=t,this.source=e}},Hr=class extends Ut{pristine;source;constructor(t,e){super(),this.pristine=t,this.source=e}},Wr=class extends Ut{touched;source;constructor(t,e){super(),this.touched=t,this.source=e}},Hn=class extends Ut{status;source;constructor(t,e){super(),this.status=t,this.source=e}},ca=class extends Ut{source;constructor(t){super(),this.source=t}},ua=class extends Ut{source;constructor(t){super(),this.source=t}};function nd(r){return(vo(r)?r.validators:r)||null}function zm(r){return Array.isArray(r)?da(r):r||null}function rd(r,t){return(vo(t)?t.asyncValidators:r)||null}function Bm(r){return Array.isArray(r)?pa(r):r||null}function vo(r){return r!=null&&!Array.isArray(r)&&typeof r=="object"}function qm(r,t,e){let n=r.controls;if(!(t?Object.keys(n):n).length)throw new R(1e3,"");if(!n[e])throw new R(1001,"")}function $m(r,t,e){r._forEachChild((n,i)=>{if(e[i]===void 0)throw new R(1002,"")})}var ho=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,e){this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Rt(this.statusReactive)}set status(t){Rt(()=>this.statusReactive.set(t))}_status=mr(()=>this.statusReactive());statusReactive=dr(void 0);get valid(){return this.status===Br}get invalid(){return this.status===ao}get pending(){return this.status==$n}get disabled(){return this.status===qr}get enabled(){return this.status!==qr}errors;get pristine(){return Rt(this.pristineReactive)}set pristine(t){Rt(()=>this.pristineReactive.set(t))}_pristine=mr(()=>this.pristineReactive());pristineReactive=dr(!0);get dirty(){return!this.pristine}get touched(){return Rt(this.touchedReactive)}set touched(t){Rt(()=>this.touchedReactive.set(t))}_touched=mr(()=>this.touchedReactive());touchedReactive=dr(!1);get untouched(){return!this.touched}_events=new Xe;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(zu(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(zu(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Bu(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Bu(t,this._rawAsyncValidators))}hasValidator(t){return lo(this._rawValidators,t)}hasAsyncValidator(t){return lo(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let n=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(ye(A({},t),{sourceControl:n})),e&&t.emitEvent!==!1&&this._events.next(new Wr(!0,n))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let n=t.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:n})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n),e&&t.emitEvent!==!1&&this._events.next(new Wr(!1,n))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let n=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(ye(A({},t),{sourceControl:n})),e&&t.emitEvent!==!1&&this._events.next(new Hr(!1,n))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let n=t.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),e&&t.emitEvent!==!1&&this._events.next(new Hr(!0,n))}markAsPending(t={}){this.status=$n;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Hn(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(ye(A({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=qr,this.errors=null,this._forEachChild(i=>{i.disable(ye(A({},t),{onlySelf:!0}))}),this._updateValue();let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new po(this.value,n)),this._events.next(new Hn(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ye(A({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=Br,this._forEachChild(n=>{n.enable(ye(A({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(ye(A({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let n=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Br||this.status===$n)&&this._runAsyncValidator(n,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new po(this.value,e)),this._events.next(new Hn(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(ye(A({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?qr:Br}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=$n,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let n=Zu(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((n,i)=>n&&n._find(i),this)}getError(t,e){let n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,n){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||n)&&this._events.next(new Hn(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,n)}_initObservables(){this.valueChanges=new ze,this.statusChanges=new ze}_calculateStatus(){return this._allControlsDisabled()?qr:this.errors?ao:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus($n)?$n:this._anyControlsHaveStatus(ao)?ao:Br}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let n=!this._anyControlsDirty(),i=this.pristine!==n;this.pristine=n,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),i&&this._events.next(new Hr(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new Wr(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){vo(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=zm(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=Bm(this._rawAsyncValidators)}},fo=class extends ho{constructor(t,e,n){super(nd(e),rd(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,n={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){$m(this,!0,t),Object.keys(t).forEach(n=>{qm(this,!0,n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(n=>{let i=this.controls[n];i&&i.patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,i)=>{n.reset(t?t[i]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,n)=>n._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,n]of Object.entries(this.controls))if(this.contains(e)&&t(n))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,n,i)=>((n.enabled||this.disabled)&&(e[i]=n.value),e))}_reduceChildren(t,e){let n=t;return this._forEachChild((i,o)=>{n=e(n,i,o)}),n}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var ha=new me("",{providedIn:"root",factory:()=>fa}),fa="always";function Hm(r,t){return[...t.path,r]}function id(r,t,e=fa){od(r,t),t.valueAccessor.writeValue(r.value),(r.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(r.disabled),Gm(r,t),Qm(r,t),Km(r,t),Wm(r,t)}function qu(r,t){r.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Wm(r,t){if(t.valueAccessor.setDisabledState){let e=n=>{t.valueAccessor.setDisabledState(n)};r.registerOnDisabledChange(e),t._registerOnDestroy(()=>{r._unregisterOnDisabledChange(e)})}}function od(r,t){let e=jm(r);t.validator!==null?r.setValidators(Uu(e,t.validator)):typeof e=="function"&&r.setValidators([e]);let n=Lm(r);t.asyncValidator!==null?r.setAsyncValidators(Uu(n,t.asyncValidator)):typeof n=="function"&&r.setAsyncValidators([n]);let i=()=>r.updateValueAndValidity();qu(t._rawValidators,i),qu(t._rawAsyncValidators,i)}function Gm(r,t){t.valueAccessor.registerOnChange(e=>{r._pendingValue=e,r._pendingChange=!0,r._pendingDirty=!0,r.updateOn==="change"&&sd(r,t)})}function Km(r,t){t.valueAccessor.registerOnTouched(()=>{r._pendingTouched=!0,r.updateOn==="blur"&&r._pendingChange&&sd(r,t),r.updateOn!=="submit"&&r.markAsTouched()})}function sd(r,t){r._pendingDirty&&r.markAsDirty(),r.setValue(r._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1}function Qm(r,t){let e=(n,i)=>{t.valueAccessor.writeValue(n),i&&t.viewToModelUpdate(n)};r.registerOnChange(e),t._registerOnDestroy(()=>{r._unregisterOnChange(e)})}function Jm(r,t){r==null,od(r,t)}function Ym(r,t){if(!r.hasOwnProperty("model"))return!1;let e=r.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function Zm(r){return Object.getPrototypeOf(r.constructor)===mo}function Xm(r,t){r._syncPendingControls(),t.forEach(e=>{let n=e.control;n.updateOn==="submit"&&n._pendingChange&&(e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function eg(r,t){if(!t)return null;Array.isArray(t);let e,n,i;return t.forEach(o=>{o.constructor===zt?e=o:Zm(o)?n=o:i=o}),i||n||e||null}var tg={provide:Wn,useExisting:lt(()=>Jr)},$r=Promise.resolve(),Jr=(()=>{class r extends Wn{callSetDisabledState;get submitted(){return Rt(this.submittedReactive)}_submitted=mr(()=>this.submittedReactive());submittedReactive=dr(!1);_directives=new Set;form;ngSubmit=new ze;options;constructor(e,n,i){super(),this.callSetDisabledState=i,this.form=new fo({},da(e),pa(n))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){$r.then(()=>{let n=this._findContainer(e.path);e.control=n.registerControl(e.name,e.control),id(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){$r.then(()=>{let n=this._findContainer(e.path);n&&n.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){$r.then(()=>{let n=this._findContainer(e.path),i=new fo({});Jm(i,e),n.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){$r.then(()=>{let n=this._findContainer(e.path);n&&n.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,n){$r.then(()=>{this.form.get(e.path).setValue(n)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),Xm(this.form,this._directives),this.ngSubmit.emit(e),this.form._events.next(new ca(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1),this.form._events.next(new ua(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static \u0275fac=function(n){return new(n||r)(k(Qr,10),k(Ju,10),k(ha,8))};static \u0275dir=be({type:r,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,i){n&1&&P("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[ut([tg]),qe]})}return r})();function $u(r,t){let e=r.indexOf(t);e>-1&&r.splice(e,1)}function Hu(r){return typeof r=="object"&&r!==null&&Object.keys(r).length===2&&"value"in r&&"disabled"in r}var ng=class extends ho{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,e,n){super(nd(e),rd(n,e)),this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),vo(e)&&(e.nonNullable||e.initialValueIsDefault)&&(Hu(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){$u(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){$u(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){Hu(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var rg={provide:Gr,useExisting:lt(()=>dn)},Wu=Promise.resolve(),dn=(()=>{class r extends Gr{_changeDetectorRef;callSetDisabledState;control=new ng;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new ze;constructor(e,n,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=e,this._setValidators(n),this._setAsyncValidators(i),this.valueAccessor=eg(this,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let n=e.name.previousValue;this.formDirective.removeControl({name:n,path:this._getPath(n)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),Ym(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){id(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){Wu.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let n=e.isDisabled.currentValue,i=n!==0&&en(n);Wu.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?Hm(e,this._parent):[e]}static \u0275fac=function(n){return new(n||r)(k(Wn,9),k(Qr,10),k(Ju,10),k(Kr,10),k(Xt,8),k(ha,8))};static \u0275dir=be({type:r,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[ut([rg]),qe,wt]})}return r})();var _o=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275dir=be({type:r,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return r})(),ig={provide:Kr,useExisting:lt(()=>ma),multi:!0},ma=(()=>{class r extends mo{writeValue(e){let n=e??"";this.setProperty("value",n)}registerOnChange(e){this.onChange=n=>{e(n==""?null:parseFloat(n))}}static \u0275fac=(()=>{let e;return function(i){return(e||(e=tt(r)))(i||r)}})();static \u0275dir=be({type:r,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(n,i){n&1&&P("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[ut([ig]),qe]})}return r})();var og={provide:Kr,useExisting:lt(()=>Kn),multi:!0};function ad(r,t){return r==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${r}: ${t}`.slice(0,50))}function sg(r){return r.split(":")[0]}var Kn=(()=>{class r extends mo{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let n=this._getOptionId(e),i=ad(n,e);this.setProperty("value",i)}registerOnChange(e){this.onChange=n=>{this.value=this._getOptionValue(n),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let n of this._optionMap.keys())if(this._compareWith(this._optionMap.get(n),e))return n;return null}_getOptionValue(e){let n=sg(e);return this._optionMap.has(n)?this._optionMap.get(n):e}static \u0275fac=(()=>{let e;return function(i){return(e||(e=tt(r)))(i||r)}})();static \u0275dir=be({type:r,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(n,i){n&1&&P("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[ut([og]),qe]})}return r})(),yo=(()=>{class r{_element;_renderer;_select;id;constructor(e,n,i){this._element=e,this._renderer=n,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(ad(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(n){return new(n||r)(k(Yt),k(St),k(Kn,9))};static \u0275dir=be({type:r,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return r})(),ag={provide:Kr,useExisting:lt(()=>ld),multi:!0};function Gu(r,t){return r==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${r}: ${t}`.slice(0,50))}function lg(r){return r.split(":")[0]}var ld=(()=>{class r extends mo{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let n;if(Array.isArray(e)){let i=e.map(o=>this._getOptionId(o));n=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else n=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(n)}registerOnChange(e){this.onChange=n=>{let i=[],o=n.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],c=this._getOptionValue(l.value);i.push(c)}}else{let s=n.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let c=this._getOptionValue(l.value);i.push(c)}}}this.value=i,e(i)}}_registerOption(e){let n=(this._idCounter++).toString();return this._optionMap.set(n,e),n}_getOptionId(e){for(let n of this._optionMap.keys())if(this._compareWith(this._optionMap.get(n)._value,e))return n;return null}_getOptionValue(e){let n=lg(e);return this._optionMap.has(n)?this._optionMap.get(n)._value:e}static \u0275fac=(()=>{let e;return function(i){return(e||(e=tt(r)))(i||r)}})();static \u0275dir=be({type:r,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(n,i){n&1&&P("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[ut([ag]),qe]})}return r})(),Co=(()=>{class r{_element;_renderer;_select;id;_value;constructor(e,n,i){this._element=e,this._renderer=n,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(Gu(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(Gu(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(n){return new(n||r)(k(Yt),k(St),k(ld,9))};static \u0275dir=be({type:r,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return r})();function cg(r){return typeof r=="number"?r:parseInt(r,10)}function ug(r){return typeof r=="number"?r:parseFloat(r)}var ga=(()=>{class r{_validator=Lu;_onChange;_enabled;ngOnChanges(e){if(this.inputName in e){let n=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(n),this._validator=this._enabled?this.createValidator(n):Lu,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static \u0275fac=function(n){return new(n||r)};static \u0275dir=be({type:r,features:[wt]})}return r})();var dg={provide:Qr,useExisting:lt(()=>va),multi:!0},va=(()=>{class r extends ga{min;inputName="min";normalizeInput=e=>ug(e);createValidator=e=>Dm(e);static \u0275fac=(()=>{let e;return function(i){return(e||(e=tt(r)))(i||r)}})();static \u0275dir=be({type:r,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(n,i){n&2&&Dt("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[ut([dg]),qe]})}return r})(),pg={provide:Qr,useExisting:lt(()=>Yr),multi:!0};var Yr=(()=>{class r extends ga{required;inputName="required";normalizeInput=en;createValidator=e=>Rm;enabled(e){return e}static \u0275fac=(()=>{let e;return function(i){return(e||(e=tt(r)))(i||r)}})();static \u0275dir=be({type:r,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(n,i){n&2&&Dt("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[ut([pg]),qe]})}return r})();var hg={provide:Qr,useExisting:lt(()=>_a),multi:!0},_a=(()=>{class r extends ga{maxlength;inputName="maxlength";normalizeInput=e=>cg(e);createValidator=e=>Nm(e);static \u0275fac=(()=>{let e;return function(i){return(e||(e=tt(r)))(i||r)}})();static \u0275dir=be({type:r,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(n,i){n&2&&Dt("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},standalone:!1,features:[ut([hg]),qe]})}return r})();var fg=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275mod=Ot({type:r});static \u0275inj=It({})}return r})();var Qn=(()=>{class r{static withConfig(e){return{ngModule:r,providers:[{provide:ha,useValue:e.callSetDisabledState??fa}]}}static \u0275fac=function(n){return new(n||r)};static \u0275mod=Ot({type:r});static \u0275inj=It({imports:[fg]})}return r})();var Bt=class r{constructor(t,e){this.http=t;if(this.isBrowser=Ve(e),this.isBrowser){let n=sessionStorage.getItem("usuario");n&&this.usuario$.next(JSON.parse(n))}}isBrowser;usuario$=new Ne(null);API_URL=this.isLocalhost()?"http://localhost:3000/api":"https://comunidadvapps.com/api.php";isLocalhost(){return typeof window<"u"&&window.location.hostname==="localhost"}registrarUsuario(t){let e=this.isLocalhost()?`${this.API_URL}/registrar`:`${this.API_URL}?consulta=registrar`;return this.http.post(e,t)}loginUsuario(t){let e=this.isLocalhost()?`${this.API_URL}/login`:`${this.API_URL}?consulta=login`;return this.http.post(e,t)}guardarToken(t){this.isBrowser&&sessionStorage.setItem("token",t)}getToken(){return this.isBrowser?sessionStorage.getItem("token"):null}actualizarUsuario(t){this.isBrowser&&(sessionStorage.setItem("usuario",JSON.stringify(t)),this.usuario$.next(t))}limpiarUsuario(){this.isBrowser&&(sessionStorage.removeItem("usuario"),sessionStorage.removeItem("token"),this.usuario$.next(null))}static \u0275fac=function(e){return new(e||r)(Q(In),Q(xe))};static \u0275prov=J({token:r,factory:r.\u0275fac,providedIn:"root"})};function mg(r,t){r&1&&(u(0,"li")(1,"a",24),p(2,"MAPA"),d()())}function gg(r,t){r&1&&(u(0,"li")(1,"a",25),p(2,"JUEGO"),d()())}function vg(r,t){if(r&1){let e=Y();Si(0),u(1,"button",26),P("click",function(){M(e);let i=C();return E(i.abrirModal())}),le(2,"img",27),p(3," Iniciar sesi\xF3n "),d(),Mi()}}function _g(r,t){if(r&1){let e=Y();u(0,"div",34)(1,"button",35),P("click",function(){M(e);let i=C(2);return E(i.irAPerfil())}),p(2,"Mi perfil"),d(),u(3,"button",35),P("click",function(){M(e);let i=C(2);return E(i.cambiarContrasena())}),p(4,"Cambiar contrase\xF1a"),d(),u(5,"button",36),P("click",function(){M(e);let i=C(2);return E(i.cerrarSesion())}),p(6,"Cerrar sesi\xF3n"),d()()}}function yg(r,t){if(r&1){let e=Y();u(0,"div",28),le(1,"img",29),u(2,"div",30),P("click",function(){M(e);let i=C();return E(i.toggleMenu())}),u(3,"p",31),p(4,"\xA1Bienvenido,"),d(),u(5,"p",32),p(6),d()(),q(7,_g,7,0,"div",33),d()}if(r&2){let e=C();m(6),U(e.usuarioLogueado.nombre),m(),S("ngIf",e.menuVisible)}}function Cg(r,t){if(r&1){let e=Y();u(0,"li")(1,"a",37),P("click",function(){M(e);let i=C();return E(i.toggleSidebar())}),p(2,"MAPA"),d()()}}function bg(r,t){if(r&1){let e=Y();u(0,"li")(1,"a",38),P("click",function(){M(e);let i=C();return E(i.toggleSidebar())}),p(2,"JUEGO"),d()()}}function wg(r,t){if(r&1){let e=Y();u(0,"div",39),P("click",function(){M(e);let i=C();return E(i.abrirModal())}),le(1,"img",40),u(2,"div",41)(3,"span",32),p(4,"Iniciar sesi\xF3n"),d()()()}}function Sg(r,t){if(r&1){let e=Y();u(0,"div",44)(1,"button",35),P("click",function(){M(e);let i=C(2);return E(i.irAPerfil())}),p(2,"Mi perfil"),d(),u(3,"button",35),P("click",function(){M(e);let i=C(2);return E(i.cambiarContrasena())}),p(4,"Cambiar contrase\xF1a"),d(),u(5,"button",36),P("click",function(){M(e);let i=C(2);return E(i.cerrarSesion())}),p(6,"Cerrar sesi\xF3n"),d()()}}function Mg(r,t){if(r&1){let e=Y();u(0,"div")(1,"div",39),P("click",function(){M(e);let i=C();return E(i.toggleSidebarMenu())}),le(2,"img",42),u(3,"div",41)(4,"span",32),p(5),d()()(),q(6,Sg,7,0,"div",43),d()}if(r&2){let e=C();m(5),U(e.usuarioLogueado.nombre||e.usuarioLogueado.correo),m(),S("ngIf",e.menuVisibleSidebar)}}function Eg(r,t){r&1&&le(0,"div",45)}function xg(r,t){r&1&&(u(0,"h2"),p(1,"Iniciar Sesi\xF3n"),d())}function Pg(r,t){r&1&&(u(0,"h2"),p(1,"Crear Cuenta"),d())}function Ag(r,t){if(r&1){let e=Y();u(0,"form",55),P("ngSubmit",function(){M(e);let i=C(2);return E(i.login())}),u(1,"label",56),p(2,"Correo electr\xF3nico"),d(),u(3,"input",57),_e("ngModelChange",function(i){M(e);let o=C(2);return ve(o.loginEmail,i)||(o.loginEmail=i),E(i)}),d(),u(4,"label",58),p(5,"Contrase\xF1a"),d(),u(6,"input",59),_e("ngModelChange",function(i){M(e);let o=C(2);return ve(o.loginPassword,i)||(o.loginPassword=i),E(i)}),d(),u(7,"button",60),p(8,"Ingresar"),d()()}if(r&2){let e=C(2);m(3),ge("ngModel",e.loginEmail),m(3),ge("ngModel",e.loginPassword)}}function Tg(r,t){if(r&1&&(u(0,"div",81),p(1),d()),r&2){let e=C(3);m(),we(" ",e.mensajeErrorDocumento," ")}}function Ig(r,t){if(r&1&&(u(0,"small",82),p(1),d()),r&2){let e=C(3);m(),U(e.errorEdad)}}function Og(r,t){if(r&1){let e=Y();u(0,"form",55),P("ngSubmit",function(){M(e);let i=C(2);return E(i.registrar())}),u(1,"label",61),p(2,"Nombres"),d(),u(3,"input",62),_e("ngModelChange",function(i){M(e);let o=C(2);return ve(o.registroNombre,i)||(o.registroNombre=i),E(i)}),d(),u(4,"label",63),p(5,"Apellidos"),d(),u(6,"input",64),_e("ngModelChange",function(i){M(e);let o=C(2);return ve(o.registroApellidos,i)||(o.registroApellidos=i),E(i)}),d(),u(7,"label",65),p(8,"Tipo de documento"),d(),u(9,"div",66)(10,"select",67),_e("ngModelChange",function(i){M(e);let o=C(2);return ve(o.registroTipoDoc,i)||(o.registroTipoDoc=i),E(i)}),P("change",function(){M(e);let i=C(2);return E(i.limpiarDocumento())}),u(11,"option",68),p(12,"DNI"),d(),u(13,"option",69),p(14,"Carn\xE9 de Extranjer\xEDa"),d()(),u(15,"input",70),_e("ngModelChange",function(i){M(e);let o=C(2);return ve(o.registroDocumento,i)||(o.registroDocumento=i),E(i)}),P("keypress",function(i){M(e);let o=C(2);return E(o.soloNumeros(i))})("input",function(){M(e);let i=C(2);return E(i.validarDocumento())}),d()(),q(16,Tg,2,1,"div",71),u(17,"label",72),p(18,"Fecha de nacimiento"),d(),u(19,"input",73),_e("ngModelChange",function(i){M(e);let o=C(2);return ve(o.registroFechaNacimiento,i)||(o.registroFechaNacimiento=i),E(i)}),P("change",function(){M(e);let i=C(2);return E(i.validarEdad())}),d(),q(20,Ig,2,1,"small",74),u(21,"label",75),p(22,"Correo electr\xF3nico"),d(),u(23,"input",76),_e("ngModelChange",function(i){M(e);let o=C(2);return ve(o.registroCorreo,i)||(o.registroCorreo=i),E(i)}),d(),u(24,"label",77),p(25,"Contrase\xF1a"),d(),u(26,"input",78),_e("ngModelChange",function(i){M(e);let o=C(2);return ve(o.registroClave,i)||(o.registroClave=i),E(i)}),d(),u(27,"input",79),_e("ngModelChange",function(i){M(e);let o=C(2);return ve(o.registroUbicacion,i)||(o.registroUbicacion=i),E(i)}),d(),u(28,"button",80),p(29,"Registrar"),d()()}if(r&2){let e=C(2);m(3),ge("ngModel",e.registroNombre),m(3),ge("ngModel",e.registroApellidos),m(4),ge("ngModel",e.registroTipoDoc),m(5),ge("ngModel",e.registroDocumento),m(),S("ngIf",e.documentoInvalido),m(3),ge("ngModel",e.registroFechaNacimiento),m(),S("ngIf",e.errorEdad),m(3),ge("ngModel",e.registroCorreo),m(3),ge("ngModel",e.registroClave),m(),ge("ngModel",e.registroUbicacion),m(),S("disabled",e.documentoInvalido)}}function Dg(r,t){r&1&&(u(0,"button",83),le(1,"img",84),p(2," Continuar con Google "),d())}function Rg(r,t){if(r&1){let e=Y();Si(0),p(1," \xBFNo tienes cuenta? "),u(2,"a",85),P("click",function(i){return M(e),C(2).cambiarAModoRegistro(),E(i.preventDefault())}),p(3,"Reg\xEDstrate"),d(),Mi()}}function Ng(r,t){if(r&1){let e=Y();Si(0),p(1," \xBFYa tienes cuenta? "),u(2,"a",85),P("click",function(i){return M(e),C(2).cambiarAModoLogin(),E(i.preventDefault())}),p(3,"Inicia sesi\xF3n"),d(),Mi()}}function kg(r,t){if(r&1&&(u(0,"span",86),p(1),d()),r&2){let e=C(2);m(),we(" ",e.mensajeError," ")}}function Vg(r,t){if(r&1){let e=Y();u(0,"div",46)(1,"button",47),P("click",function(){M(e);let i=C();return E(i.cerrarModal())}),p(2,"\u2716"),d(),u(3,"div",48)(4,"div",49),le(5,"img",50),d(),q(6,xg,2,0,"h2",7)(7,Pg,2,0,"h2",7)(8,Ag,9,2,"form",51)(9,Og,30,11,"form",51)(10,Dg,3,0,"button",52),u(11,"p",53),q(12,Rg,4,0,"ng-container",7)(13,Ng,4,0,"ng-container",7),d(),q(14,kg,2,1,"span",54),d()()}if(r&2){let e=C();m(6),S("ngIf",e.modo==="login"),m(),S("ngIf",e.modo==="registro"),m(),S("ngIf",e.modo==="login"),m(),S("ngIf",e.modo==="registro"),m(),S("ngIf",e.modo==="login"),m(2),S("ngIf",e.modo==="login"),m(),S("ngIf",e.modo==="registro"),m(),S("ngIf",e.mensajeError)}}function Fg(r,t){r&1&&(u(0,"div",87),p(1,` \u2705 Usuario registrado correctamente
`),d())}var Jn=class r{constructor(t,e,n){this.authService=t;this.platformId=e;this.router=n}title="EcoRecicla";isLoggedIn=!1;menuVisible=!1;sidebarOpen=!1;modalAbierto=!1;modo="login";mensajeError="";loginEmail="";loginPassword="";mostrarModalLogin=!1;registroNombre="";registroCorreo="";registroClave="";registroUbicacion="";registroExitoso=!1;usuarioLogueado=null;menuVisibleSidebar=!1;registroTipoDoc="DNI";registroDocumento="";registroApellidos="";registroFechaNacimiento="";mensajeErrorDocumento="";documentoInvalido=!1;errorEdad="";ngOnInit(){if(Ve(this.platformId)){let t=sessionStorage.getItem("usuario");t&&(this.usuarioLogueado=JSON.parse(t),this.isLoggedIn=!0),this.router.events.pipe(at(e=>e instanceof mt)).subscribe(e=>{let n=e,i=["/mapa","/juego"];!sessionStorage.getItem("usuario")&&i.some(s=>n.url.includes(s))&&this.router.navigate(["/"],{replaceUrl:!0})})}}soloNumeros(t){let e=t.which?t.which:t.keyCode;(e<48||e>57)&&t.preventDefault()}validarDocumento(){this.registroTipoDoc==="DNI"?(this.documentoInvalido=this.registroDocumento.length!==8,this.mensajeErrorDocumento="El DNI debe tener exactamente 8 d\xEDgitos."):this.registroTipoDoc==="CE"&&(this.documentoInvalido=this.registroDocumento.length<9||this.registroDocumento.length>12,this.mensajeErrorDocumento="El CE debe tener entre 9 y 12 d\xEDgitos.")}validarEdad(){if(!this.registroFechaNacimiento){this.errorEdad="";return}let t=new Date(this.registroFechaNacimiento),e=new Date,n=e.getFullYear()-t.getFullYear(),i=e.getMonth()-t.getMonth(),o=e.getDate()-t.getDate();(i<0||i===0&&o<0)&&n--,n<16?this.errorEdad="Debes cumplir con las politicas de nuestro servicio web: Tener m\xE1s de 16 a\xF1os":this.errorEdad=""}limpiarDocumento(){this.registroDocumento="",this.validarDocumento()}toggleMenu(){this.menuVisible=!this.menuVisible}toggleSidebarMenu(){this.menuVisibleSidebar=!this.menuVisibleSidebar}toggleSidebar(){this.sidebarOpen=!this.sidebarOpen}abrirModal(){this.modalAbierto=!0,this.modo="login"}cerrarModal(){this.modalAbierto=!1,this.loginEmail="",this.loginPassword="",this.registroNombre="",this.registroCorreo="",this.registroClave="",this.registroUbicacion="",this.registroExitoso=!1,this.mensajeError=""}login(){let t={correo:this.loginEmail,contrasena:this.loginPassword};this.authService.loginUsuario(t).subscribe({next:e=>{this.usuarioLogueado=e.usuario,Ve(this.platformId)&&(sessionStorage.setItem("usuario_id",String(e.usuario.id)),sessionStorage.setItem("usuario_nombre",e.usuario.nombre),sessionStorage.setItem("token",e.token),sessionStorage.setItem("usuario",JSON.stringify(e.usuario))),this.authService.actualizarUsuario(e.usuario),this.isLoggedIn=!0,this.cerrarModal(),this.mensajeError=""},error:e=>{console.error("\u274C Error en login:",e),this.mensajeError=e?.error?.mensaje||"\u274C Error al iniciar sesi\xF3n",this.isLoggedIn=!1}})}cerrarSesion(){this.usuarioLogueado=null,this.authService.limpiarUsuario(),this.isLoggedIn=!1,this.loginEmail="",this.loginPassword="",this.menuVisible=!1,this.sidebarOpen=!1,this.menuVisibleSidebar=!1,this.router.navigate(["/"],{replaceUrl:!0})}cambiarContrasena(){console.log("Cambiar contrase\xF1a"),this.menuVisible=!1,this.toggleSidebarMenu()}irAPerfil(){this.router.navigate(["/perfil"])}registrar(){let t=new Date().toLocaleString("sv-SE").replace("T"," ");navigator.geolocation.getCurrentPosition(e=>{let n=e.coords.latitude,i=e.coords.longitude,s=`https://maps.googleapis.com/maps/api/geocode/json?latlng=${n},${i}&key=AIzaSyCLGmLQC1KninQE0_PrfE1EdeGb9M7targ`;fetch(s).then(a=>a.json()).then(a=>{this.registroUbicacion=a.status==="OK"&&a.results.length>0?a.results[0].formatted_address:`Lat: ${n}, Lng: ${i}`;let l={nombre:this.registroNombre,apellido:this.registroApellidos,tipo_documento:this.registroTipoDoc,documento:this.registroDocumento,fecha_nacimiento:this.registroFechaNacimiento,correo:this.registroCorreo,contrasena:this.registroClave,ubicacion_actual:this.registroUbicacion,fecha_registro:t};console.log("\u{1F4E4} Enviando:",l),this.authService.registrarUsuario(l).subscribe({next:()=>{this.registroExitoso=!0,this.mensajeError="",this.limpiarFormulario(),setTimeout(()=>{this.registroExitoso=!1,this.cerrarModal(),this.modo="login"},3e3)},error:c=>{console.error("\u274C Error al registrar:",c),this.mensajeError=c?.error?.mensaje||"\u274C Error al registrar"}})}).catch(a=>{console.error("Error al obtener direcci\xF3n:",a),this.mensajeError="\u274C No se pudo obtener la direcci\xF3n"})},()=>{this.mensajeError="\u26A0\uFE0F Necesitamos tu ubicaci\xF3n para continuar."})}cambiarAModoRegistro(){this.modo="registro",this.mensajeError=""}cambiarAModoLogin(){this.modo="login",this.mensajeError=""}limpiarFormulario(){this.registroNombre="",this.registroApellidos="",this.registroTipoDoc="DNI",this.registroDocumento="",this.registroFechaNacimiento="",this.registroCorreo="",this.registroClave="",this.registroUbicacion="",this.documentoInvalido=!1,this.mensajeErrorDocumento="",this.errorEdad=""}static \u0275fac=function(e){return new(e||r)(k(Bt),k(xe),k(je))};static \u0275cmp=Te({type:r,selectors:[["app-root"]],decls:50,vars:13,consts:[["bienvenido",""],[1,"menu-toggle",3,"click"],[1,"topnav"],[1,"menu-centro"],["routerLink","/"],["routerLink","/nosotros"],["routerLink","/categorias"],[4,"ngIf"],["routerLink","/noticias"],[1,"login-wrapper"],[4,"ngIf","ngIfElse"],[1,"sidebar"],[1,"close-btn",3,"click"],["routerLink","/",3,"click"],["routerLink","/nosotros",3,"click"],["routerLink","/categorias",3,"click"],["routerLink","/noticias",3,"click"],[2,"padding","0","margin","0"],[1,"usuario-sidebar"],["class","info-usuario","style","cursor: pointer;",3,"click",4,"ngIf"],["class","modal-backdrop",4,"ngIf"],["class","modal",4,"ngIf"],["class","modal-exito",4,"ngIf"],[2,"background-color","#333","color","white","padding","1rem","text-align","center","margin-top","auto"],["routerLink","/mapa"],["routerLink","/juego"],[1,"login-btn",3,"click"],["src","https://cdn-icons-png.flaticon.com/512/1077/1077114.png","alt","Login Icon",1,"icono-btn"],[1,"usuario-bienvenido"],["src","https://cdn-icons-png.flaticon.com/512/847/847969.png","alt","User Icon",1,"avatar-usuario"],[1,"texto-bienvenida",2,"cursor","pointer",3,"click"],[1,"saludo"],[1,"nombre-usuario"],["class","menu-usuario",4,"ngIf"],[1,"menu-usuario"],[1,"btn-opcion",3,"click"],[1,"btn-opcion","cerrar",3,"click"],["routerLink","/mapa",3,"click"],["routerLink","/juego",3,"click"],[1,"info-usuario",2,"cursor","pointer",3,"click"],["src","https://cdn-icons-png.flaticon.com/512/1077/1077114.png","alt","icono login",1,"icono-usuario"],[1,"datos-usuario"],["src","https://cdn-icons-png.flaticon.com/512/847/847969.png",1,"icono-usuario"],["class","submenu-opciones",4,"ngIf"],[1,"submenu-opciones"],[1,"modal-backdrop"],[1,"modal"],[1,"modal-close",3,"click"],[1,"modal-contenido"],[1,"icono-login"],["src","https://cdn-icons-png.flaticon.com/512/847/847969.png","alt","login icon"],["class","formulario-login","autocomplete","off",3,"ngSubmit",4,"ngIf"],["class","google-btn","type","button",4,"ngIf"],[1,"texto-secundario"],["style","color: red; font-weight: bold; display: block; text-align: center; margin-top: 0.5rem;",4,"ngIf"],["autocomplete","off",1,"formulario-login",3,"ngSubmit"],["for","email"],["type","email","id","email","name","email","required","",3,"ngModelChange","ngModel"],["for","password"],["type","password","id","password","name","password","required","",3,"ngModelChange","ngModel"],["type","submit",1,"btn-ingresar"],["for","nombre"],["type","text","id","nombre","name","nombre","required","",3,"ngModelChange","ngModel"],["for","apellidos"],["type","text","id","apellido","name","apellido","required","",3,"ngModelChange","ngModel"],["for","tipoDocumento"],[1,"documento-linea"],["id","tipoDocumento","name","tipoDocumento","required","",3,"ngModelChange","change","ngModel"],["value","DNI"],["value","CE"],["type","text","id","documento","name","documento","required","","inputmode","numeric","maxlength","12","placeholder","N\xFAmero de documento",3,"ngModelChange","keypress","input","ngModel"],["class","error-mensaje",4,"ngIf"],["for","fechaNacimiento"],["type","date","id","fechaNacimiento","name","fechaNacimiento","required","",1,"input-date",3,"ngModelChange","change","ngModel"],["class","error",4,"ngIf"],["for","correo"],["type","email","id","correo","name","correo","required","",3,"ngModelChange","ngModel"],["for","clave"],["type","password","id","clave","name","clave","required","",3,"ngModelChange","ngModel"],["type","hidden","id","ubicacion","name","ubicacion","required","",3,"ngModelChange","ngModel"],["type","submit",1,"btn-ingresar",3,"disabled"],[1,"error-mensaje"],[1,"error"],["type","button",1,"google-btn"],["src","https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg","alt","Google"],["href","#",3,"click"],[2,"color","red","font-weight","bold","display","block","text-align","center","margin-top","0.5rem"],[1,"modal-exito"]],template:function(e,n){if(e&1){let i=Y();u(0,"button",1),P("click",function(){return M(i),E(n.toggleSidebar())}),p(1,"\u2630"),d(),u(2,"nav",2)(3,"ul",3)(4,"li")(5,"a",4),p(6,"INICIO"),d()(),u(7,"li")(8,"a",5),p(9,"NOSOTROS"),d()(),u(10,"li")(11,"a",6),p(12,"CATEGOR\xCDAS"),d()(),q(13,mg,3,0,"li",7)(14,gg,3,0,"li",7),u(15,"li")(16,"a",8),p(17,"NOTICIAS"),d()()(),u(18,"div",9),q(19,vg,4,0,"ng-container",10)(20,yg,8,2,"ng-template",null,0,Pn),d()(),u(22,"nav",11)(23,"button",12),P("click",function(){return M(i),E(n.toggleSidebar())}),p(24,"\u2716"),d(),u(25,"ul")(26,"li")(27,"a",13),P("click",function(){return M(i),E(n.toggleSidebar())}),p(28,"INICIO"),d()(),u(29,"li")(30,"a",14),P("click",function(){return M(i),E(n.toggleSidebar())}),p(31,"NOSOTROS"),d()(),u(32,"li")(33,"a",15),P("click",function(){return M(i),E(n.toggleSidebar())}),p(34,"CATEGOR\xCDAS"),d()(),q(35,Cg,3,0,"li",7)(36,bg,3,0,"li",7),u(37,"li")(38,"a",16),P("click",function(){return M(i),E(n.toggleSidebar())}),p(39,"NOTICIAS"),d()(),u(40,"li",17)(41,"div",18),q(42,wg,5,0,"div",19)(43,Mg,7,2,"div",7),d()()()(),le(44,"router-outlet"),q(45,Eg,1,0,"div",20)(46,Vg,15,8,"div",21)(47,Fg,2,0,"div",22),u(48,"footer",23),p(49,` \xA9 2025 EcoRecicla. Todos los derechos reservados.
`),d()}if(e&2){let i=Mt(21);m(13),S("ngIf",n.usuarioLogueado),m(),S("ngIf",n.usuarioLogueado),m(5),S("ngIf",!n.usuarioLogueado)("ngIfElse",i),m(3),$e("open",n.sidebarOpen),m(13),S("ngIf",n.usuarioLogueado),m(),S("ngIf",n.usuarioLogueado),m(6),S("ngIf",!n.usuarioLogueado),m(),S("ngIf",n.usuarioLogueado),m(2),S("ngIf",n.modalAbierto),m(),S("ngIf",n.modalAbierto),m(),S("ngIf",n.registroExitoso)}},dependencies:[He,dt,Fr,so,Qn,_o,yo,Co,zt,Kn,Gn,go,Yr,_a,dn,Jr,On],styles:[".topnav[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background-color:#00796b;padding:10px;position:relative}.menu-centro[_ngcontent-%COMP%]{display:flex;list-style:none;padding:0;margin:0;gap:1.5rem}.menu-centro[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-weight:700;padding:8px 12px;border-radius:4px}.menu-centro[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .menu-centro[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{background-color:#4caf50}.login-wrapper[_ngcontent-%COMP%]{position:absolute;right:1rem}.login-btn[_ngcontent-%COMP%]{background-color:#26a69a;color:#fff;border:none;padding:.4rem 1rem;border-radius:4px;cursor:pointer;font-weight:700}.login-btn[_ngcontent-%COMP%]:hover, .login-btn[_ngcontent-%COMP%]:active{background-color:#4caf50}.menu-toggle[_ngcontent-%COMP%]{display:none;font-size:24px;padding:10px;cursor:pointer;background:#00796b;color:#fff;border:none;position:fixed;top:10px;left:10px;z-index:1001;border-radius:4px}.sidebar[_ngcontent-%COMP%]{display:none;position:fixed;top:0;left:-250px;width:220px;height:100%;background-color:#00796b;padding-top:60px;transition:left .3s ease;z-index:1000}.sidebar.open[_ngcontent-%COMP%]{left:0}.close-btn[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;background:transparent;color:#fff;border:none;font-size:20px;cursor:pointer}.sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:15px 0;text-align:center}.sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-weight:700;display:block;padding:10px;border:none;background:none;cursor:pointer}.sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active, .sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{background-color:#4caf50}@media (max-width: 768px){.menu-toggle[_ngcontent-%COMP%]{display:block}.topnav[_ngcontent-%COMP%]{display:none}.sidebar[_ngcontent-%COMP%]{display:block}.login-wrapper[_ngcontent-%COMP%]{display:none}}.modal-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;z-index:999}.modal[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);width:360px;max-width:90%;background-color:#fff;border-radius:12px;box-shadow:0 10px 30px #0000004d;z-index:1000;overflow:hidden;font-family:Segoe UI,sans-serif}.modal-close[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;background-color:#ccc;border:none;color:#333;font-size:18px;font-weight:700;width:28px;height:28px;border-radius:50%;cursor:pointer;transition:background .3s ease}.modal-close[_ngcontent-%COMP%]:hover{background-color:#bbb}.modal-contenido[_ngcontent-%COMP%]{padding:2rem 1.5rem;text-align:center}.modal-contenido[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0;margin-bottom:1.5rem;color:#00796b}.formulario-login[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch;gap:1rem;text-align:left}.formulario-login[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;font-size:.95rem;margin-bottom:.2rem;color:#333}.formulario-login[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:10px;border-radius:6px;border:1px solid #ccc;font-size:14px;width:100%;box-sizing:border-box}.btn-ingresar[_ngcontent-%COMP%]{background-color:#00796b;color:#fff;border:none;padding:10px;border-radius:6px;font-weight:700;cursor:pointer;transition:background-color .3s ease}.btn-ingresar[_ngcontent-%COMP%]:hover{background-color:#4caf50}.google-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:10px;background-color:#fff;border:1px solid #ddd;padding:10px;border-radius:6px;margin:1rem 0;font-weight:500;color:#444;cursor:pointer;transition:background .3s ease;width:100%}.google-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:18px}.google-btn[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.texto-secundario[_ngcontent-%COMP%]{font-size:14px;color:#666}.texto-secundario[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#00796b;text-decoration:none;font-weight:700}.texto-secundario[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.icono-login[_ngcontent-%COMP%]{width:60px;margin:0 auto 1rem}.icono-login[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;display:block}.icono-btn[_ngcontent-%COMP%]{width:18px;height:18px;margin-right:6px;vertical-align:middle}.modal-exito[_ngcontent-%COMP%]{position:fixed;top:30px;left:50%;transform:translate(-50%);background-color:#4caf50;color:#fff;padding:12px 20px;border-radius:8px;font-weight:700;z-index:2001;box-shadow:0 4px 10px #0000004d;animation:_ngcontent-%COMP%_fadeInOut 3s ease-in-out forwards}@keyframes _ngcontent-%COMP%_fadeInOut{0%{opacity:0;transform:translate(-50%,-20px)}10%{opacity:1;transform:translate(-50%)}90%{opacity:1;transform:translate(-50%)}to{opacity:0;transform:translate(-50%,-20px)}}.usuario-bienvenido[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;padding:6px 12px;background-color:#e8f5e9;border-radius:12px;box-shadow:0 2px 6px #0000001a;font-family:Segoe UI,sans-serif;position:relative;height:20px;margin:0}.avatar-usuario[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;object-fit:cover}.texto-bienvenida[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;line-height:1.2;cursor:pointer}.saludo[_ngcontent-%COMP%]{margin:0;font-size:12px;color:#388e3c;line-height:1}.nombre-usuario[_ngcontent-%COMP%]{margin:0;font-weight:700;font-size:14px;color:#0d47a1;line-height:1}.menu-usuario[_ngcontent-%COMP%]{position:absolute;top:100%;right:0;background-color:#fff;border:1px solid #cfd8dc;border-radius:10px;box-shadow:0 4px 8px #00000026;padding:6px;margin-top:6px;display:flex;flex-direction:column;z-index:100;min-width:140px}.btn-opcion[_ngcontent-%COMP%]{background-color:#43a047;color:#fff;border:none;padding:6px 8px;border-radius:6px;font-size:13px;text-align:left;cursor:pointer;margin-bottom:6px;transition:background-color .3s ease}.btn-opcion[_ngcontent-%COMP%]:hover{background-color:#388e3c}.btn-opcion.cerrar[_ngcontent-%COMP%]{background-color:#c62828}.btn-opcion.cerrar[_ngcontent-%COMP%]:hover{background-color:#b71c1c}.usuario-sidebar[_ngcontent-%COMP%]{padding:10px 16px;background-color:#26a69a}.info-usuario[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.icono-usuario[_ngcontent-%COMP%]{width:28px;height:28px;border-radius:50%;background-color:#fff;padding:4px}.datos-usuario[_ngcontent-%COMP%]{display:flex;flex-direction:column}.nombre-usuario[_ngcontent-%COMP%]{font-weight:700;font-size:14px;color:#0d47a1}.cerrar-sesion-btn[_ngcontent-%COMP%]{background-color:#ffffff26;color:#fff;border:1px solid white;border-radius:6px;padding:4px 8px;font-size:12px;cursor:pointer;margin-top:4px;width:fit-content;transition:background-color .2s ease,color .2s ease}.cerrar-sesion-btn[_ngcontent-%COMP%]:hover{background-color:#fff;color:#00695c}.submenu-opciones[_ngcontent-%COMP%]{margin-top:8px;display:flex;flex-direction:column;gap:6px;padding-left:34px}.submenu-opciones[_ngcontent-%COMP%]   .btn-opcion[_ngcontent-%COMP%]{background-color:#ffffff26;color:#fff;border:1px solid white;border-radius:6px;padding:6px 10px;font-size:13px;cursor:pointer;width:fit-content;transition:background-color .2s ease,color .2s ease}.submenu-opciones[_ngcontent-%COMP%]   .btn-opcion[_ngcontent-%COMP%]:hover{background-color:#fff;color:#2d8a7f}.submenu-opciones[_ngcontent-%COMP%]   .btn-opcion.cerrar[_ngcontent-%COMP%]{background-color:#c62828;border-color:#c62828}.submenu-opciones[_ngcontent-%COMP%]   .btn-opcion.cerrar[_ngcontent-%COMP%]:hover{background-color:#fff;color:#c62828}select#tipoDocumento[_ngcontent-%COMP%]{width:100%;padding:.8rem 1rem;border:1px solid #ccc;border-radius:8px;background-color:#fff;font-size:1rem;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;transition:border-color .3s ease,box-shadow .3s ease}.error-mensaje[_ngcontent-%COMP%]{color:#d32f2f;font-size:.95rem;margin-top:.5rem}@media (max-width: 600px){select#tipoDocumento[_ngcontent-%COMP%], input[type=date]#fechaNacimiento[_ngcontent-%COMP%]{padding:.7rem .8rem;font-size:.95rem}}.documento-linea[_ngcontent-%COMP%]{display:flex;gap:.6rem;align-items:center;margin-bottom:1rem}select#tipoDocumento[_ngcontent-%COMP%]{flex:1;padding:.5rem .8rem;border:1px solid #ccc;border-radius:6px;background-color:#fff;font-size:1rem;transition:border-color .3s ease,box-shadow .3s ease}select#tipoDocumento[_ngcontent-%COMP%]:focus{border-color:#4caf50;box-shadow:0 0 0 3px #4caf5033;outline:none}input#documento[_ngcontent-%COMP%]{flex:2;padding:.8rem 1rem;border:1px solid #ccc;border-radius:8px;background-color:#fff;font-size:1rem;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;transition:border-color .3s ease,box-shadow .3s ease}select#tipoDocumento[_ngcontent-%COMP%]:focus, input#documento[_ngcontent-%COMP%]:focus{border-color:#4caf50;box-shadow:0 0 0 3px #4caf5033;outline:none}input[type=date]#fechaNacimiento[_ngcontent-%COMP%]{width:100%;padding:.8rem 1rem;border:1px solid #ccc;border-radius:8px;background-color:#fff;font-size:1rem;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;transition:border-color .3s ease,box-shadow .3s ease}input[type=date]#fechaNacimiento[_ngcontent-%COMP%]:focus{border-color:#4caf50;box-shadow:0 0 0 3px #4caf5033;outline:none}.error-mensaje[_ngcontent-%COMP%]{color:#d32f2f;font-size:.9rem;margin-top:-1.7rem}@media (max-width: 600px){.documento-linea[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:.5rem}select#tipoDocumento[_ngcontent-%COMP%], input#documento[_ngcontent-%COMP%], input[type=date]#fechaNacimiento[_ngcontent-%COMP%]{width:100%;padding:.7rem .8rem;font-size:.95rem}}"]})};function jg(r,t){if(r&1&&(u(0,"div",20),le(1,"img",21),u(2,"div",22)(3,"h2"),p(4),d(),u(5,"p"),p(6),d()()()),r&2){let e=t.$implicit,n=t.index,i=C();$e("active",n===i.currentSlide),m(),S("src",e.imagen,hr)("alt",e.titulo),m(3),U(e.titulo),m(2),U(e.descripcion)}}function Lg(r,t){if(r&1){let e=Y();u(0,"span",23),P("click",function(){let i=M(e).index,o=C();return E(o.goToSlide(i))}),d()}if(r&2){let e=t.index,n=C();$e("active",e===n.currentSlide)}}var Xr=class r{constructor(t){this.ngZone=t}appComponent=L(Jn);slides=[{imagen:"assets/images/slider/imagen1.jpg",titulo:"EcoConciencia en comunidad",descripcion:"Forma parte de una red de usuarios comprometidos con el planeta."},{imagen:"assets/images/slider/imagen2.jpg",titulo:"Encuentra puntos cercanos",descripcion:"Localiza centros de reciclaje y reduce tu impacto ambiental."},{imagen:"assets/images/slider/imagen3.jpg",titulo:"Aprende y gana",descripcion:"Participa en juegos interactivos y gana recompensas mientras aprendes."},{imagen:"assets/images/slider/imagen4.jpg",titulo:"Conoce y aprende a reciclar con Ecorecicla",descripcion:"Identifica y clasifica residuos f\xE1cilmente con nuestra app educativa."}];currentSlide=0;intervaloId;ngAfterViewInit(){this.ngZone.runOutsideAngular(()=>{this.intervaloId=setInterval(()=>{this.ngZone.run(()=>this.nextSlide())},5e3)})}ngOnDestroy(){this.intervaloId&&clearInterval(this.intervaloId)}goToSlide(t){this.currentSlide=t}nextSlide(){this.currentSlide=(this.currentSlide+1)%this.slides.length}prevSlide(){this.currentSlide=(this.currentSlide-1+this.slides.length)%this.slides.length}abrirRegistro(){this.appComponent.modalAbierto=!0,this.appComponent.modo="registro"}static \u0275fac=function(e){return new(e||r)(k(Be))};static \u0275cmp=Te({type:r,selectors:[["app-inicio"]],decls:66,vars:2,consts:[[1,"hero"],[1,"slider-container"],[1,"nav","prev",3,"click"],[1,"slider"],["class","slide",3,"active",4,"ngFor","ngForOf"],[1,"nav","next",3,"click"],[1,"slide-indicators"],["class","dot",3,"active","click",4,"ngFor","ngForOf"],[1,"info"],[1,"info-app"],[1,"caracteristicas"],[1,"cards"],[1,"card"],["src","assets/icons/mapa.png","alt","Mapa"],["src","assets/icons/categorias.png","alt","Residuos"],["src","assets/icons/juego.jpg","alt","Juego"],[1,"impacto"],[1,"stats"],[1,"cta-final"],[1,"boton-principal",3,"click"],[1,"slide"],[3,"src","alt"],[1,"descripcion"],[1,"dot",3,"click"]],template:function(e,n){e&1&&(u(0,"section",0)(1,"div",1)(2,"button",2),P("click",function(){return n.prevSlide()}),p(3,"\u276E"),d(),u(4,"div",3),q(5,jg,7,6,"div",4),d(),u(6,"button",5),P("click",function(){return n.nextSlide()}),p(7,"\u276F"),d()(),u(8,"div",6),q(9,Lg,1,2,"span",7),d(),u(10,"div",8)(11,"h1"),p(12,"\u{1F30D} Bienvenido a EcoRecicla"),d(),u(13,"p"),p(14,"Una app web inteligente que promueve el reciclaje y el cuidado del medio ambiente."),d()()(),u(15,"section",9)(16,"h2"),p(17,"\xBFQu\xE9 es EcoRecicla?"),d(),u(18,"p"),p(19," EcoRecicla es una aplicaci\xF3n educativa e interactiva que promueve el reciclaje inteligente y la conciencia ambiental. A trav\xE9s de funciones inteligentes, ayudamos a las personas a identificar, clasificar y gestionar residuos correctamente. "),d()(),u(20,"section",10)(21,"h2"),p(22,"\xBFQu\xE9 puedes hacer con EcoRecicla?"),d(),u(23,"div",11)(24,"div",12),le(25,"img",13),u(26,"h3"),p(27,"Puntos de Reciclaje"),d(),u(28,"p"),p(29,"Encuentra el punto m\xE1s cercano donde puedes dejar tus residuos."),d()(),u(30,"div",12),le(31,"img",14),u(32,"h3"),p(33,"Tipos de Residuos"),d(),u(34,"p"),p(35,"Aprende a clasificar correctamente los residuos con im\xE1genes reales."),d()(),u(36,"div",12),le(37,"img",15),u(38,"h3"),p(39,"Juego Educativo"),d(),u(40,"p"),p(41,"Juega y pon a prueba tus conocimientos sobre reciclaje."),d()()()(),u(42,"section",16)(43,"h2"),p(44,"Nuestro impacto"),d(),u(45,"div",17)(46,"div")(47,"h3"),p(48,"+500"),d(),u(49,"p"),p(50,"Usuarios concientizados"),d()(),u(51,"div")(52,"h3"),p(53,"+120"),d(),u(54,"p"),p(55,"Puntos de reciclaje activos"),d()(),u(56,"div")(57,"h3"),p(58,"+20%"),d(),u(59,"p"),p(60,"Reducci\xF3n de residuos en zonas urbanas"),d()()()(),u(61,"section",18)(62,"h2"),p(63,"\xBFEst\xE1s listo para marcar la diferencia?"),d(),u(64,"button",19),P("click",function(){return n.abrirRegistro()}),p(65,"\xDAnete ahora"),d()()),e&2&&(m(5),S("ngForOf",n.slides),m(4),S("ngForOf",n.slides))},dependencies:[He,kt,aa],styles:[".hero[_ngcontent-%COMP%]{background-color:#e8f5e9;padding:40px 20px;text-align:center}.slider-container[_ngcontent-%COMP%]{position:relative;max-width:1000px;margin:auto;overflow:hidden;border-radius:16px;box-shadow:0 10px 25px #00800033}.slider[_ngcontent-%COMP%]{display:flex;transition:transform .5s ease-in-out}.slide[_ngcontent-%COMP%]{min-width:100%;position:relative;opacity:0;display:none;transition:opacity .6s ease-in-out}.slide.active[_ngcontent-%COMP%]{opacity:1;display:block}.slide[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:16px;object-fit:cover}.descripcion[_ngcontent-%COMP%]{position:absolute;bottom:30px;left:30px;background:#006400bf;color:#fff;padding:20px;border-radius:12px;text-align:left;max-width:70%}.descripcion[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 10px;font-size:1.6rem}.descripcion[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1rem}.nav[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);background-color:#006400b3;color:#fff;border:none;padding:14px;font-size:24px;cursor:pointer;border-radius:50%;z-index:2}.nav.prev[_ngcontent-%COMP%]{left:15px}.nav.next[_ngcontent-%COMP%]{right:15px}.nav[_ngcontent-%COMP%]:hover{background-color:#006400e6}.info[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#2e7d32;font-size:2.5rem;margin-top:30px}.info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#444;max-width:700px;margin:auto}.contenido-hero[_ngcontent-%COMP%]{position:relative;z-index:2;max-width:800px;margin:0 auto;padding:20px;border-radius:16px;background:#ffffff0d;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.contenido-hero[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;font-weight:700;margin-bottom:1rem;text-shadow:1px 1px 3px rgba(0,0,0,.4)}.contenido-hero[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.3rem;line-height:1.6;margin-bottom:20px}button[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;border:none;padding:12px 28px;font-size:1rem;font-weight:700;border-radius:8px;cursor:pointer;box-shadow:0 4px 12px #00000026;transition:background-color .3s ease,transform .2s ease}button[_ngcontent-%COMP%]:hover{background-color:#388e3c;transform:scale(1.03)}.info-app[_ngcontent-%COMP%]{background-color:#fff;padding:60px 20px;max-width:1000px;margin:0 auto;border-left:6px solid #66bb6a;border-right:6px solid #66bb6a;border-radius:20px;box-shadow:0 4px 16px #00000014;text-align:center}.info-app[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;color:#2e7d32;margin-bottom:20px}.info-app[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.15rem;line-height:1.8;color:#444}.caracteristicas[_ngcontent-%COMP%]{padding:60px 20px;background-color:#f1f8e9;text-align:center}.caracteristicas[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:30px;color:#2e7d32}.cards[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:24px}.card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:24px;width:280px;box-shadow:0 6px 20px #00000014;text-align:center;transition:transform .3s ease}.card[_ngcontent-%COMP%]:hover{transform:translateY(-6px)}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;margin-bottom:12px}.card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.3rem;color:#2e7d32;margin-bottom:10px}.card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#555;line-height:1.5}.impacto[_ngcontent-%COMP%]{padding:60px 20px;background-color:#fff;text-align:center}.impacto[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:20px;color:#388e3c}.stats[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:40px;margin-top:30px}.stats[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background:#e8f5e9;border-radius:16px;padding:20px 30px;width:200px;box-shadow:0 4px 12px #0000001a}.stats[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:2rem;color:#2e7d32;margin:0 0 10px}.stats[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#555;margin:0}.cta-final[_ngcontent-%COMP%]{background-color:#00796b;color:#fff;text-align:center;padding:80px 20px}.cta-final[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:20px}.cta-final[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#4caf50;padding:14px 32px;font-size:1.1rem}.cta-final[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#388e3c}@media (max-width: 768px){.contenido-hero[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.2rem}.contenido-hero[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem}.card[_ngcontent-%COMP%], .stats[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%;max-width:320px}.info-app[_ngcontent-%COMP%]{border-left:4px solid #66bb6a;border-right:4px solid #66bb6a}.cta-final[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.6rem}}@media (max-width: 480px){.contenido-hero[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8rem}.contenido-hero[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.95rem}.cta-final[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.4rem}.cta-final[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}.boton-principal[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;padding:12px 28px;border-radius:8px;font-weight:600;font-size:1rem;cursor:pointer;text-decoration:none;display:inline-block;box-shadow:0 4px 10px #0003;transition:all .3s ease}.boton-principal[_ngcontent-%COMP%]:hover{background-color:#388e3c;transform:scale(1.03)}.slide-indicators[_ngcontent-%COMP%]{text-align:center;margin-top:16px}.dot[_ngcontent-%COMP%]{display:inline-block;height:12px;width:12px;margin:0 6px;background-color:#ccc;border-radius:50%;cursor:pointer;opacity:.5;transform:scale(1);transition:background-color .3s ease,transform .3s ease,opacity .3s ease}.dot[_ngcontent-%COMP%]:hover{opacity:.8}.dot.active[_ngcontent-%COMP%]{background-color:#4caf50;opacity:1;transform:scale(1.4)}"]})};var pn=xl(hd());function qg(r,t){if(r&1&&le(0,"span",18),r&2){let e=C().$implicit;S("innerHTML",e.texto,ec)}}function $g(r,t){if(r&1&&(u(0,"span"),p(1),d()),r&2){let e=C().$implicit;m(),U(e.texto)}}function Hg(r,t){if(r&1&&(u(0,"div",15),q(1,qg,1,1,"span",16)(2,$g,2,1,"span",17),d()),r&2){let e=t.$implicit;S("ngClass",e.tipo==="usuario"?"mensaje usuario":"mensaje ia"),m(),S("ngIf",e.tipo==="ia"),m(),S("ngIf",e.tipo==="usuario")}}var bo=class r{constructor(t,e,n){this.platformId=t;this.authService=e;this.sanitizer=n}map;userPrompt="";userLocation=null;directionsService;activeDirectionsRenderers=[];mensajeRuta="";currentMarkerInfoWindow=null;ubicacionActualInfoWindow=null;rutaInterval;mensajesIA=[];userAddress=null;isWaitingForResponse=!1;currentSpeechUtterance=null;typingTimeout;isTyping=!1;MAX_DISTANCE_KM=5;LEVENSHTEIN_THRESHOLD=2;PHRASE_MATCH_PERCENTAGE=.7;KNOWN_CITIES=[{name:"trujillo",lat:-8.115,lng:-79.028},{name:"paijan",lat:-7.734,lng:-79.308},{name:"chocope",lat:-7.825,lng:-79.237}];KEY_PHRASES={allPointsNearby:["trazame los puntos cerca de mi ubicacion actual","muestrame los puntos de reciclaje cercanos","quiero ver los puntos cercanos","trazar todos los puntos de reciclaje cerca","trazame los puntos mas cerca de mi ubicacion","muestrame los puntos de reciclaje mas cercanos","quiero ver los puntos mas cerca","todos los puntos mas cercanos","puntos de reciclaje cerca de mi","donde reciclar cerca"],closestPoint:["mas cercano","mas proximo","punto mas cercano","punto mas proximo","el mas cerca","punto mas cerca","reciclaje mas cercano"]};pointsOfInterest=[{lat:-8.112,lng:-79.028,name:"Trujillo Centro",markerTitle:"Punto de reciclaje: Trujillo Centro"},{lat:-8.1,lng:-79.03,name:"Urbanizaci\xF3n La Merced",markerTitle:"Punto de reciclaje: Urbanizaci\xF3n La Merced"},{lat:-8.118,lng:-79.022,name:"Urbanizaci\xF3n Primavera",markerTitle:"Punto de reciclaje: Urbanizaci\xF3n Primavera"},{lat:-8.106,lng:-79.04,name:"Plaza de Armas de Trujillo",markerTitle:"Punto de reciclaje: Plaza de Armas de Trujillo"},{lat:-8.121,lng:-79.034,name:"Hospital Regional",markerTitle:"Punto de reciclaje: Hospital Regional"},{lat:-7.824,lng:-79.237,name:"Chocope",markerTitle:"Punto de reciclaje: Plaza de Chocope"},{lat:-7.732,lng:-79.307,name:"Plaza de Paij\xE1n",markerTitle:"Punto de reciclaje: Plaza de Paij\xE1n"},{lat:-7.73,lng:-79.305,name:"Iglesia Matriz de Paij\xE1n",markerTitle:"Punto de reciclaje: Iglesia Matriz de Paij\xE1n"},{lat:-7.735,lng:-79.309,name:"Av. V\xEDctor Ra\xFAl Haya de la Torre",markerTitle:"Punto de reciclaje: Av. V\xEDctor Ra\xFAl Haya de la Torre"},{lat:-7.734,lng:-79.311,name:"Mercado de Paij\xE1n",markerTitle:"Punto de reciclaje: Mercado de Paij\xE1n"},{lat:-7.736,lng:-79.306,name:"Calle Comercio",markerTitle:"Punto de reciclaje: Calle Comercio"},{lat:-7.825,lng:-79.239,name:"Av. Panamericana Norte",markerTitle:"Punto de reciclaje: Av. Panamericana Norte"},{lat:-7.823,lng:-79.235,name:"Municipalidad de Chocope",markerTitle:"Punto de reciclaje: Municipalidad de Chocope"},{lat:-7.826,lng:-79.238,name:"Centro de Salud Chocope",markerTitle:"Punto de reciclaje: Centro de Salud Chocope"},{lat:-7.822,lng:-79.236,name:"Calle Bol\xEDvar",markerTitle:"Punto de reciclaje: Calle Bol\xEDvar"}];placedMarkers=new Map;ngOnInit(){Ve(this.platformId)&&(this.initMap(),this.rutaInterval=setInterval(()=>{navigator.geolocation.getCurrentPosition(t=>{this.userLocation={lat:t.coords.latitude,lng:t.coords.longitude}},t=>console.error("Error obteniendo ubicaci\xF3n actualizada:",t),{enableHighAccuracy:!0})},15e3))}ngOnDestroy(){this.rutaInterval&&clearInterval(this.rutaInterval),this.clearAllRoutes(),this.stopAllProcessing()}toggleDarkMode(t){let e=t.target.checked,n=document.documentElement.style;e?(n.setProperty("--color-bg","#121212"),n.setProperty("--color-card","#1e1e1e"),n.setProperty("--color-text","#e0e0e0"),n.setProperty("--color-input-bg","#2a2a2a"),n.setProperty("--color-button","#2196f3"),n.setProperty("--color-button-hover","#1976d2"),n.setProperty("--color-border","#444")):(n.setProperty("--color-bg","#ffffff"),n.setProperty("--color-card","#ffffff"),n.setProperty("--color-text","#333333"),n.setProperty("--color-input-bg","#f1f1f1"),n.setProperty("--color-button","#4a90e2"),n.setProperty("--color-button-hover","#357ab7"),n.setProperty("--color-border","#ccc"))}initMap(){if(!navigator.geolocation){this.displayAIResponse("\u274C Geolocalizaci\xF3n no soportada en este navegador.");return}navigator.geolocation.getCurrentPosition(t=>{this.userLocation={lat:t.coords.latitude,lng:t.coords.longitude};let e={center:this.userLocation,zoom:15,mapTypeId:google.maps.MapTypeId.ROADMAP};this.map=new google.maps.Map(document.getElementById("map"),e),this.directionsService=new google.maps.DirectionsService,this.addMarkers();let n=new google.maps.Marker({position:this.userLocation,map:this.map,title:"Tu ubicaci\xF3n actual",icon:{url:"https://maps.gstatic.com/mapfiles/ms2/micons/ltblue-dot.png",scaledSize:new google.maps.Size(40,40)}});new google.maps.Geocoder().geocode({location:this.userLocation},(o,s)=>{if(s==="OK"&&o[0]){let a=o[0].formatted_address;this.userAddress=a,this.ubicacionActualInfoWindow=new google.maps.InfoWindow({content:`<b>Est\xE1s en:</b><br>${a}`}),this.ubicacionActualInfoWindow.open(this.map,n)}else console.warn("No se pudo obtener direcci\xF3n:",s)})},t=>{console.error("Error obteniendo ubicaci\xF3n:",t),this.displayAIResponse("\u274C No se pudo obtener tu ubicaci\xF3n. Aseg\xFArate de habilitar los permisos y el GPS.")},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})}scrollAlFinal(){setTimeout(()=>{let t=document.querySelector(".conversacion");t&&(t.scrollTop=t.scrollHeight)},100)}convertMarkdownToHtml(t){return t.replace(/\*\*(.*?)\*\*/g,"<b>$1</b>")}displayAIResponse(t,e){let n=this.convertMarkdownToHtml(t);this.mensajesIA.push({tipo:"ia",texto:"",fullText:n});let i=this.mensajesIA.length-1,o=this.cleanTextForSpeech(t);this.typeWriterEffect(o,i,e,n),this.scrollAlFinal()}typeWriterEffect(t,e,n,i,o=0){this.isTyping=!0,this.isWaitingForResponse=!0,o<t.length?(typeof this.mensajesIA[e].texto!="string"&&(this.mensajesIA[e].texto=""),this.mensajesIA[e].texto+=t.charAt(o),o++,this.typingTimeout=setTimeout(()=>{this.typeWriterEffect(t,e,n,i,o)},15)):(this.isTyping=!1,i?this.mensajesIA[e].texto=this.sanitizer.bypassSecurityTrustHtml(i):this.mensajesIA[e].fullText&&(this.mensajesIA[e].texto=this.sanitizer.bypassSecurityTrustHtml(this.mensajesIA[e].fullText)),n?this.speak(this.cleanTextForSpeech(n)):this.stopProcessing())}isSimilar(t,e){let n=this.cleanText(t);for(let i of e){let o=this.cleanText(i),s=n.split(" ").filter(h=>h.length>0),a=o.split(" ").filter(h=>h.length>0),l=0,c=a.length;for(let h of a){let v=!1;for(let y of s)if(pn.get(y,h)<=this.LEVENSHTEIN_THRESHOLD){v=!0;break}v&&l++}if(c>0&&l/c>=this.PHRASE_MATCH_PERCENTAGE)return console.log(`Coincidencia de intenci\xF3n: "${t}" con frase: "${i}". Palabras coincidentes: ${l}/${c}`),!0}return!1}isSpecificLocationRequest(t){let e=["llevame","ruta","ir","como llegar","donde","destino"],n=!1;for(let i of e)if(t.includes(i)){n=!0;break}for(let i of this.pointsOfInterest){let o=this.cleanText(i.name);if(t===o||pn.get(t,o)<=this.LEVENSHTEIN_THRESHOLD+1)return i.name;let s=t.split(" ").filter(c=>c.length>0),a=o.split(" ").filter(c=>c.length>0),l=0;for(let c of a)for(let h of s)if(pn.get(h,c)<=this.LEVENSHTEIN_THRESHOLD){l++;break}if(a.length>0&&l/a.length>=.6&&(n||l===a.length&&a.length>1))return console.log(`Ubicaci\xF3n detectada (fuzzy): "${i.name}" en prompt "${t}"`),i.name}for(let i of this.KNOWN_CITIES){let o=this.cleanText(i.name);if(pn.get(t,o)<=this.LEVENSHTEIN_THRESHOLD)return console.log(`Ciudad conocida detectada: "${i.name}"`),i.name}return null}cleanText(t){return t.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[.,\/#!$%\^&\*;:{}=\-_`~()]/g,"").replace(/\s+/g," ").trim()}cleanTextForSpeech(t){let e=t.replace(/[\u{1F600}-\u{1F64F}\u{1F300}-\u{1F5FF}\u{1F680}-\u{1F6FF}\u{1F1E0}-\u{1F1FF}\u{2600}-\u26FF\u{2700}-\u27BF]|\ufe0f/gu,"");return e=e.replace(/\bkm\b/gi,"kil\xF3metros"),e=e.replace(/\baprox\b/gi,"aproximadamente"),e=e.replace(/\bh\b/gi,"horas"),e=e.replace(/\bmin\b/gi,"minutos"),e=e.replace(/\*\*(.*?)\*\*/g,"$1"),e}stopSpeech(){this.currentSpeechUtterance&&speechSynthesis.speaking&&(speechSynthesis.cancel(),this.currentSpeechUtterance=null)}stopTyping(){this.isTyping&&this.typingTimeout&&(clearTimeout(this.typingTimeout),this.isTyping=!1);let t=this.mensajesIA[this.mensajesIA.length-1];t&&t.tipo==="ia"&&t.fullText&&(t.texto=this.sanitizer.bypassSecurityTrustHtml(t.fullText))}stopAllProcessing(){this.stopSpeech(),this.stopTyping(),this.stopProcessing()}stopProcessing(){this.isWaitingForResponse=!1}speak(t){this.stopSpeech(),"speechSynthesis"in window?(this.currentSpeechUtterance=new SpeechSynthesisUtterance(t),this.currentSpeechUtterance.lang="es-ES",this.currentSpeechUtterance.onend=()=>{this.stopProcessing()},this.currentSpeechUtterance.onerror=e=>{console.error("SpeechSynthesisUtterance.onerror",e),this.stopProcessing()},speechSynthesis.speak(this.currentSpeechUtterance)):(console.warn("Text-to-speech not supported in this browser."),this.stopProcessing())}esSaludoNatural(t){let e="hola",n=this.cleanText(t);return pn.get(n,e)<=2||pn.get(n,"hello")<=2}procesarPrompt(){if(this.isWaitingForResponse){this.stopAllProcessing();return}if(!this.userLocation){this.displayAIResponse("\u{1F504} Esperando ubicaci\xF3n para poder ayudarte...","Esperando ubicaci\xF3n para poder ayudarte.");return}let t=this.userPrompt.trim();if(t==="")return;if(this.esSaludoNatural(t)){this.mensajesIA.push({tipo:"usuario",texto:t}),this.userPrompt="",this.scrollAlFinal();let o=`\xA1Hola **${this.authService?.usuario$.value?.nombre||"amigo"}**! Soy tu inteligencia artificial orientada a encontrar la ruta m\xE1s r\xE1pida a los puntos estrat\xE9gicos de reciclaje. \xA1Estoy lista para ayudarte a salvar el planeta!.\xBFQu\xE9 lugar o direcci\xF3n quieres que te traze en el mapa?. \u{1F30E}\u267B\uFE0F`;this.displayAIResponse(o,this.cleanTextForSpeech(o));return}this.mensajesIA.push({tipo:"usuario",texto:t}),this.userPrompt="",this.scrollAlFinal(),this.isWaitingForResponse=!0;let e=this.cleanText(t),n=this.isSpecificLocationRequest(e);if(n)if(this.KNOWN_CITIES.some(o=>o.name===n)){let o=this.KNOWN_CITIES.find(s=>s.name===n);if(o){let s=this.pointsOfInterest.filter(a=>this.cleanText(a.name).includes(o.name)||this.dist({lat:o.lat,lng:o.lng},a)<=this.MAX_DISTANCE_KM*2);if(s.length>0){let a=s.map(h=>h.name).join(", "),l=`\u2705 Entendido. Has preguntado por **${o.name}**. \xA1Excelente elecci\xF3n! Aqu\xED tenemos puntos de reciclaje en: ${a}. \xBFQuieres que te muestre el m\xE1s cercano o todos los puntos en **${o.name}**?`,c=`Entendido. Has preguntado por ${o.name}. Excelente elecci\xF3n. Aqu\xED tenemos puntos de reciclaje en: ${a}. Quieres que te muestre el m\xE1s cercano o todos los puntos en ${o.name}?`;this.displayAIResponse(l,this.cleanTextForSpeech(c))}else{let a=`Lo siento, aunque reconoc\xED "**${n}**", \xA1parece que mis mapas no tienen puntos de reciclaje en esa ciudad todav\xEDa! Mis puntos se centran en **Trujillo, Paij\xE1n y Chocope**. \xBFProbamos con alguna de ellas?`;this.displayAIResponse(a,this.cleanTextForSpeech(a))}}}else this.displayAIResponse(`De acuerdo, buscando la ruta hacia **${n}**... \xA1A por esa aventura de reciclaje!`,`De acuerdo, buscando la ruta hacia ${n}. A por esa aventura de reciclaje!`),this.rutaEspecifica(n,!1);else this.isSimilar(e,this.KEY_PHRASES.allPointsNearby)?(this.displayAIResponse("\xA1Entendido! Buscando los puntos de reciclaje m\xE1s cercanos y trazando rutas... \xA1Prep\xE1rate para la acci\xF3n!","Entendido. Buscando los puntos de reciclaje m\xE1s cercanos y trazando rutas. Prep\xE1rate para la acci\xF3n!"),this.trazarTodasRutasCercanas(!1)):this.isSimilar(e,this.KEY_PHRASES.closestPoint)?(this.displayAIResponse("Claro, buscando el punto de reciclaje m\xE1s cercano y trazando la ruta... \xA1El m\xE1s r\xE1pido gana!","Claro, buscando el punto de reciclaje m\xE1s cercano y trazando la ruta. El m\xE1s r\xE1pido gana!"),this.rutaMasCercana(!1)):this.handleUnknownLocation(t)}stripQuotes(t){return t.startsWith('"')&&t.endsWith('"')?t.substring(1,t.length-1):t}handleUnknownLocation(t){return cr(this,null,function*(){let e=new google.maps.Geocoder,n=this.cleanText(t),i=this.stripQuotes(t);try{let o=yield e.geocode({address:n});if(o.results&&o.results.length>0){let s=o.results[0].geometry.location,a=o.results[0].formatted_address;if(this.isLocationWithinKnownArea(s.lat(),s.lng())){let c=`\u{1F914} \xA1Vaya! Parece que est\xE1s buscando **${i}** (${a}). Aunque no es un punto de reciclaje espec\xEDfico en mi base de datos, \xA1est\xE1 en mi radar! Est\xE1 en una zona que conozco (**Trujillo, Paij\xE1n o Chocope**). \xBFQuieres que te muestre los puntos de reciclaje m\xE1s cercanos a esa ubicaci\xF3n, o todos los puntos en esta \xE1rea?`,h=`Vaya, parece que est\xE1s buscando ${i} (${a}). Aunque no es un punto de reciclaje espec\xEDfico en mi base de datos, est\xE1 en mi radar. Est\xE1 en una zona que conozco (Trujillo, Paij\xE1n o Chocope). Quieres que te muestre los puntos de reciclaje m\xE1s cercanos a esa ubicaci\xF3n, o todos los puntos en esta \xE1rea?`;this.displayAIResponse(c,this.cleanTextForSpeech(h))}else{let c=`\u{1F61E} \xA1Uy! La direcci\xF3n ingresada **${i}** est\xE1 fuera de mi zona de confort de reciclaje por el momento. \xA1Parece que estamos en el fin del mundo! Te puedo ayudar a encontrar puntos de reciclaje en **Trujillo, Paij\xE1n y Chocope**. \xBFQu\xE9 te parece?`,h=`Uy. La direcci\xF3n ingresada ${i} est\xE1 fuera de mi zona de confort de reciclaje por el momento. Te puedo ayudar a encontrar puntos de reciclaje en Trujillo, Paij\xE1n y Chocope. Qu\xE9 te parece?`;this.displayAIResponse(c,this.cleanTextForSpeech(h))}}else this.displayAIResponse("\u{1F916} \xA1Caracoles! Lo siento, no pude entender tu solicitud. \xA1Mi cerebro de IA est\xE1 en modo siesta! Por favor, intenta de nuevo con un comando diferente o m\xE1s claro.",this.cleanTextForSpeech("Caracoles. Lo siento, no pude entender tu solicitud. Mi cerebro de IA est\xE1 en modo siesta. Por favor, intenta de nuevo con un comando diferente o m\xE1s claro."))}catch(o){console.error("Error durante la geocodificaci\xF3n:",o),this.displayAIResponse("\u{1F916} \xA1Ups! Hubo un problemilla al procesar tu ubicaci\xF3n. Parece que las se\xF1ales no llegan bien. Por favor, intenta de nuevo con un comando diferente o m\xE1s claro. \xA1No te rindas!",this.cleanTextForSpeech("Ups. Hubo un problemilla al procesar tu ubicaci\xF3n. Parece que las se\xF1ales no llegan bien. Por favor, intenta de nuevo con un comando diferente o m\xE1s claro. No te rindas!"))}})}isLocationWithinKnownArea(t,e){let n={lat:t,lng:e},i=50;for(let o of this.KNOWN_CITIES){let s={lat:o.lat,lng:o.lng};if(this.dist(n,s)<=i)return!0}return!1}clearAllRoutes(){this.activeDirectionsRenderers.forEach(t=>{t.setMap(null)}),this.activeDirectionsRenderers=[]}rutaMasCercana(t=!0){if(this.isWaitingForResponse&&t)return;if(!this.userLocation){this.displayAIResponse("\u{1F504} Esperando ubicaci\xF3n para poder ayudarte a encontrar la ruta m\xE1s cercana...","Esperando ubicaci\xF3n para poder ayudarte a encontrar la ruta m\xE1s cercana."),this.stopProcessing();return}t&&(this.mensajesIA.push({tipo:"usuario",texto:"Ubicame la ruta m\xE1s cercana desde mi ubicaci\xF3n"}),this.scrollAlFinal(),this.isWaitingForResponse=!0),this.clearAllRoutes(),this.resetMarkerIcons();let e=this.pointsOfInterest.filter(o=>this.dist(this.userLocation,o)<=this.MAX_DISTANCE_KM);if(e.length===0){let o=`\u{1F61E} No se encontraron puntos de reciclaje cercanos (dentro de ${this.MAX_DISTANCE_KM} km) a tu ubicaci\xF3n.`;this.displayAIResponse(o,o);return}let n=e[0],i=this.dist(this.userLocation,n);e.forEach(o=>{let s=this.dist(this.userLocation,o);s<i&&(i=s,n=o)}),this.trazarRuta(this.userLocation,n.markerTitle,{lat:n.lat,lng:n.lng})}rutaEspecifica(t,e=!0){if(this.isWaitingForResponse&&e)return;if(!this.userLocation){this.displayAIResponse(`\u{1F504} Esperando ubicaci\xF3n para poder trazar la ruta a ${t}...`,`Esperando ubicaci\xF3n para poder trazar la ruta a ${t}.`),this.stopProcessing();return}e&&(this.mensajesIA.push({tipo:"usuario",texto:`Ruta a ${t}`}),this.scrollAlFinal(),this.isWaitingForResponse=!0),this.clearAllRoutes(),this.resetMarkerIcons();let n=this.pointsOfInterest.find(i=>i.name===t);if(n)this.trazarRuta(this.userLocation,n.markerTitle,{lat:n.lat,lng:n.lng});else{let i=`No se encontr\xF3 informaci\xF3n para ${t}.`;this.displayAIResponse(i,i),this.stopProcessing()}}trazarTodasRutasCercanas(t=!0){if(this.isWaitingForResponse&&t)return;if(!this.userLocation){this.displayAIResponse("\u{1F504} Esperando ubicaci\xF3n para poder trazar las rutas a todos los puntos cercanos... \xA1Mis sat\xE9lites est\xE1n en pausa para el caf\xE9!","Esperando ubicaci\xF3n para poder trazar las rutas a todos los puntos cercanos. Mis sat\xE9lites est\xE1n en pausa para el caf\xE9.");return}t&&(this.mensajesIA.push({tipo:"usuario",texto:"Trazar todos los puntos cercanos"}),this.scrollAlFinal(),this.isWaitingForResponse=!0),this.clearAllRoutes(),this.resetMarkerIcons();let e=this.pointsOfInterest.filter(l=>this.dist(this.userLocation,l)<=this.MAX_DISTANCE_KM);e.sort((l,c)=>{let h=this.dist(this.userLocation,l),v=this.dist(this.userLocation,c);return h-v});let n=e.length,i;if(n===0){i=`\u{1F61E} No se encontraron puntos de reciclaje cercanos (dentro de ${this.MAX_DISTANCE_KM} km) a tu ubicaci\xF3n. \xA1Parece que los puntos se fueron de paseo!`,this.displayAIResponse(i,this.cleanTextForSpeech(i));return}let o=0,s=new Map,a=e.length*2;e.forEach((l,c)=>{let h=String.fromCharCode(65+c),v=this.placedMarkers.get(l.markerTitle);v&&(v.setLabel({text:h,color:"white",fontSize:"14px",fontWeight:"bold"}),v.setIcon({url:"https://maps.gstatic.com/mapfiles/ms2/micons/red-dot.png",scaledSize:new google.maps.Size(40,40)}),this.currentMarkerInfoWindow&&this.currentMarkerInfoWindow.getMap()===this.map&&this.currentMarkerInfoWindow.getPosition().equals(v.getPosition())&&this.currentMarkerInfoWindow.close());let y=new google.maps.DirectionsRenderer({map:this.map,suppressMarkers:!0,preserveViewport:!0,polylineOptions:{strokeColor:"#FF0000",strokeOpacity:.6,strokeWeight:4}});this.activeDirectionsRenderers.push(y);let b=new google.maps.DirectionsRenderer({map:this.map,suppressMarkers:!0,preserveViewport:!0,polylineOptions:{strokeColor:"#0000FF",strokeOpacity:.6,strokeWeight:4}});this.activeDirectionsRenderers.push(b);let _="N/A",w="N/A",x="N/A";this.directionsService.route({origin:this.userLocation,destination:{lat:l.lat,lng:l.lng},travelMode:google.maps.TravelMode.DRIVING,drivingOptions:{departureTime:new Date,trafficModel:"bestguess"}},(B,V)=>{o++,V==="OK"?(y.setDirections(B),_=B.routes[0].legs[0].duration.text,x=B.routes[0].legs[0].distance.text,s.set(l.markerTitle,{name:l.name,label:h,distance:x,drivingDuration:_,walkingDuration:s.get(l.markerTitle)?.walkingDuration||"N/A"})):(console.warn(`No se pudo trazar la ruta en auto a ${l.name}: ${V}`),s.set(l.markerTitle,{name:l.name,label:h,distance:x,drivingDuration:"No disponible",walkingDuration:s.get(l.markerTitle)?.walkingDuration||"N/A"})),o===a&&this.generateAllRoutesSummary(Array.from(s.values()))}),this.directionsService.route({origin:this.userLocation,destination:{lat:l.lat,lng:l.lng},travelMode:google.maps.TravelMode.WALKING},(B,V)=>{o++,V==="OK"?(b.setDirections(B),w=B.routes[0].legs[0].duration.text,x=B.routes[0].legs[0].distance.text,s.set(l.markerTitle,{name:l.name,label:h,distance:x,drivingDuration:s.get(l.markerTitle)?.drivingDuration||"N/A",walkingDuration:w})):(console.warn(`No se pudo trazar la ruta a pie a ${l.name}: ${V}`),s.set(l.markerTitle,{name:l.name,label:h,distance:x,drivingDuration:s.get(l.markerTitle)?.drivingDuration||"N/A",walkingDuration:"No disponible"})),o===a&&this.generateAllRoutesSummary(Array.from(s.values()))})})}generateAllRoutesSummary(t){if(t.length===0){let i="\u{1F61E} No pude calcular rutas a ning\xFAn punto de reciclaje cercano. \xA1Parece que mis rutas est\xE1n de vacaciones!";this.displayAIResponse(i,this.cleanTextForSpeech(i));return}let e=`\xA1Listo! Aqu\xED tienes los puntos de reciclaje cercanos a tu ubicaci\xF3n (${this.userAddress?`**${this.userAddress}**`:"ubicaci\xF3n actual"}):<br><br>`,n=`Listo. Aqu\xED tienes los puntos de reciclaje cercanos a tu ubicaci\xF3n (${this.userAddress?`${this.userAddress}`:"ubicaci\xF3n actual"}):

`;t.sort((i,o)=>{let s=parseFloat(i.distance),a=parseFloat(o.distance);return!isNaN(s)&&!isNaN(a)?s-a:i.distance.localeCompare(o.distance)}),t.forEach(i=>{e+=`**${i.label}. ${i.name}**<br>`,e+=`&nbsp;&nbsp;&nbsp;&nbsp;Distancia: **${i.distance}**<br>`,e+=`&nbsp;&nbsp;&nbsp;&nbsp;Tiempo en auto: **${i.drivingDuration}**<br>`,e+=`&nbsp;&nbsp;&nbsp;&nbsp;Tiempo a pie: **${i.walkingDuration}**<br><br>`,n+=`${i.label}. ${i.name}
`,n+=`    Distancia: ${i.distance}
`,n+=`    Tiempo en auto: ${i.drivingDuration}
`,n+=`    Tiempo a pie: ${i.walkingDuration}

`}),e+="Recuerda que la ruta en **azul** es para **caminar** \u{1F6B6} y la ruta **roja** es para **conducir** \u{1F697}. \xA1A reciclar se ha dicho!",n+="Recuerda que la ruta en azul es para caminar y la ruta roja es para conducir. A reciclar se ha dicho!",this.displayAIResponse(e,this.cleanTextForSpeech(n))}resetMarkerIcons(){this.placedMarkers.forEach((t,e)=>{t.setIcon({url:"assets/images/plastico_icon.png",scaledSize:new google.maps.Size(40,40)})})}trazarRuta(t,e,n){this.stopAllProcessing(),this.isWaitingForResponse=!0,this.resetMarkerIcons(),this.clearAllRoutes();let i=new google.maps.DirectionsRenderer({suppressMarkers:!0});i.setMap(this.map),this.activeDirectionsRenderers.push(i),this.directionsService.route({origin:t,destination:n,travelMode:google.maps.TravelMode.DRIVING,drivingOptions:{departureTime:new Date,trafficModel:"bestguess"}},(o,s)=>{if(s!==google.maps.DirectionsStatus.OK){let w=`\u274C No se pudo trazar la ruta: ${s}`;this.displayAIResponse(w,w),i.setMap(null),this.activeDirectionsRenderers=this.activeDirectionsRenderers.filter(x=>x!==i);return}i.setDirections(o),this.placedMarkers.forEach((w,x)=>{x===e&&w.setIcon({url:"https://maps.gstatic.com/mapfiles/ms2/micons/red-dot.png",scaledSize:new google.maps.Size(40,40)})});let a=o.routes[0].legs[0],l=a.distance.text,c=a.duration.text,h=Math.round(a.duration.value/60),v=e.replace("Punto de reciclaje: ",""),y=this.userAddress||"tu ubicaci\xF3n actual",b=`\u{1F9ED} Ruta hacia <b>${v}</b>. Distancia: ${l}.<br>\u{1F9CD} Caminando toma ${c.replace(/\bmin\b/,"minutos")}.<br>\u{1F695} En autom\xF3vil aproximadamente ${h} minutos.<br>\u267B\uFE0FPunto estrat\xE9gico para reciclar y cuidar nuestro planeta.\u{1F30E}`,_=`Ruta hacia ${v}. Distancia: ${l}. Caminando toma ${c.replace(/\bmin\b/,"minutos")}. En autom\xF3vil aproximadamente ${h} minutos. Punto estrat\xE9gico para reciclar y cuidar nuestro planeta.`;this.displayAIResponse(b,_)})}addMarkers(){this.pointsOfInterest.forEach((t,e)=>{let n=new google.maps.Marker({position:{lat:t.lat,lng:t.lng},map:this.map,title:t.markerTitle,icon:{url:"assets/images/plastico_icon.png",scaledSize:new google.maps.Size(40,40)}});this.placedMarkers.set(t.markerTitle,n);let i=new google.maps.InfoWindow({content:`<b>${t.markerTitle}</b><br><button id="ruta-btn-${e}">Trazar ruta</button>`}),o=null;n.addListener("click",()=>{this.currentMarkerInfoWindow&&this.currentMarkerInfoWindow.close(),i.open(this.map,n),this.currentMarkerInfoWindow=i,google.maps.event.addListenerOnce(i,"domready",()=>{let s=document.getElementById(`ruta-btn-${e}`);s&&(o&&s.removeEventListener("click",o),o=()=>{if(this.isWaitingForResponse){this.displayAIResponse('Ya estoy procesando una solicitud. Por favor, espera o presiona "Detener".',"Ya estoy procesando una solicitud. Por favor, espera o presiona detener.");return}if(!this.userLocation){this.displayAIResponse("\u{1F504} Ubicaci\xF3n del usuario no disponible. Esperando...","Ubicaci\xF3n del usuario no disponible. Esperando.");return}this.mensajesIA.push({tipo:"usuario",texto:`Trazar ruta a ${t.markerTitle.replace("Punto de reciclaje: ","")}.`}),this.scrollAlFinal();let a=`\u{1F4CD} Trazando ruta hacia ${t.markerTitle.replace("Punto de reciclaje: ","")}...`,l=`Trazando ruta hacia ${t.markerTitle.replace("Punto de reciclaje: ","")}.`;this.displayAIResponse(a,l),this.trazarRuta(this.userLocation,t.markerTitle,n.getPosition()),i.close()},s.addEventListener("click",o))}),google.maps.event.addListenerOnce(i,"closeclick",()=>{let s=document.getElementById(`ruta-btn-${e}`);s&&o&&(s.removeEventListener("click",o),o=null)})})})}dist(t,e){let i=this.rad(e.lat-t.lat),o=this.rad(e.lng-t.lng),s=Math.sin(i/2)**2+Math.cos(this.rad(t.lat))*Math.cos(this.rad(e.lat))*Math.sin(o/2)**2;return 6371*(2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s)))}rad(t){return t*Math.PI/180}findClosestPoint(){if(!this.userLocation)return null;let t=this.pointsOfInterest.filter(i=>this.dist(this.userLocation,i)<=this.MAX_DISTANCE_KM);if(t.length===0)return null;let e=null,n=1/0;for(let i of t){let o=this.dist(this.userLocation,i);o<n&&(n=o,e=i)}return e}static \u0275fac=function(e){return new(e||r)(k(xe),k(Bt),k(nn))};static \u0275cmp=Te({type:r,selectors:[["app-mapa"]],decls:22,vars:7,consts:[[1,"theme-toggle-container"],[1,"switch"],["type","checkbox",3,"change"],[1,"slider","round"],[1,"theme-label"],[1,"container"],[1,"card"],[1,"title"],[1,"conversacion"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"input-group"],["type","text","placeholder","\xBFQu\xE9 punto estrat\xE9gico de reciclaje quieres ver? ",1,"input-prompt",3,"ngModelChange","keyup.enter","ngModel","disabled"],[1,"main-btn",3,"click","disabled"],[1,"button-group"],["id","map",1,"map-container"],[3,"ngClass"],[3,"innerHTML",4,"ngIf"],[4,"ngIf"],[3,"innerHTML"]],template:function(e,n){e&1&&(u(0,"div",0)(1,"label",1)(2,"input",2),P("change",function(o){return n.toggleDarkMode(o)}),d(),le(3,"span",3),d(),u(4,"span",4),p(5,"Modo oscuro"),d()(),u(6,"div",5)(7,"div",6)(8,"h2",7),p(9,"GreenIA"),d(),u(10,"div",8),q(11,Hg,3,3,"div",9),d(),u(12,"div",10)(13,"input",11),_e("ngModelChange",function(o){return ve(n.userPrompt,o)||(n.userPrompt=o),o}),P("keyup.enter",function(){return n.procesarPrompt()}),d(),u(14,"button",12),P("click",function(){return n.procesarPrompt()}),p(15),d()(),u(16,"div",13)(17,"button",12),P("click",function(){return n.rutaMasCercana()}),p(18,"Ruta m\xE1s cercana"),d(),u(19,"button",12),P("click",function(){return n.rutaEspecifica("Chocope")}),p(20,"Ruta a Chocope"),d()()()(),le(21,"div",14)),e&2&&(m(11),S("ngForOf",n.mensajesIA),m(2),ge("ngModel",n.userPrompt),S("disabled",n.isWaitingForResponse),m(),S("disabled",n.isWaitingForResponse),m(),we(" ",n.isWaitingForResponse?"Detener":"Enviar"," "),m(2),S("disabled",n.isWaitingForResponse),m(2),S("disabled",n.isWaitingForResponse))},dependencies:[He,Tn,kt,dt,Qn,zt,Gn,dn],styles:['[_ngcontent-%COMP%]:root{--color-bg: #ffffff;--color-card: #ffffff;--color-text: #1f1f1f;--color-input-bg: #f1f3f4;--color-border: #e0e0e0;--color-button: #1a73e8;--color-button-hover: #0c59cf}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{--color-bg: #ffffff;--color-card: #ffffff;--color-text: #1f1f1f;--color-input-bg: #f1f3f4;--color-border: #e0e0e0;--color-button: #1a73e8;--color-button-hover: #0c59cf;background-color:var(--color-bg);color:var(--color-text);font-family:Segoe UI,Roboto,sans-serif;margin:0;padding:0}#map[_ngcontent-%COMP%]{height:400px;width:100%}.theme-toggle-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;padding:1rem 2rem 0}.theme-label[_ngcontent-%COMP%]{margin-left:.5rem;font-size:.9rem;color:var(--color-text, #1f1f1f)}.container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:1rem}.card[_ngcontent-%COMP%]{background-color:var(--color-card, #ffffff);border:1px solid var(--color-border, #e0e0e0);border-radius:16px;box-shadow:0 4px 12px #0000000d;padding:2rem;width:100%;max-width:600px;transition:background .3s}.title[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1.5rem;color:var(--color-text, #1f1f1f)}.input-group[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-bottom:1rem;margin-top:-10px}.input-prompt[_ngcontent-%COMP%]{flex:1;padding:.75rem 1rem;border:1px solid var(--color-border, #e0e0e0);border-radius:8px;background-color:var(--color-input-bg, #f1f3f4);font-size:1rem;color:var(--color-text, #1f1f1f)}.main-btn[_ngcontent-%COMP%]{padding:.75rem 1rem;background-color:var(--color-button, #1a73e8);color:#fff;border:none;border-radius:8px;cursor:pointer;font-size:1rem;transition:background .3s}.main-btn[_ngcontent-%COMP%]:hover{background-color:var(--color-button-hover, #0c59cf)}.button-group[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:1rem;margin-top:1rem}.button-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;padding:.75rem 1rem;background-color:var(--color-button, #1a73e8);color:#fff;border:none;border-radius:8px;font-size:.95rem;cursor:pointer;transition:background .3s}.button-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--color-button-hover, #0c59cf)}.map-container[_ngcontent-%COMP%]{margin-top:2rem;width:100%;height:500px;border-radius:12px;overflow:hidden}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:46px;height:24px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:#ccc;transition:.4s;border-radius:24px}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:18px;width:18px;left:3px;bottom:3px;background-color:#fff;transition:.4s;border-radius:50%}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:var(--color-button, #1a73e8)}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(22px)}.mensaje-natural[_ngcontent-%COMP%]{margin-top:1rem;font-size:1rem;color:var(--color-text, #1f1f1f);background-color:var(--color-card, #ffffff);padding:.75rem 1rem;border-left:4px solid var(--color-button, #1a73e8);border-radius:8px}.conversacion[_ngcontent-%COMP%]{max-height:300px;overflow-y:auto;padding:10px;background:var(--color-input-bg);border:1px solid var(--color-border);border-radius:10px;margin-top:10px}.mensaje[_ngcontent-%COMP%]{padding:8px 12px;margin-bottom:8px;border-radius:15px;max-width:80%;word-wrap:break-word}.mensaje.usuario[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;margin-left:auto;text-align:right}.mensaje.ia[_ngcontent-%COMP%]{background-color:#e0e0e0;color:#333;margin-right:auto;text-align:left}.mensaje.ia[_ngcontent-%COMP%]:after{content:"|";display:inline-block;margin-left:2px;animation:_ngcontent-%COMP%_blink-caret .75s step-end infinite}.conversacion[_ngcontent-%COMP%]   .mensaje.ia[_ngcontent-%COMP%]:not(:last-child):after{content:none}@keyframes _ngcontent-%COMP%_blink-caret{0%,to{opacity:0}50%{opacity:1}}.conversacion[_ngcontent-%COMP%]   .mensaje.ia[_ngcontent-%COMP%]{white-space:pre-wrap;word-wrap:break-word}.conversacion[_ngcontent-%COMP%]   .mensaje.ia[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{font-weight:700}']})};var wa={};(function r(t,e,n,i){var o=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),s=typeof Path2D=="function"&&typeof DOMMatrix=="function",a=function(){if(!t.OffscreenCanvas)return!1;var g=new OffscreenCanvas(1,1),f=g.getContext("2d");f.fillRect(0,0,1,1);var T=g.transferToImageBitmap();try{f.createPattern(T,"no-repeat")}catch{return!1}return!0}();function l(){}function c(g){var f=e.exports.Promise,T=f!==void 0?f:t.Promise;return typeof T=="function"?new T(g):(g(l,l),null)}var h=function(g,f){return{transform:function(T){if(g)return T;if(f.has(T))return f.get(T);var F=new OffscreenCanvas(T.width,T.height),D=F.getContext("2d");return D.drawImage(T,0,0),f.set(T,F),F},clear:function(){f.clear()}}}(a,new Map),v=function(){var g=Math.floor(16.666666666666668),f,T,F={},D=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(f=function(W){var K=Math.random();return F[K]=requestAnimationFrame(function O($){D===$||D+g-1<$?(D=$,delete F[K],W()):F[K]=requestAnimationFrame(O)}),K},T=function(W){F[W]&&cancelAnimationFrame(F[W])}):(f=function(W){return setTimeout(W,g)},T=function(W){return clearTimeout(W)}),{frame:f,cancel:T}}(),y=function(){var g,f,T={};function F(D){function W(K,O){D.postMessage({options:K||{},callback:O})}D.init=function(O){var $=O.transferControlToOffscreen();D.postMessage({canvas:$},[$])},D.fire=function(O,$,G){if(f)return W(O,null),f;var de=Math.random().toString(36).slice(2);return f=c(function(se){function Ce(Ee){Ee.data.callback===de&&(delete T[de],D.removeEventListener("message",Ce),f=null,h.clear(),G(),se())}D.addEventListener("message",Ce),W(O,de),T[de]=Ce.bind(null,{data:{callback:de}})}),f},D.reset=function(){D.postMessage({reset:!0});for(var O in T)T[O](),delete T[O]}}return function(){if(g)return g;if(!n&&o){var D=["var CONFETTI, SIZE = {}, module = {};","("+r.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{g=new Worker(URL.createObjectURL(new Blob([D])))}catch(W){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("\u{1F38A} Could not load worker",W),null}F(g)}return g}}(),b={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function _(g,f){return f?f(g):g}function w(g){return g!=null}function x(g,f,T){return _(g&&w(g[f])?g[f]:b[f],T)}function B(g){return g<0?0:Math.floor(g)}function V(g,f){return Math.floor(Math.random()*(f-g))+g}function X(g){return parseInt(g,16)}function ne(g){return g.map(oe)}function oe(g){var f=String(g).replace(/[^0-9a-f]/gi,"");return f.length<6&&(f=f[0]+f[0]+f[1]+f[1]+f[2]+f[2]),{r:X(f.substring(0,2)),g:X(f.substring(2,4)),b:X(f.substring(4,6))}}function fe(g){var f=x(g,"origin",Object);return f.x=x(f,"x",Number),f.y=x(f,"y",Number),f}function ue(g){g.width=document.documentElement.clientWidth,g.height=document.documentElement.clientHeight}function pe(g){var f=g.getBoundingClientRect();g.width=f.width,g.height=f.height}function De(g){var f=document.createElement("canvas");return f.style.position="fixed",f.style.top="0px",f.style.left="0px",f.style.pointerEvents="none",f.style.zIndex=g,f}function At(g,f,T,F,D,W,K,O,$){g.save(),g.translate(f,T),g.rotate(W),g.scale(F,D),g.arc(0,0,1,K,O,$),g.restore()}function gi(g){var f=g.angle*(Math.PI/180),T=g.spread*(Math.PI/180);return{x:g.x,y:g.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:g.startVelocity*.5+Math.random()*g.startVelocity,angle2D:-f+(.5*T-Math.random()*T),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:g.color,shape:g.shape,tick:0,totalTicks:g.ticks,decay:g.decay,drift:g.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:g.gravity*3,ovalScalar:.6,scalar:g.scalar,flat:g.flat}}function yt(g,f){f.x+=Math.cos(f.angle2D)*f.velocity+f.drift,f.y+=Math.sin(f.angle2D)*f.velocity+f.gravity,f.velocity*=f.decay,f.flat?(f.wobble=0,f.wobbleX=f.x+10*f.scalar,f.wobbleY=f.y+10*f.scalar,f.tiltSin=0,f.tiltCos=0,f.random=1):(f.wobble+=f.wobbleSpeed,f.wobbleX=f.x+10*f.scalar*Math.cos(f.wobble),f.wobbleY=f.y+10*f.scalar*Math.sin(f.wobble),f.tiltAngle+=.1,f.tiltSin=Math.sin(f.tiltAngle),f.tiltCos=Math.cos(f.tiltAngle),f.random=Math.random()+2);var T=f.tick++/f.totalTicks,F=f.x+f.random*f.tiltCos,D=f.y+f.random*f.tiltSin,W=f.wobbleX+f.random*f.tiltCos,K=f.wobbleY+f.random*f.tiltSin;if(g.fillStyle="rgba("+f.color.r+", "+f.color.g+", "+f.color.b+", "+(1-T)+")",g.beginPath(),s&&f.shape.type==="path"&&typeof f.shape.path=="string"&&Array.isArray(f.shape.matrix))g.fill(N(f.shape.path,f.shape.matrix,f.x,f.y,Math.abs(W-F)*.1,Math.abs(K-D)*.1,Math.PI/10*f.wobble));else if(f.shape.type==="bitmap"){var O=Math.PI/10*f.wobble,$=Math.abs(W-F)*.1,G=Math.abs(K-D)*.1,de=f.shape.bitmap.width*f.scalar,se=f.shape.bitmap.height*f.scalar,Ce=new DOMMatrix([Math.cos(O)*$,Math.sin(O)*$,-Math.sin(O)*G,Math.cos(O)*G,f.x,f.y]);Ce.multiplySelf(new DOMMatrix(f.shape.matrix));var Ee=g.createPattern(h.transform(f.shape.bitmap),"no-repeat");Ee.setTransform(Ce),g.globalAlpha=1-T,g.fillStyle=Ee,g.fillRect(f.x-de/2,f.y-se/2,de,se),g.globalAlpha=1}else if(f.shape==="circle")g.ellipse?g.ellipse(f.x,f.y,Math.abs(W-F)*f.ovalScalar,Math.abs(K-D)*f.ovalScalar,Math.PI/10*f.wobble,0,2*Math.PI):At(g,f.x,f.y,Math.abs(W-F)*f.ovalScalar,Math.abs(K-D)*f.ovalScalar,Math.PI/10*f.wobble,0,2*Math.PI);else if(f.shape==="star")for(var te=Math.PI/2*3,Re=4*f.scalar,Ye=8*f.scalar,Ze=f.x,Ct=f.y,Kt=5,st=Math.PI/Kt;Kt--;)Ze=f.x+Math.cos(te)*Ye,Ct=f.y+Math.sin(te)*Ye,g.lineTo(Ze,Ct),te+=st,Ze=f.x+Math.cos(te)*Re,Ct=f.y+Math.sin(te)*Re,g.lineTo(Ze,Ct),te+=st;else g.moveTo(Math.floor(f.x),Math.floor(f.y)),g.lineTo(Math.floor(f.wobbleX),Math.floor(D)),g.lineTo(Math.floor(W),Math.floor(K)),g.lineTo(Math.floor(F),Math.floor(f.wobbleY));return g.closePath(),g.fill(),f.tick<f.totalTicks}function ar(g,f,T,F,D){var W=f.slice(),K=g.getContext("2d"),O,$,G=c(function(de){function se(){O=$=null,K.clearRect(0,0,F.width,F.height),h.clear(),D(),de()}function Ce(){n&&!(F.width===i.width&&F.height===i.height)&&(F.width=g.width=i.width,F.height=g.height=i.height),!F.width&&!F.height&&(T(g),F.width=g.width,F.height=g.height),K.clearRect(0,0,F.width,F.height),W=W.filter(function(Ee){return yt(K,Ee)}),W.length?O=v.frame(Ce):se()}O=v.frame(Ce),$=se});return{addFettis:function(de){return W=W.concat(de),G},canvas:g,promise:G,reset:function(){O&&v.cancel(O),$&&$()}}}function lr(g,f){var T=!g,F=!!x(f||{},"resize"),D=!1,W=x(f,"disableForReducedMotion",Boolean),K=o&&!!x(f||{},"useWorker"),O=K?y():null,$=T?ue:pe,G=g&&O?!!g.__confetti_initialized:!1,de=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,se;function Ce(te,Re,Ye){for(var Ze=x(te,"particleCount",B),Ct=x(te,"angle",Number),Kt=x(te,"spread",Number),st=x(te,"startVelocity",Number),mh=x(te,"decay",Number),gh=x(te,"gravity",Number),vh=x(te,"drift",Number),bl=x(te,"colors",ne),_h=x(te,"ticks",Number),wl=x(te,"shapes"),yh=x(te,"scalar"),Ch=!!x(te,"flat"),Sl=fe(te),Ml=Ze,rs=[],bh=g.width*Sl.x,wh=g.height*Sl.y;Ml--;)rs.push(gi({x:bh,y:wh,angle:Ct,spread:Kt,startVelocity:st,color:bl[Ml%bl.length],shape:wl[V(0,wl.length)],ticks:_h,decay:mh,gravity:gh,drift:vh,scalar:yh,flat:Ch}));return se?se.addFettis(rs):(se=ar(g,rs,$,Re,Ye),se.promise)}function Ee(te){var Re=W||x(te,"disableForReducedMotion",Boolean),Ye=x(te,"zIndex",Number);if(Re&&de)return c(function(st){st()});T&&se?g=se.canvas:T&&!g&&(g=De(Ye),document.body.appendChild(g)),F&&!G&&$(g);var Ze={width:g.width,height:g.height};O&&!G&&O.init(g),G=!0,O&&(g.__confetti_initialized=!0);function Ct(){if(O){var st={getBoundingClientRect:function(){if(!T)return g.getBoundingClientRect()}};$(st),O.postMessage({resize:{width:st.width,height:st.height}});return}Ze.width=Ze.height=null}function Kt(){se=null,F&&(D=!1,t.removeEventListener("resize",Ct)),T&&g&&(document.body.contains(g)&&document.body.removeChild(g),g=null,G=!1)}return F&&!D&&(D=!0,t.addEventListener("resize",Ct,!1)),O?O.fire(te,Ze,Kt):Ce(te,Ze,Kt)}return Ee.reset=function(){O&&O.reset(),se&&se.reset()},Ee}var bn;function I(){return bn||(bn=lr(null,{useWorker:!0,resize:!0})),bn}function N(g,f,T,F,D,W,K){var O=new Path2D(g),$=new Path2D;$.addPath(O,new DOMMatrix(f));var G=new Path2D;return G.addPath($,new DOMMatrix([Math.cos(K)*D,Math.sin(K)*D,-Math.sin(K)*W,Math.cos(K)*W,T,F])),G}function j(g){if(!s)throw new Error("path confetti are not supported in this browser");var f,T;typeof g=="string"?f=g:(f=g.path,T=g.matrix);var F=new Path2D(f),D=document.createElement("canvas"),W=D.getContext("2d");if(!T){for(var K=1e3,O=K,$=K,G=0,de=0,se,Ce,Ee=0;Ee<K;Ee+=2)for(var te=0;te<K;te+=2)W.isPointInPath(F,Ee,te,"nonzero")&&(O=Math.min(O,Ee),$=Math.min($,te),G=Math.max(G,Ee),de=Math.max(de,te));se=G-O,Ce=de-$;var Re=10,Ye=Math.min(Re/se,Re/Ce);T=[Ye,0,0,Ye,-Math.round(se/2+O)*Ye,-Math.round(Ce/2+$)*Ye]}return{type:"path",path:f,matrix:T}}function ee(g){var f,T=1,F="#000000",D='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof g=="string"?f=g:(f=g.text,T="scalar"in g?g.scalar:T,D="fontFamily"in g?g.fontFamily:D,F="color"in g?g.color:F);var W=10*T,K=""+W+"px "+D,O=new OffscreenCanvas(W,W),$=O.getContext("2d");$.font=K;var G=$.measureText(f),de=Math.ceil(G.actualBoundingBoxRight+G.actualBoundingBoxLeft),se=Math.ceil(G.actualBoundingBoxAscent+G.actualBoundingBoxDescent),Ce=2,Ee=G.actualBoundingBoxLeft+Ce,te=G.actualBoundingBoxAscent+Ce;de+=Ce+Ce,se+=Ce+Ce,O=new OffscreenCanvas(de,se),$=O.getContext("2d"),$.font=K,$.fillStyle=F,$.fillText(f,Ee,te);var Re=1/T;return{type:"bitmap",bitmap:O.transferToImageBitmap(),matrix:[Re,0,0,Re,-de*Re/2,-se*Re/2]}}e.exports=function(){return I().apply(this,arguments)},e.exports.reset=function(){I().reset()},e.exports.create=lr,e.exports.shapeFromPath=j,e.exports.shapeFromText=ee})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),wa,!1);var fd=wa.exports,XC=wa.exports.create;var Wg=(r,t,e)=>({correcto:r,incorrecto:t,bloqueado:e});function Gg(r,t){r&1&&(u(0,"div"),p(1,"\u2705"),d())}function Kg(r,t){r&1&&(u(0,"div"),p(1,"\u{1F512}"),d())}function Qg(r,t){if(r&1){let e=Y();u(0,"div",5),P("click",function(){let i=M(e).$implicit,o=C();return E(o.jugarNivel(i))}),u(1,"span"),p(2),d(),q(3,Gg,2,0,"div",6)(4,Kg,2,0,"div",6),d()}if(r&2){let e=t.$implicit,n=C();$e("desbloqueado",e<=n.nivelActual+1)("completado",e<=n.nivelActual),m(2),we("Nivel ",e,""),m(),S("ngIf",e<=n.nivelActual),m(),S("ngIf",e>n.nivelActual)}}function Jg(r,t){r&1&&(u(0,"span"),p(1,"\u2705"),d())}function Yg(r,t){r&1&&(u(0,"span"),p(1,"\u274C"),d())}function Zg(r,t){if(r&1){let e=Y();u(0,"li",15),P("click",function(){let i=M(e).index,o=C(3);return E(o.seleccionarOpcion(i))}),u(1,"span",16),p(2),d(),q(3,Jg,2,0,"span",6)(4,Yg,2,0,"span",6),d()}if(r&2){let e=t.$implicit,n=t.index,i=C(3);S("ngClass",dc(4,Wg,i.esCorrecto(n),i.esIncorrecto(n),i.bloquearPregunta&&i.respuestaSeleccionada===null)),m(2),U(e),m(),S("ngIf",i.esCorrecto(n)),m(),S("ngIf",i.esIncorrecto(n))}}function Xg(r,t){if(r&1&&(u(0,"div",12)(1,"div",13),p(2),d(),u(3,"h3"),p(4),d(),u(5,"ul"),q(6,Zg,5,8,"li",14),d()()),r&2){let e=C(2);m(2),we(" \u23F1\uFE0F Tiempo: ",e.tiempoRestante," segundos "),m(2),U(e.preguntas[e.preguntaActual].pregunta),m(2),S("ngForOf",e.preguntas[e.preguntaActual]==null?null:e.preguntas[e.preguntaActual].opciones)}}function e0(r,t){if(r&1){let e=Y();u(0,"img",22),P("dragstart",function(i){let o=M(e).$implicit,s=C(3);return E(s.dragStart(i,o.tipo))}),d()}if(r&2){let e=t.$implicit;S("src","assets/residuos/"+e.imagen,hr)("alt",e.nombre)}}function t0(r,t){if(r&1){let e=Y();u(0,"div",23),P("dragover",function(i){M(e);let o=C(3);return E(o.allowDrop(i))})("drop",function(i){let o=M(e).$implicit,s=C(3);return E(s.drop(i,o.tipo))}),le(1,"img",24),d()}if(r&2){let e=t.$implicit;Dt("data-tipo",e.tipo),m(),S("src","assets/contenedores/"+e.imagen,hr)("alt",e.tipo)}}function n0(r,t){if(r&1&&(u(0,"div",17)(1,"div",13),p(2),d(),u(3,"h3"),p(4,"Arrastra cada residuo al contenedor correcto"),d(),u(5,"div",18),q(6,e0,1,2,"img",19),d(),u(7,"div",20),q(8,t0,2,3,"div",21),d()()),r&2){let e=C(2);m(2),we(" \u23F1\uFE0F Tiempo: ",e.tiempoRestante," segundos "),m(4),S("ngForOf",e.residuos),m(2),S("ngForOf",e.contenedores)}}function r0(r,t){if(r&1){let e=Y();u(0,"div",7)(1,"div",8)(2,"h2"),p(3),d(),q(4,Xg,7,3,"div",9)(5,n0,9,3,"div",10),u(6,"button",11),P("click",function(){M(e);let i=C();return E(i.cerrarModal())}),p(7,"Cancelar"),d()()()}if(r&2){let e=C();m(3),we("Nivel ",e.nivelSeleccionado,""),m(),S("ngIf",e.tipoJuego==="quiz"&&e.preguntas.length),m(),S("ngIf",e.tipoJuego==="arrastrar")}}function i0(r,t){if(r&1){let e=Y();u(0,"div",7)(1,"div",25)(2,"button",26),P("click",function(){M(e);let i=C();return E(i.mensajeVisible=!1)}),p(3,"\xD7"),d(),u(4,"p"),p(5),d()()()}if(r&2){let e=C();m(),S("ngClass",e.mensajeTipo),m(4),U(e.mensajeTexto)}}var wo=class r{constructor(t,e,n){this.http=t;this.router=e;this.platformId=n}mensajeVisible=!1;mensajeTexto="";mensajeTipo="exito";respuestaIncorrecta=!1;todasCorrectas=!0;arrastreCorrecto=!0;usuario_id=0;nivelActual=0;puntaje=0;medallas="";niveles=[1,2,3,4,5,6,7,8,9,10];mostrarModal=!1;respuestaSeleccionada=null;tipoJuego="quiz";nivelSeleccionado=0;preguntaActual=0;puntajeJuego=0;preguntas=[];residuos=[];contenedores=[];draggedTipo="";timer;tiempoRestante=20;temporizadorActivo=!1;bloquearPregunta=!1;nivelesConfig={1:{tipo:"quiz",preguntas:[{pregunta:"\xBFQu\xE9 material es 100% reciclable?",opciones:["Pl\xE1stico","Vidrio","Org\xE1nico","Madera"],respuesta:0},{pregunta:"\xBFQu\xE9 color representa los residuos org\xE1nicos?",opciones:["Rojo","Verde","Negro","Amarillo"],respuesta:2},{pregunta:"\xBFQu\xE9 tipo de residuo va en el contenedor amarillo?",opciones:["Papel","Metal","Pl\xE1stico","Org\xE1nico"],respuesta:1}]},2:{tipo:"arrastrar",residuos:[{nombre:"Botella",tipo:"plastico",imagen:"botellas_plastico.png"},{nombre:"C\xE1scara de pl\xE1tano",tipo:"organico",imagen:"cascara.png"},{nombre:"Papel",tipo:"papel",imagen:"papel.png"},{nombre:"Vidrio roto",tipo:"vidrio",imagen:"botella.png"}],contenedores:[{tipo:"plastico",nombre:"Naranja",imagen:"naranja.png"},{tipo:"papel",nombre:"Azul",imagen:"azul.png"},{tipo:"vidrio",nombre:"Verde",imagen:"verde.png"},{tipo:"organico",nombre:"Plomo",imagen:"plomo.png"}]},3:{tipo:"quiz",preguntas:[{pregunta:"\xBFQu\xE9 producto es m\xE1s da\xF1ino para el ambiente?",opciones:["Bater\xEDa","C\xE1scara de pl\xE1tano","Vidrio","Cart\xF3n"],respuesta:0},{pregunta:"\xBFCu\xE1l es el s\xEDmbolo universal del reciclaje?",opciones:["\u267B\uFE0F","\u{1F5D1}\uFE0F","\u2668\uFE0F","\u2705"],respuesta:0}]},4:{tipo:"quiz",preguntas:[{pregunta:"\xBFQu\xE9 residuo tarda m\xE1s en degradarse?",opciones:["Papel","Vidrio","C\xE1scara de fruta","Cart\xF3n"],respuesta:1},{pregunta:"\xBFCu\xE1l es el principal beneficio del reciclaje?",opciones:["Aumentar la basura","Ahorrar recursos naturales","Gastar m\xE1s energ\xEDa","Generar m\xE1s residuos"],respuesta:1}]},5:{tipo:"arrastrar",residuos:[{nombre:"Plancha rota",tipo:"electrodomestico",imagen:"plancha.png"},{nombre:"Envase de yogur",tipo:"plastico",imagen:"envases_yogurt.png"},{nombre:"Caja de cart\xF3n",tipo:"papel",imagen:"caja.png"},{nombre:"Taza rota",tipo:"vidrio",imagen:"taza_rota.png"}],contenedores:[{tipo:"plastico",nombre:"Amarillo",imagen:"amarillo.png"},{tipo:"papel",nombre:"Azul",imagen:"azul.png"},{tipo:"vidrio",nombre:"Verde",imagen:"verde.png"},{tipo:"electrodomestico",nombre:"Rojo",imagen:"rojo.png"}]},6:{tipo:"quiz",preguntas:[{pregunta:"\xBFQu\xE9 tipo de residuos van en el contenedor azul?",opciones:["Pl\xE1stico","Vidrio","Papel","Org\xE1nico"],respuesta:2},{pregunta:"\xBFQu\xE9 debemos hacer antes de reciclar una botella pl\xE1stica?",opciones:["Romperla","Ensuciarla","Aplastarla y enjuagarla","Quemarla"],respuesta:2}]},7:{tipo:"quiz",preguntas:[{pregunta:"\xBFCu\xE1l de estos elementos se puede reutilizar f\xE1cilmente en casa?",opciones:["Aceite usado","Botella de vidrio","C\xE1scara de huevo","Cigarrillos"],respuesta:1},{pregunta:"\xBFQu\xE9 acci\xF3n ayuda m\xE1s al reciclaje desde casa?",opciones:["Tirar todo en una sola bolsa","Separar los residuos por tipo","Quemar la basura","Usar bolsas negras para todo"],respuesta:1}]},8:{tipo:"quiz",preguntas:[{pregunta:"\xBFQu\xE9 tipo de residuo representa un riesgo para la salud si no se maneja adecuadamente?",opciones:["Papel","Restos de comida","Pilas","Cart\xF3n"],respuesta:2},{pregunta:"\xBFQu\xE9 debe hacerse con los aparatos electr\xF3nicos en desuso?",opciones:["Tirarlos al tacho com\xFAn","Llevarlos a un punto limpio o especial","Regalarlos sin verificar su estado","Enterrarlos en el jard\xEDn"],respuesta:1},{pregunta:"\xBFCu\xE1l de estos h\xE1bitos reduce la generaci\xF3n de residuos?",opciones:["Comprar productos con mucho empaque","Usar bolsas reutilizables","Consumir productos desechables","Imprimir documentos innecesarios"],respuesta:1}]},9:{tipo:"quiz",preguntas:[{pregunta:"\xBFQu\xE9 acci\xF3n es mejor para cuidar el medio ambiente?",opciones:["Usar el auto para todo","Separar residuos en casa","Comprar productos desechables","Usar agua sin control"],respuesta:1},{pregunta:"\xBFCu\xE1l es una alternativa ecol\xF3gica al papel de aluminio?",opciones:["Pl\xE1stico film","Papel reciclado","Servilletas de papel","Tela encerada reutilizable"],respuesta:3},{pregunta:"\xBFQu\xE9 material contamina m\xE1s los mares?",opciones:["C\xE1scaras de frutas","Hojas secas","Botellas pl\xE1sticas","Cart\xF3n mojado"],respuesta:2}]},10:{tipo:"quiz",preguntas:[{pregunta:"\xBFQu\xE9 significa la econom\xEDa circular?",opciones:["Un modelo que busca reciclar y reutilizar continuamente","Un sistema donde todo se desecha r\xE1pidamente","Una forma de gastar m\xE1s recursos naturales","Una pol\xEDtica de comprar sin l\xEDmites"],respuesta:0},{pregunta:"\xBFQu\xE9 residuo puede usarse para hacer compost en casa?",opciones:["Pilas usadas","C\xE1scaras de fruta","Vidrio roto","Envases met\xE1licos"],respuesta:1}]}};esLocalhost(){return location.hostname==="localhost"||location.hostname==="127.0.0.1"}getApiUrl(){return this.esLocalhost()?"http://localhost:3000/api/juego/guardar-puntaje":"https://comunidadvapps.com/api.php?accion=guardar-puntaje"}getProgresoUrl(){return this.esLocalhost()?`http://localhost:3000/api/progreso/${this.usuario_id}`:`https://comunidadvapps.com/api.php?accion=progreso&id=${this.usuario_id}`}ngOnInit(){if(Ve(this.platformId)){let t=sessionStorage.getItem("usuario_id");t?(this.usuario_id=Number(t),this.obtenerProgreso()):(this.mostrarMensaje("\u26A0\uFE0F No se encontr\xF3 sesi\xF3n de usuario","advertencia"),this.router.navigate(["/inicio"]))}}getApiProgresoUrl(){return window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?"http://localhost:3000/api/progreso/":"https://comunidadvapps.com/api.php?accion=progreso&usuario_id="}obtenerProgreso(){let t=this.getApiProgresoUrl();this.http.get(`${t}${this.usuario_id}`).subscribe({next:e=>{this.nivelActual=e.nivel,this.puntaje=e.puntaje,this.medallas=e.medallas}})}guardarPuntaje(){let t=Math.max(this.nivelActual,this.nivelSeleccionado),e=this.calcularMedallaPorNivel(t),n=this.puntajeJuego>0?this.puntajeJuego:0,i=this.getApiUrl(),o={usuario_id:this.usuario_id,puntaje:n,nivel:t,medallas:e},s=new URLSearchParams;Object.entries(o).forEach(([l,c])=>{s.set(l,c.toString())});let a=new Pc({"Content-Type":"application/x-www-form-urlencoded"});this.http.post(i,this.esLocalhost()?o:s.toString(),this.esLocalhost()?{}:{headers:a}).subscribe({next:l=>{this.mostrarModal=!1,this.dispararConfetti(),this.obtenerProgreso(),this.mostrarMensaje(l.mensaje||"\u2705 Progreso guardado","exito")},error:l=>{let c=l?.error?.mensaje||"\u274C Error inesperado al guardar";this.mostrarMensaje(c,"error")}})}mostrarMensaje(t,e="exito"){this.mensajeTexto=t,this.mensajeTipo=e,this.mensajeVisible=!0,setTimeout(()=>{this.mensajeVisible=!1},2e3)}iniciarTemporizador(){clearInterval(this.timer),this.tiempoRestante=20,this.temporizadorActivo=!0,this.bloquearPregunta=!1,this.timer=setInterval(()=>{this.tiempoRestante--,this.tiempoRestante<=0&&(clearInterval(this.timer),this.temporizadorActivo=!1,this.bloquearPregunta=!0,this.todasCorrectas=!1,setTimeout(()=>{this.preguntaActual++,this.respuestaSeleccionada=null,this.preguntaActual>=this.preguntas.length?this.finalizarQuiz():this.iniciarTemporizador()},800))},1e3)}jugarNivel(t){if(t>this.nivelActual+1){this.mostrarMensaje("\u26A0\uFE0F Debes completar los niveles anteriores primero","advertencia");return}let e=this.nivelesConfig[t];if(!e){this.mostrarMensaje("\u26A0\uFE0F Nivel no disponible a\xFAn","advertencia");return}this.nivelSeleccionado=t,this.tipoJuego=e.tipo,this.puntajeJuego=0,this.preguntaActual=0,this.todasCorrectas=!0,this.arrastreCorrecto=!0,this.respuestaSeleccionada=null,e.tipo==="quiz"?(this.preguntas=e.preguntas||[],this.iniciarTemporizador()):e.tipo==="arrastrar"&&(this.residuos=[...e.residuos||[]],this.contenedores=e.contenedores||[],this.iniciarTemporizador()),this.mostrarModal=!0}seleccionarOpcion(t){if(this.respuestaSeleccionada!==null||this.bloquearPregunta)return;clearInterval(this.timer),this.temporizadorActivo=!1,this.respuestaSeleccionada=t;let e=this.preguntas[this.preguntaActual].respuesta;t===e?this.puntajeJuego+=100:this.todasCorrectas=!1,setTimeout(()=>{this.preguntaActual++,this.respuestaSeleccionada=null,this.preguntaActual>=this.preguntas.length?this.finalizarQuiz():this.iniciarTemporizador()},1e3)}finalizarQuiz(){this.todasCorrectas&&this.puntajeJuego===this.preguntas.length*100?(this.mostrarMensaje("\u{1F389} \xA1Felicitaciones! Completaste el nivel correctamente \u{1F3AF}","exito"),this.guardarPuntaje()):(this.mostrarMensaje("\u274C Fallaste alguna pregunta o no respondiste a tiempo","error"),this.mostrarModal=!1,this.todasCorrectas=!0)}drop(t,e){t.preventDefault(),!(!this.draggedTipo||this.bloquearPregunta)&&(clearInterval(this.timer),this.temporizadorActivo=!1,this.draggedTipo===e?(this.puntajeJuego+=100,this.mostrarMensaje("\u2705 \xA1Correcto!","exito")):(this.arrastreCorrecto=!1,this.mostrarMensaje("\u274C Incorrecto","error")),this.residuos=this.residuos.filter(n=>n.tipo!==this.draggedTipo),this.draggedTipo="",this.residuos.length===0?this.finalizarArrastrar():this.iniciarTemporizador())}finalizarArrastrar(){this.arrastreCorrecto&&this.puntajeJuego>0?(this.mostrarMensaje("\u{1F389} \xA1Excelente! Completaste el nivel correctamente \u{1F3AF}","exito"),this.guardarPuntaje()):(this.mostrarMensaje("\u274C Fallaste al arrastrar alg\xFAn residuo. Intenta de nuevo","error"),this.mostrarModal=!1,this.arrastreCorrecto=!0)}dragStart(t,e){this.draggedTipo=e}allowDrop(t){t.preventDefault()}calcularMedallaPorNivel(t){return t>=9?"\u{1F947} Oro":t>=6?"\u{1F948} Plata":t>=3?"\u{1F949} Bronce":"Sin medalla"}dispararConfetti(){Ve(this.platformId)&&fd({particleCount:200,spread:90,origin:{y:.6}})}esCorrecto(t){return this.respuestaSeleccionada===t&&this.preguntas[this.preguntaActual].respuesta===t&&!this.bloquearPregunta}esIncorrecto(t){return this.respuestaSeleccionada===t&&this.preguntas[this.preguntaActual].respuesta!==t||this.bloquearPregunta}cerrarModal(){this.mostrarModal=!1,clearInterval(this.timer),this.temporizadorActivo=!1,this.bloquearPregunta=!0}static \u0275fac=function(e){return new(e||r)(k(In),k(je),k(xe))};static \u0275cmp=Te({type:r,selectors:[["app-juego"]],decls:13,vars:7,consts:[[1,"juegos-container"],[1,"medalla-info"],[1,"niveles-mapa"],["class","nivel",3,"desbloqueado","completado","click",4,"ngFor","ngForOf"],["class","modal-overlay",4,"ngIf"],[1,"nivel",3,"click"],[4,"ngIf"],[1,"modal-overlay"],[1,"modal-contenido"],["class","quiz",4,"ngIf"],["class","juego-arrastrar",4,"ngIf"],[3,"click"],[1,"quiz"],[1,"temporizador"],[3,"ngClass","click",4,"ngFor","ngForOf"],[3,"click","ngClass"],[1,"opcion-texto"],[1,"juego-arrastrar"],[1,"zona-residuos"],["class","residuo","draggable","true",3,"src","alt","dragstart",4,"ngFor","ngForOf"],[1,"zona-contenedores"],["class","contenedor",3,"dragover","drop",4,"ngFor","ngForOf"],["draggable","true",1,"residuo",3,"dragstart","src","alt"],[1,"contenedor",3,"dragover","drop"],[3,"src","alt"],[1,"modal-contenido",3,"ngClass"],[1,"cerrar",3,"click"]],template:function(e,n){e&1&&(u(0,"div",0)(1,"h2"),p(2,"\u{1F331} Mapa de Niveles - Juego EcoRecicla"),d(),u(3,"p"),p(4),d(),u(5,"div",1),p(6," \u{1F3C5} Medalla actual: "),u(7,"strong"),p(8),d()(),u(9,"div",2),q(10,Qg,5,7,"div",3),d(),q(11,r0,8,3,"div",4),d(),q(12,i0,6,2,"div",4)),e&2&&(m(4),uc("Puntaje actual: ",n.puntaje," | Nivel alcanzado: ",n.nivelActual," | Medallas: ",n.medallas,""),m(4),U(n.medallas),m(2),S("ngForOf",n.niveles),m(),S("ngIf",n.mostrarModal),m(),S("ngIf",n.mensajeVisible))},dependencies:[He,Tn,kt,dt,On],styles:['.juegos-container[_ngcontent-%COMP%]{max-width:900px;margin:auto;text-align:center;padding:1rem}.niveles-mapa[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap;gap:1rem;margin-top:2rem}.nivel[_ngcontent-%COMP%]{width:120px;height:120px;background-color:#e0e0e0;border-radius:15px;display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:not-allowed;transition:transform .3s,background .3s}.nivel.desbloqueado[_ngcontent-%COMP%]{background-color:#a5d6a7;cursor:pointer}.nivel.completado[_ngcontent-%COMP%]{background-color:#81c784}.nivel[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#000000a6;display:flex;justify-content:center;align-items:center;z-index:999;padding:1rem;overflow-y:auto;box-sizing:border-box}@media (max-width: 480px){.modal-content[_ngcontent-%COMP%]{padding:1rem;font-size:.95rem}}.modal-contenido[_ngcontent-%COMP%]{background:#fff;border-radius:12px;max-width:500px;width:100%;padding:1.5rem;box-shadow:0 0 20px #00000040;text-align:center;box-sizing:border-box}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:scale(.9)}to{opacity:1;transform:scale(1)}}button[_ngcontent-%COMP%]{margin-top:1rem;padding:.6rem 1.2rem;background-color:#aed581;border:none;border-radius:8px;font-weight:700;cursor:pointer}.cerrar[_ngcontent-%COMP%]{position:absolute;top:.5rem;right:1rem;background:none;border:none;font-size:2rem;color:#555;cursor:pointer}.quiz[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0}.quiz[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background:#f1f1f1;margin:.5rem 0;padding:.7rem;border-radius:8px;cursor:pointer;transition:background .2s}.quiz[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background:#dcedc8}.juego-arrastrar[_ngcontent-%COMP%]{text-align:center;padding:1rem}.zona-residuos[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap;gap:1rem;margin-bottom:1.5rem}.residuo[_ngcontent-%COMP%]{width:80px;height:80px;cursor:grab;border:2px dashed transparent;transition:transform .2s ease}.residuo[_ngcontent-%COMP%]:active{transform:scale(1.1)}.zona-contenedores[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap;gap:2rem}.contenedor[_ngcontent-%COMP%]{border:2px solid #ccc;padding:1rem;border-radius:12px;width:120px;text-align:center;transition:background .3s;background-color:#fafafa}.contenedor[_ngcontent-%COMP%]:hover{background-color:#e8f5e9}.contenedor[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:80px}@media screen and (max-width: 600px){.modal-contenido[_ngcontent-%COMP%]{padding:1rem}.nivel[_ngcontent-%COMP%]{width:100px;height:100px}.contenedor[_ngcontent-%COMP%], .residuo[_ngcontent-%COMP%]{width:70px!important;height:70px!important}.zona-contenedores[_ngcontent-%COMP%], .zona-residuos[_ngcontent-%COMP%]{gap:1rem}}.quiz[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style-type:none;position:relative;padding-right:2rem}.quiz[_ngcontent-%COMP%]   li.correcto[_ngcontent-%COMP%]:after{content:"\\2705";position:absolute;right:1rem;color:green;font-size:1.5rem}.quiz[_ngcontent-%COMP%]   li.incorrecto[_ngcontent-%COMP%]:after{content:"\\274c";position:absolute;right:1rem;color:red;font-size:1.5rem}.quiz[_ngcontent-%COMP%]{width:100%;padding:0;margin:0 auto;max-width:600px}.quiz[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style-type:none;position:relative;padding:1rem 2.5rem 1rem 1rem;font-size:1rem;line-height:1.5;word-wrap:break-word;box-sizing:border-box}.quiz[_ngcontent-%COMP%]   li.correcto[_ngcontent-%COMP%]:after{content:"\\2705";position:absolute;right:1rem;top:50%;transform:translateY(-50%);color:green;font-size:1.5rem}.quiz[_ngcontent-%COMP%]   li.incorrecto[_ngcontent-%COMP%]:after{content:"\\274c";position:absolute;right:1rem;top:50%;transform:translateY(-50%);color:red;font-size:1.5rem}.quiz[_ngcontent-%COMP%]   li.seleccionado[_ngcontent-%COMP%]{pointer-events:none;opacity:.7}@media (max-width: 600px){.quiz[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:.95rem;padding-right:2rem}.quiz[_ngcontent-%COMP%]   li.correcto[_ngcontent-%COMP%]:after, .quiz[_ngcontent-%COMP%]   li.incorrecto[_ngcontent-%COMP%]:after{font-size:1.2rem;right:.75rem}}.medalla-info[_ngcontent-%COMP%]{margin-top:1rem;font-size:1.2rem;text-align:center}.temporizador[_ngcontent-%COMP%]{font-weight:700;color:#c62828;margin-bottom:10px}']})};var So=class r{constructor(t){this.sanitizer=t}transform(t){return this.sanitizer.bypassSecurityTrustResourceUrl(t)}static \u0275fac=function(e){return new(e||r)(k(nn,16))};static \u0275pipe=sc({name:"safeUrl",type:r,pure:!0})};function o0(r,t){if(r&1&&(u(0,"h2"),p(1),d()),r&2){let e=C();m(),we(" \u{1F4F0} \xA1Hola ",e.usuarioLogueado.nombre||e.usuarioLogueado.correo,"!, estas son las noticias sobre Reciclaje ")}}function s0(r,t){r&1&&(u(0,"h2"),p(1,"\u{1F4F0} Noticias sobre Reciclaje"),d())}function a0(r,t){if(r&1){let e=Y();u(0,"div",7)(1,"button",4),P("click",function(){M(e);let i=C();return E(i.mostrarNoticia("paijan"))}),p(2,"\u{1F4CD} Paij\xE1n"),d(),u(3,"button",4),P("click",function(){M(e);let i=C();return E(i.mostrarNoticia("trujillo"))}),p(4,"\u{1F3D9}\uFE0F Trujillo"),d()()}}var Mo=class r{constructor(t,e,n){this.platformId=t;this.authService=e;this.cdr=n;Ve(this.platformId)&&this.authService.usuario$.subscribe(i=>{this.usuarioLogueado=i,this.cdr.detectChanges()})}urlActual="https://elpais.com/noticias/reciclaje/";usuarioLogueado=null;mostrarLocales=!1;mostrarNoticia(t){if(t==="local"){this.mostrarLocales=!this.mostrarLocales;return}switch(this.mostrarLocales=!1,t){case"internacional":this.urlActual="https://elpais.com/noticias/reciclaje/";break;case"nacional":this.urlActual="https://inforegion.pe/reciclaje-en-peru-los-desafios-del-2025-y-las-claves-para-un-sistema-sostenible/";break;case"regional":this.urlActual="https://www.regionlalibertad.gob.pe/noticiaS/regionales/15234-el-gore-donara-y-sembrara-3000-mil-arboles-para-recuperar-las-areas-verdes-en-trujillo";break;case"paijan":this.urlActual="https://rpp.pe/peru/actualidad/la-libertad-iniciaran-plan-piloto-de-reciclaje-de-basura-en-paijan-noticia-390249";break;case"trujillo":this.urlActual="https://diariocorreo.pe/edicion/la-libertad/trujillo-87-recicladores-son-formalizados-por-segat-la-libertad-peru-noticia/";break}}static \u0275fac=function(e){return new(e||r)(k(xe),k(Bt),k(Xt))};static \u0275cmp=Te({type:r,selectors:[["app-noticias"]],decls:16,vars:6,consts:[["sinUsuario",""],[1,"contenedor"],[4,"ngIf","ngIfElse"],[1,"botones"],[3,"click"],["class","sub-botones",4,"ngIf"],["frameborder","0","loading","lazy","allowfullscreen","",1,"visor",3,"src"],[1,"sub-botones"]],template:function(e,n){if(e&1){let i=Y();u(0,"div",1),q(1,o0,2,1,"h2",2)(2,s0,2,0,"ng-template",null,0,Pn),u(4,"div",3)(5,"button",4),P("click",function(){return M(i),E(n.mostrarNoticia("internacional"))}),p(6,"\u{1F30E} Internacional"),d(),u(7,"button",4),P("click",function(){return M(i),E(n.mostrarNoticia("nacional"))}),p(8,"\u{1F1F5}\u{1F1EA} Nacional"),d(),u(9,"button",4),P("click",function(){return M(i),E(n.mostrarNoticia("regional"))}),p(10,"\u{1F5FA}\uFE0F Regional"),d(),u(11,"button",4),P("click",function(){return M(i),E(n.mostrarNoticia("local"))}),p(12,"\u{1F3D8}\uFE0F Local"),d()(),q(13,a0,5,0,"div",5),le(14,"iframe",6),pc(15,"safeUrl"),d()}if(e&2){let i=Mt(3);m(),S("ngIf",n.usuarioLogueado)("ngIfElse",i),m(12),S("ngIf",n.mostrarLocales),m(),S("src",hc(15,4,n.urlActual),tc)}},dependencies:[He,dt,So],styles:[".contenedor[_ngcontent-%COMP%]{padding:1rem;text-align:center}.botones[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:12px;margin-bottom:1rem}button[_ngcontent-%COMP%]{margin:0 .5rem;padding:.5rem 1rem;background-color:#4caf50;color:#fff;border:none;border-radius:6px;cursor:pointer;transition:background-color .3s}.sub-botones[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:12px;margin-bottom:1rem}button[_ngcontent-%COMP%]{min-width:120px;margin:6px;padding:.6rem 1.2rem;background-color:#4caf50;color:#fff;border:none;border-radius:6px;cursor:pointer;transition:background-color .3s;font-size:1rem}button[_ngcontent-%COMP%]:hover{background-color:#388e3c}.sub-botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#81c784}.sub-botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#66bb6a}.visor[_ngcontent-%COMP%]{width:100%;height:80vh;border:1px solid #ccc;border-radius:10px}@media (max-width: 768px){button[_ngcontent-%COMP%]{width:100%;max-width:300px;font-size:1rem}.botones[_ngcontent-%COMP%], .sub-botones[_ngcontent-%COMP%]{flex-direction:column;align-items:center}}"]})};var nr=xl(fp(),1);var tv=["qrcElement"],mp=(()=>{class r{constructor(e,n){this.renderer=e,this.sanitizer=n,this.allowEmptyString=!1,this.colorDark="#000000ff",this.colorLight="#ffffffff",this.cssClass="qrcode",this.elementType="canvas",this.errorCorrectionLevel="M",this.margin=4,this.qrdata="",this.scale=4,this.width=10,this.qrCodeURL=new ze,this.context=null}ngOnChanges(){return cr(this,null,function*(){yield this.createQRCode()})}isValidQrCodeText(e){return this.allowEmptyString===!1?!(typeof e>"u"||e===""||e==="null"||e===null):!(typeof e>"u")}toDataURL(e){return new Promise((n,i)=>{(0,nr.toDataURL)(this.qrdata,e,(o,s)=>{o?i(o):n(s)})})}toCanvas(e,n){return new Promise((i,o)=>{(0,nr.toCanvas)(e,this.qrdata,n,s=>{s?o(s):i("success")})})}toSVG(e){return new Promise((n,i)=>{(0,nr.toString)(this.qrdata,e,(o,s)=>{o?i(o):n(s)})})}renderElement(e){for(let n of this.qrcElement.nativeElement.childNodes)this.renderer.removeChild(this.qrcElement.nativeElement,n);this.renderer.appendChild(this.qrcElement.nativeElement,e)}createQRCode(){return cr(this,null,function*(){this.version&&this.version>40?(console.warn("[angularx-qrcode] max value for `version` is 40"),this.version=40):this.version&&this.version<1?(console.warn("[angularx-qrcode]`min value for `version` is 1"),this.version=1):this.version!==void 0&&isNaN(this.version)&&(console.warn("[angularx-qrcode] version should be a number, defaulting to auto."),this.version=void 0);try{if(!this.isValidQrCodeText(this.qrdata))throw new Error("[angularx-qrcode] Field `qrdata` is empty, set 'allowEmptyString=\"true\"' to overwrite this behaviour.");this.isValidQrCodeText(this.qrdata)&&this.qrdata===""&&(this.qrdata=" ");let e={color:{dark:this.colorDark,light:this.colorLight},errorCorrectionLevel:this.errorCorrectionLevel,margin:this.margin,scale:this.scale,version:this.version,width:this.width},n=this.imageSrc,i=this.imageHeight||40,o=this.imageWidth||40;switch(this.elementType){case"canvas":{let s=this.renderer.createElement("canvas");this.context=s.getContext("2d"),this.toCanvas(s,e).then(()=>{if(this.ariaLabel&&this.renderer.setAttribute(s,"aria-label",`${this.ariaLabel}`),this.title&&this.renderer.setAttribute(s,"title",`${this.title}`),n&&this.context){this.centerImage=new Image(o,i),n!==this.centerImage.src&&(this.centerImage.crossOrigin="anonymous",this.centerImage.src=n),i!==this.centerImage.height&&(this.centerImage.height=i),o!==this.centerImage.width&&(this.centerImage.width=o);let a=this.centerImage;a&&(a.onload=()=>{this.context?.drawImage(a,s.width/2-o/2,s.height/2-i/2,o,i)})}this.renderElement(s),this.emitQRCodeURL(s)}).catch(a=>{console.error("[angularx-qrcode] canvas error:",a)});break}case"svg":{let s=this.renderer.createElement("div");this.toSVG(e).then(a=>{this.renderer.setProperty(s,"innerHTML",a);let l=s.firstChild;this.renderer.setAttribute(l,"height",`${this.width}`),this.renderer.setAttribute(l,"width",`${this.width}`),this.renderElement(l),this.emitQRCodeURL(l)}).catch(a=>{console.error("[angularx-qrcode] svg error:",a)});break}case"url":case"img":default:{let s=this.renderer.createElement("img");this.toDataURL(e).then(a=>{this.alt&&s.setAttribute("alt",this.alt),this.ariaLabel&&s.setAttribute("aria-label",this.ariaLabel),s.setAttribute("src",a),this.title&&s.setAttribute("title",this.title),this.renderElement(s),this.emitQRCodeURL(s)}).catch(a=>{console.error("[angularx-qrcode] img/url error:",a)})}}}catch(e){console.error("[angularx-qrcode] Error generating QR Code:",e.message)}})}convertBase64ImageUrlToBlob(e){let n=e.split(";base64,"),i=n[0].split(":")[1],o=atob(n[1]),s=new Uint8Array(o.length);for(let a=0;a<o.length;++a)s[a]=o.charCodeAt(a);return new Blob([s],{type:i})}emitQRCodeURL(e){let n=e.constructor.name;if(n===SVGSVGElement.name){let l=e.outerHTML,c=new Blob([l],{type:"image/svg+xml"}),h=URL.createObjectURL(c),v=this.sanitizer.bypassSecurityTrustUrl(h);this.qrCodeURL.emit(v);return}let i="";n===HTMLCanvasElement.name&&(i=e.toDataURL("image/png")),n===HTMLImageElement.name&&(i=e.src);let o=this.convertBase64ImageUrlToBlob(i),s=URL.createObjectURL(o),a=this.sanitizer.bypassSecurityTrustUrl(s);this.qrCodeURL.emit(a)}static{this.\u0275fac=function(n){return new(n||r)(k(St),k(nn))}}static{this.\u0275cmp=Te({type:r,selectors:[["qrcode"]],viewQuery:function(n,i){if(n&1&&lc(tv,7),n&2){let o;Cs(o=bs())&&(i.qrcElement=o.first)}},inputs:{allowEmptyString:"allowEmptyString",colorDark:"colorDark",colorLight:"colorLight",cssClass:"cssClass",elementType:"elementType",errorCorrectionLevel:"errorCorrectionLevel",imageSrc:"imageSrc",imageHeight:"imageHeight",imageWidth:"imageWidth",margin:"margin",qrdata:"qrdata",scale:"scale",version:"version",width:"width",alt:"alt",ariaLabel:"ariaLabel",title:"title"},outputs:{qrCodeURL:"qrCodeURL"},features:[wt],decls:2,vars:2,consts:[["qrcElement",""]],template:function(n,i){n&1&&le(0,"div",null,0),n&2&&ac(i.cssClass)},encapsulation:2,changeDetection:0})}}return r})();var nv=r=>({show:r}),rv=r=>({display:r});function iv(r,t){if(r&1&&(u(0,"li"),p(1),d()),r&2){let e=t.$implicit;m(),we(" \u2705 ",e," ")}}function ov(r,t){if(r&1&&(u(0,"ul"),q(1,iv,2,1,"li",36),d()),r&2){let e=C();m(),S("ngForOf",e.cursosDisponibles)}}function sv(r,t){r&1&&(u(0,"p"),p(1," \u274C A\xFAn no tienes puntos suficientes para canjear cursos. "),d())}function av(r,t){r&1&&(u(0,"p"),p(1," \u{1F4A1} \xA1Aprovecha en canjear tus puntos con algunos cursos de tu inter\xE9s! "),d())}function lv(r,t){if(r&1&&q(0,sv,2,0,"p",14)(1,av,2,0,"p",14),r&2){let e=C();S("ngIf",e.puntaje===0),m(),S("ngIf",e.puntaje>0)}}function cv(r,t){if(r&1&&(u(0,"div",37)(1,"h3"),p(2,"\u{1F4F7} C\xF3digo QR para Escaneo"),d(),u(3,"p",38),p(4),d(),u(5,"p"),p(6,"\u{1F4CC} Los usuarios est\xE1ndar pueden escanear este c\xF3digo para recibir puntos."),d(),le(7,"qrcode",39),d()),r&2){let e=C();m(4),we("Contenido del QR: ",e.qrData,""),m(3),S("qrdata",e.qrData)("width",200)("errorCorrectionLevel","M")}}function uv(r,t){if(r&1){let e=Y();u(0,"div",42),P("click",function(){M(e);let i=C(2);return E(i.verUsuarios())}),p(1," Usuarios Registrados "),d()}if(r&2){let e=C(2);$e("active",e.mostrarTablaUsuarios)}}function dv(r,t){if(r&1){let e=Y();u(0,"div",42),P("click",function(){M(e);let i=C(2);return E(i.listarCursos())}),p(1," Cursos con Certificaci\xF3n "),d()}if(r&2){let e=C(2);$e("active",e.mostrarTablaCursos)}}function pv(r,t){if(r&1&&(u(0,"div",40),q(1,uv,2,2,"div",41)(2,dv,2,2,"div",41),d()),r&2){let e=C();m(),S("ngIf",e.puedeVerUsuarios()),m(),S("ngIf",e.puedeVerCursos())}}function hv(r,t){if(r&1&&(u(0,"p",46),p(1),d()),r&2){let e=C(2);m(),U(e.mensajeQR)}}function fv(r,t){if(r&1){let e=Y();u(0,"div",43)(1,"button",44),P("click",function(){M(e);let i=C();return E(i.escanearQR())}),p(2,"\u{1F4F2} Escanear C\xF3digo QR"),d(),q(3,hv,2,1,"p",45),d()}if(r&2){let e=C();m(3),S("ngIf",e.mensajeQR)}}function mv(r,t){if(r&1&&(u(0,"tr")(1,"td"),p(2),d(),u(3,"td"),p(4),d(),u(5,"td"),p(6),d(),u(7,"td"),p(8),d()()),r&2){let e=t.$implicit;m(2),U(e.id),m(2),U(e.nombre+" "+e.apellido),m(2),U(e.correo),m(2),U(e.tipo_usuario)}}function gv(r,t){if(r&1){let e=Y();u(0,"div",47)(1,"div",48)(2,"input",49),_e("ngModelChange",function(i){M(e);let o=C();return ve(o.filtroNombre,i)||(o.filtroNombre=i),E(i)}),P("input",function(){M(e);let i=C();return E(i.filtrarUsuarios())}),d(),u(3,"select",50),_e("ngModelChange",function(i){M(e);let o=C();return ve(o.cantidadFilas,i)||(o.cantidadFilas=i),E(i)}),P("change",function(){M(e);let i=C();return E(i.filtrarUsuarios())}),u(4,"option",51),p(5,"10 filas"),d(),u(6,"option",51),p(7,"50 filas"),d(),u(8,"option",51),p(9,"100 filas"),d()()(),u(10,"div",52)(11,"table",53)(12,"thead")(13,"tr")(14,"th"),p(15,"ID"),d(),u(16,"th"),p(17,"Nombres y Apellidos"),d(),u(18,"th"),p(19,"Correo"),d(),u(20,"th"),p(21,"Tipo"),d()()(),u(22,"tbody"),q(23,mv,9,4,"tr",36),d()()()()}if(r&2){let e=C();m(2),ge("ngModel",e.filtroNombre),m(),ge("ngModel",e.cantidadFilas),m(),S("value",10),m(2),S("value",50),m(2),S("value",100),m(15),S("ngForOf",e.usuariosFiltrados)}}function vv(r,t){if(r&1){let e=Y();u(0,"button",44),P("click",function(){M(e);let i=C(2);return E(i.mostrarTablaCanje=!i.mostrarTablaCanje)}),p(1),d()}if(r&2){let e=C(2);m(),we(" \u{1F4CB} ",e.mostrarTablaCanje?"Ocultar cursos para canjear":"Ver cursos para canjear"," ")}}function _v(r,t){if(r&1){let e=Y();u(0,"div",54),q(1,vv,2,1,"button",55),u(2,"button",44),P("click",function(){M(e);let i=C();return E(i.mostrarCursosCanjeados=!i.mostrarCursosCanjeados)}),p(3),d()()}if(r&2){let e=C();m(),S("ngIf",e.puedeCanjearAlgunCurso()),m(2),we(" \u{1F393} ",e.mostrarCursosCanjeados?"Ocultar cursos canjeados":"Ver cursos canjeados"," ")}}function yv(r,t){if(r&1){let e=Y();u(0,"tr")(1,"td"),p(2),d(),u(3,"td"),p(4),d(),u(5,"td"),p(6),d(),u(7,"td"),p(8),le(9,"br"),p(10),d(),u(11,"td"),p(12),d(),u(13,"td"),p(14),d(),u(15,"td")(16,"button",44),P("click",function(){let i=M(e).$implicit,o=C(2);return E(o.canjearCurso(i))}),p(17,"\u{1F381} Canjear"),d()()()}if(r&2){let e=t.$implicit,n=C(2);m(2),U(e.nombre),m(2),U(e.duracion),m(2),U(e.horario),m(2),we(" S/ ",e.precio,""),m(2),we(" \u{1F7E2} ",n.calcularPuntosRequeridos(e.precio)," puntos "),m(2),U(e.modalidad),m(2),U(e.extra)}}function Cv(r,t){if(r&1&&(u(0,"div",47)(1,"div",52)(2,"table",53)(3,"thead")(4,"tr")(5,"th"),p(6,"Nombre"),d(),u(7,"th"),p(8,"Duraci\xF3n"),d(),u(9,"th"),p(10,"Horario"),d(),u(11,"th"),p(12,"Precio"),d(),u(13,"th"),p(14,"Modalidad"),d(),u(15,"th"),p(16,"Incluye"),d(),u(17,"th"),p(18,"Canjear"),d()()(),u(19,"tbody"),q(20,yv,18,7,"tr",36),d()()()()),r&2){let e=C();m(20),S("ngForOf",e.cursosFiltrados)}}function bv(r,t){if(r&1&&(u(0,"tr")(1,"td"),p(2),d(),u(3,"td"),p(4),d(),u(5,"td"),p(6),d(),u(7,"td"),p(8),d(),u(9,"td"),p(10),d(),u(11,"td"),p(12),d(),u(13,"td"),p(14),d()()),r&2){let e=t.$implicit;m(2),U(e.nombre),m(2),U(e.duracion),m(2),U(e.horario),m(2),U(e.modalidad),m(2),U(e.extra),m(2),we("S/. ",e.precio,""),m(2),U(e.fecha_canje)}}function wv(r,t){if(r&1&&(u(0,"div")(1,"table",56)(2,"thead")(3,"tr")(4,"th"),p(5,"Nombre"),d(),u(6,"th"),p(7,"Duraci\xF3n"),d(),u(8,"th"),p(9,"Horario"),d(),u(10,"th"),p(11,"Modalidad"),d(),u(12,"th"),p(13,"Extra"),d(),u(14,"th"),p(15,"Precio"),d(),u(16,"th"),p(17,"Fecha Canje"),d()()(),u(18,"tbody"),q(19,bv,15,7,"tr",36),d()()()),r&2){let e=C();m(19),S("ngForOf",e.cursosCanjeados)}}function Sv(r,t){if(r&1&&(u(0,"tr")(1,"td"),p(2),d(),u(3,"td"),p(4),d(),u(5,"td"),p(6),d(),u(7,"td"),p(8),d(),u(9,"td"),p(10),d(),u(11,"td"),p(12),d(),u(13,"td"),p(14),d(),u(15,"td"),p(16),d()()),r&2){let e=t.$implicit;m(2),U(e.id),m(2),U(e.nombre),m(2),U(e.duracion),m(2),U(e.horario),m(2),we("S/ ",e.precio,""),m(2),U(e.modalidad),m(2),U(e.extra),m(2),U(e.estado)}}function Mv(r,t){if(r&1){let e=Y();u(0,"div",47)(1,"div",48)(2,"input",57),_e("ngModelChange",function(i){M(e);let o=C();return ve(o.filtroNombre,i)||(o.filtroNombre=i),E(i)}),P("input",function(){M(e);let i=C();return E(i.filtrarCursos())}),d(),u(3,"select",50),_e("ngModelChange",function(i){M(e);let o=C();return ve(o.cantidadFilas,i)||(o.cantidadFilas=i),E(i)}),P("change",function(){M(e);let i=C();return E(i.filtrarCursos())}),u(4,"option",51),p(5,"10 filas"),d(),u(6,"option",51),p(7,"50 filas"),d(),u(8,"option",51),p(9,"100 filas"),d()(),u(10,"button",44),P("click",function(){M(e),C();let i=Mt(57);return E(i.showModal())}),p(11,"\u2795 Nuevo Curso"),d()(),u(12,"div",52)(13,"table",53)(14,"thead")(15,"tr")(16,"th"),p(17,"ID"),d(),u(18,"th"),p(19,"Nombre"),d(),u(20,"th"),p(21,"Duraci\xF3n"),d(),u(22,"th"),p(23,"Horario"),d(),u(24,"th"),p(25,"Precio"),d(),u(26,"th"),p(27,"Modalidad"),d(),u(28,"th"),p(29,"Incluye"),d(),u(30,"th"),p(31,"Estado"),d()()(),u(32,"tbody"),q(33,Sv,17,8,"tr",36),d()()()()}if(r&2){let e=C();m(2),ge("ngModel",e.filtroNombre),m(),ge("ngModel",e.cantidadFilas),m(),S("value",10),m(2),S("value",50),m(2),S("value",100),m(25),S("ngForOf",e.cursosFiltrados)}}var Vo=class r{constructor(t,e){this.http=t;this.platformId=e;this.isBrowser=Ve(e),this.isBrowser&&window.location.hostname==="localhost"?this.apiUrl="http://localhost:3000/api":this.apiUrl="https://comunidadvapps.com/api.php"}nombreUsuario="";apellidoUsuario="";correoUsuario="";edad="";tipoDocumento="";documento="";fechaRegistro="";tipoUsuario="";mostrarTablaCanje=!1;usuarios=[];usuariosFiltrados=[];cursosCertificados=[];puntaje=0;nivel=1;medallas="";cursosDisponibles=[];mostrarTablaUsuarios=!1;mostrarCursos=!1;filtroNombre="";cantidadFilas=10;cursos=[];cursosFiltrados=[];nuevoCurso={nombre:"",duracion:"",horario:"",precio:null,modalidad:"",extra:"",estado:"activo"};mostrarTablaCursos=!1;isBrowser;apiUrl;mensajeModal="";mostrarModal=!1;mostrarCursosCanjeados=!1;cursosCanjeados=[];ngOnInit(){if(!this.isBrowser)return;let t=sessionStorage.getItem("usuario");if(!t)return;let e=JSON.parse(t),n=e.id;this.tipoUsuario=e.tipo_usuario||"estandar";let i=this.apiUrl.includes("api.php")?`${this.apiUrl}?accion=perfil&id=${n}`:`${this.apiUrl}/perfil/${n}`;this.http.get(i).subscribe({next:s=>{this.nombreUsuario=s.nombre??"",this.apellidoUsuario=s.apellido??"",this.correoUsuario=s.correo??"",this.tipoDocumento=s.tipo_documento??"",this.documento=s.documento??"",this.fechaRegistro=s.fecha_registro??"",this.tipoUsuario=s.tipo_usuario??"estandar",this.tipoUsuario==="administrador"&&(this.generarQR(),setInterval(()=>{this.generarQR()},6e4)),this.edad=this.calcularEdad(s.fecha_nacimiento),this.tipoUsuario==="estandar"&&(this.listarCursos(),this.obtenerCursosCanjeados())},error:s=>{console.error("\u274C Error al cargar perfil:",s)}});let o=this.apiUrl.includes("api.php")?`${this.apiUrl}?accion=progreso&usuario_id=${n}`:`${this.apiUrl}/progreso/${n}`;this.http.get(o).subscribe({next:s=>{this.puntaje=s.puntaje??0,this.nivel=s.nivel??1,this.medallas=s.medallas??""},error:()=>{this.puntaje=0,this.nivel=1,this.medallas=""}})}generarQR(){let t={tipo:"bono",puntos:150,fecha:new Date().toISOString(),token:Math.random().toString(36).substring(2,10)};this.qrData=JSON.stringify(t),console.log("\u{1F4E6} QR generado:",this.qrData)}obtenerCursosCanjeados(){let e=JSON.parse(sessionStorage.getItem("usuario")||"{}").id;if(!e){console.warn("\u26A0\uFE0F No se encontr\xF3 usuario logueado");return}let n=this.apiUrl.includes("api.php")?`${this.apiUrl}?accion=cursos-canjeados&usuario_id=${e}`:`${this.apiUrl}/cursos-canjeados/${e}`;this.http.get(n).subscribe({next:i=>{this.cursosCanjeados=i},error:i=>{console.error("\u274C Error al obtener cursos canjeados:",i)}})}calcularPuntosRequeridos(t){return t>=200?800:t>=150?600:t>=100?400:t>=50?200:t>=25?100:t>=12.5?50:0}calcularEdad(t){if(!t)return"";let e=new Date(t),n=new Date,i=n.getFullYear()-e.getFullYear(),o=n.getMonth()-e.getMonth(),s=n.getDate()-e.getDate();return s<0&&(o--,s+=new Date(n.getFullYear(),n.getMonth(),0).getDate()),o<0&&(i--,o+=12),`${i} a\xF1os, ${o} meses, ${s} d\xEDas`}mostrarMensaje(t){this.mensajeModal=t,this.mostrarModal=!0}cerrarModal(){this.mostrarModal=!1}verUsuarios(){this.mostrarTablaCursos=!1;let t=this.apiUrl.includes("api.php")?`${this.apiUrl}?accion=listar-usuarios`:`${this.apiUrl}/usuarios`;this.http.get(t).subscribe({next:e=>{this.usuarios=e,this.filtrarUsuarios(),this.mostrarTablaUsuarios=!0,this.mostrarCursos=!1},error:e=>console.error("\u274C Error al listar usuarios:",e)})}verCursosCertificados(){this.mostrarTablaUsuarios=!1,this.cursosCertificados=["Certificado en Reciclaje B\xE1sico \u267B\uFE0F","Certificado en Gesti\xF3n de Residuos \u{1F5D1}\uFE0F","Certificaci\xF3n en Educaci\xF3n Ambiental \u{1F331}"],this.mostrarCursos=!0,this.mostrarTablaUsuarios=!1}listarCursos(){let t=this.apiUrl.includes("api.php")?`${this.apiUrl}?accion=listar-cursos`:`${this.apiUrl}/cursos`;this.http.get(t).subscribe({next:e=>{this.cursos=e,this.filtrarCursos(),this.tipoUsuario!=="estandar"&&(this.mostrarTablaCursos=!0,this.mostrarTablaUsuarios=!1)},error:e=>console.error("\u274C Error al listar cursos:",e)})}registrarCurso(){let t=this.apiUrl.includes("api.php")?`${this.apiUrl}?accion=registrar-curso`:`${this.apiUrl}/cursos`;this.http.post(t,this.nuevoCurso).subscribe({next:e=>{this.mostrarMensaje(e.mensaje||"\u2705 Curso registrado con \xE9xito"),this.listarCursos(),this.nuevoCurso={nombre:"",duracion:"",horario:"",precio:null,modalidad:"",extra:"",estado:"activo"}},error:e=>{let n=e.error?.error||"\u274C Error al registrar curso";this.mostrarMensaje(n)}})}filtrarCursos(){let t=this.filtroNombre.trim().toLowerCase(),e=this.cursos;t&&(e=e.filter(n=>n.nombre.toLowerCase().includes(t))),this.cursosFiltrados=e.slice(0,this.cantidadFilas)}filtrarUsuarios(){let t=this.filtroNombre.trim().toLowerCase(),e=this.usuarios;t&&(e=e.filter(n=>n.nombre.toLowerCase().includes(t)||n.apellido.toLowerCase().includes(t))),this.usuariosFiltrados=e.slice(0,this.cantidadFilas)}puedeCanjearAlgunCurso(){return this.cursosFiltrados.some(t=>this.puntaje>=this.calcularPuntosRequeridos(t.precio))}canjearCurso(t){let e=this.calcularPuntosRequeridos(t.precio);if(this.puntaje<e){this.mostrarMensaje(`\u274C Necesitas ${e} puntos para canjear este curso`);return}let i=JSON.parse(sessionStorage.getItem("usuario")||"{}").id;if(!i){this.mostrarMensaje("\u26A0\uFE0F No se encontr\xF3 informaci\xF3n del usuario. Inicia sesi\xF3n nuevamente.");return}let o={usuario_id:i,curso_id:t.id,puntos_utilizados:e},s=this.apiUrl.includes("api.php")?`${this.apiUrl}?accion=canjear-curso`:`${this.apiUrl}/canjear-curso`;this.http.post(s,o).subscribe({next:a=>{this.puntaje-=e,this.mostrarMensaje(a.mensaje||"\u{1F381} Curso canjeado con \xE9xito")},error:a=>{console.error("\u274C Error al canjear:",a),this.mostrarMensaje(a.error?.mensaje||a.error?.error||"\u274C Error al registrar el canje")}})}validarPrecio(){this.nuevoCurso.precio===null||this.nuevoCurso.precio===void 0||this.nuevoCurso.precio<1&&(this.nuevoCurso.precio=null)}esAdmin(){return this.tipoUsuario==="administrador"}esDocente(){return this.tipoUsuario==="docente"}puedeVerUsuarios(){return this.tipoUsuario==="administrador"}puedeVerCursos(){return this.tipoUsuario==="administrador"||this.tipoUsuario==="docente"}obtenerProgreso(){let e=JSON.parse(sessionStorage.getItem("usuario")||"{}").id,n=this.apiUrl.includes("api.php")?`${this.apiUrl}?accion=progreso&usuario_id=${e}`:`${this.apiUrl}/progreso/${e}`;this.http.get(n).subscribe({next:i=>{this.puntaje=i.puntaje??0,this.nivel=i.nivel??1,this.medallas=i.medallas??""},error:()=>{this.puntaje=0,this.nivel=1,this.medallas=""}})}mensajeQR="";qrData="";escanearQR(){let e=JSON.parse(sessionStorage.getItem("usuario")||"{}").id;this.http.post(this.apiUrl+"?accion=escanear-qr",{usuario_id:e,puntos:150}).subscribe({next:n=>{this.mensajeQR=n.mensaje,this.obtenerProgreso()},error:n=>{this.mensajeQR=n.error?.mensaje||"Error al escanear QR"}})}static \u0275fac=function(e){return new(e||r)(k(In),k(xe))};static \u0275cmp=Te({type:r,selectors:[["app-perfil"]],decls:91,vars:35,consts:[["sinCursos",""],["modalCurso",""],[1,"perfil-contenedor"],[1,"datos-personales"],[1,"stats"],[2,"font-size","1.5rem"],[1,"cursos-canje"],[4,"ngIf","ngIfElse"],["class","qr-container",4,"ngIf"],[1,"perfil-container"],["class","tabs",4,"ngIf"],["class","qr-bonus",4,"ngIf"],["class","contenido",4,"ngIf"],["class","botones-cursos",4,"ngIf"],[4,"ngIf"],[3,"submit"],["type","text","placeholder","Nombre del curso ","name","nombre","required","",3,"ngModelChange","ngModel"],["type","text","placeholder","Duraci\xF3n (Ej: 4 semanas)","name","duracion","required","",3,"ngModelChange","ngModel"],["type","text","placeholder","Horario (Ej: Lunes 7pm a 10pm)","name","horario","required","",3,"ngModelChange","ngModel"],["type","number","placeholder","Precio (Ej: 100.00)","name","precio","required","","min","1",3,"ngModelChange","input","ngModel"],["type","text","placeholder","Modalidad (Ej:Presencial o Virtual)","name","modalidad","required","",3,"ngModelChange","ngModel"],["type","text","placeholder","Incluye (Ej: certificado)","name","extra",3,"ngModelChange","ngModel"],["name","estado",3,"ngModelChange","ngModel"],["value","activo"],["value","inactivo"],["type","submit"],["type","button",3,"click"],[1,"modal",3,"ngClass","ngStyle"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Cerrar",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],[4,"ngFor","ngForOf"],[1,"qr-container"],[2,"color","gray","font-size","0.8rem"],[3,"qrdata","width","errorCorrectionLevel"],[1,"tabs"],["class","tab",3,"active","click",4,"ngIf"],[1,"tab",3,"click"],[1,"qr-bonus"],[3,"click"],["style","margin-top: 0.5rem;",4,"ngIf"],[2,"margin-top","0.5rem"],[1,"contenido"],[1,"filtros"],["type","text","placeholder","Buscar por nombre o apellido...",3,"ngModelChange","input","ngModel"],[3,"ngModelChange","change","ngModel"],[3,"value"],[1,"tabla-responsive"],[1,"tabla-usuarios"],[1,"botones-cursos"],[3,"click",4,"ngIf"],[1,"tabla-cursos"],["type","text","placeholder","Buscar cursos...",3,"ngModelChange","input","ngModel"]],template:function(e,n){if(e&1){let i=Y();u(0,"div",2)(1,"h2"),p(2),d(),u(3,"div",3)(4,"p"),p(5,"\u{1F382} Edad: "),u(6,"strong"),p(7),d()(),u(8,"p"),p(9,"\u{1FAAA} Tipo de documento: "),u(10,"strong"),p(11),d()(),u(12,"p"),p(13,"\u{1F522} Documento: "),u(14,"strong"),p(15),d()(),u(16,"p"),p(17,"\u{1F4C5} Fecha de registro: "),u(18,"strong"),p(19),d()(),u(20,"p"),p(21,"\u{1F511} Tipo de usuario: "),u(22,"strong"),p(23),d()(),u(24,"p"),p(25,"\u{1F4E7} Correo: "),u(26,"strong"),p(27),d()()(),u(28,"div",4)(29,"p"),p(30,"\u{1F3C6} Puntaje total: "),u(31,"strong"),p(32),d()(),u(33,"p"),p(34,"\u{1F3AF} Nivel actual: "),u(35,"strong"),p(36),d()(),u(37,"p"),p(38,"\u{1F947} Medallas obtenidas: "),u(39,"span",5),p(40),d()()(),u(41,"div",6)(42,"h3"),p(43,"\u{1F393} Cursos disponibles para canjear"),d(),q(44,ov,2,1,"ul",7)(45,lv,2,2,"ng-template",null,0,Pn),d(),q(47,cv,8,4,"div",8),u(48,"div",9),q(49,pv,3,2,"div",10)(50,fv,4,1,"div",11)(51,gv,24,6,"div",12)(52,_v,4,2,"div",13)(53,Cv,21,1,"div",12)(54,wv,20,1,"div",14)(55,Mv,34,6,"div",12),u(56,"dialog",null,1)(58,"h3"),p(59,"\u2795 Registrar Curso"),d(),u(60,"form",15),P("submit",function(s){M(i);let a=Mt(57);return n.registrarCurso(),a.close(),E(s.preventDefault())}),u(61,"input",16),_e("ngModelChange",function(s){return M(i),ve(n.nuevoCurso.nombre,s)||(n.nuevoCurso.nombre=s),E(s)}),d(),u(62,"input",17),_e("ngModelChange",function(s){return M(i),ve(n.nuevoCurso.duracion,s)||(n.nuevoCurso.duracion=s),E(s)}),d(),u(63,"input",18),_e("ngModelChange",function(s){return M(i),ve(n.nuevoCurso.horario,s)||(n.nuevoCurso.horario=s),E(s)}),d(),u(64,"input",19),_e("ngModelChange",function(s){return M(i),ve(n.nuevoCurso.precio,s)||(n.nuevoCurso.precio=s),E(s)}),P("input",function(){return M(i),E(n.validarPrecio())}),d(),u(65,"input",20),_e("ngModelChange",function(s){return M(i),ve(n.nuevoCurso.modalidad,s)||(n.nuevoCurso.modalidad=s),E(s)}),d(),u(66,"input",21),_e("ngModelChange",function(s){return M(i),ve(n.nuevoCurso.extra,s)||(n.nuevoCurso.extra=s),E(s)}),d(),u(67,"select",22),_e("ngModelChange",function(s){return M(i),ve(n.nuevoCurso.estado,s)||(n.nuevoCurso.estado=s),E(s)}),u(68,"option",23),p(69,"Activo"),d(),u(70,"option",24),p(71,"Inactivo"),d()(),u(72,"div")(73,"button",25),p(74,"Guardar"),d(),u(75,"button",26),P("click",function(){M(i);let s=Mt(57);return E(s.close())}),p(76,"Cancelar"),d()()()()(),u(77,"div",27)(78,"div",28)(79,"div",29)(80,"div",30)(81,"h5",31),p(82,"Mensaje"),d(),u(83,"button",32),P("click",function(){return M(i),E(n.cerrarModal())}),p(84,"\xD7"),d()(),u(85,"div",33)(86,"p"),p(87),d()(),u(88,"div",34)(89,"button",35),P("click",function(){return M(i),E(n.cerrarModal())}),p(90,"Cerrar"),d()()()()()()}if(e&2){let i=Mt(46);m(2),cc("\u{1F464} Bienvenido, ",n.nombreUsuario," ",n.apellidoUsuario,""),m(5),U(n.edad),m(4),U(n.tipoDocumento),m(4),U(n.documento),m(4),U(n.fechaRegistro),m(4),U(n.tipoUsuario),m(4),U(n.correoUsuario),m(5),U(n.puntaje),m(4),U(n.nivel),m(4),U(n.medallas),m(4),S("ngIf",n.cursosDisponibles.length>0)("ngIfElse",i),m(3),S("ngIf",n.tipoUsuario==="administrador"),m(2),S("ngIf",n.puedeVerCursos()||n.puedeVerUsuarios()),m(),S("ngIf",n.tipoUsuario==="estandar"),m(),S("ngIf",n.mostrarTablaUsuarios),m(),S("ngIf",n.tipoUsuario==="estandar"),m(),S("ngIf",n.tipoUsuario==="estandar"&&n.mostrarTablaCanje),m(),S("ngIf",n.mostrarCursosCanjeados),m(),S("ngIf",n.mostrarTablaCursos&&(n.puedeVerCursos()||n.puedeVerUsuarios())),m(6),ge("ngModel",n.nuevoCurso.nombre),m(),ge("ngModel",n.nuevoCurso.duracion),m(),ge("ngModel",n.nuevoCurso.horario),m(),ge("ngModel",n.nuevoCurso.precio),m(),ge("ngModel",n.nuevoCurso.modalidad),m(),ge("ngModel",n.nuevoCurso.extra),m(),ge("ngModel",n.nuevoCurso.estado),m(10),S("ngClass",ws(31,nv,n.mostrarModal))("ngStyle",ws(33,rv,n.mostrarModal?"flex":"none")),m(10),U(n.mensajeModal)}},dependencies:[He,Tn,kt,dt,wc,On,Qn,_o,yo,Co,zt,ma,Kn,Gn,go,Yr,va,dn,Jr,mp],styles:[".perfil-contenedor[_ngcontent-%COMP%]{max-width:720px;margin:3rem auto;padding:3rem;background-color:#f8fbf9;border-radius:24px;box-shadow:0 10px 30px #00000014;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;color:#212121;transition:all .3s ease}.perfil-contenedor[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.2rem;margin-bottom:1.8rem;text-align:center;color:#1b5e20;font-weight:700;letter-spacing:.5px}.stats[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem;margin-bottom:2.5rem;padding:1.6rem;background-color:#fff;border:1px solid #c8e6c9;border-radius:18px}.stats[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1.2rem;display:flex;justify-content:space-between;font-weight:500;color:#424242}.stats[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#2e7d32;font-weight:600}.cursos-canje[_ngcontent-%COMP%]{background-color:#e8f5e9;padding:2.2rem;border-radius:18px;border:1px solid #aed581;transition:background-color .3s}.cursos-canje[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.7rem;margin-bottom:1.4rem;color:#388e3c;font-weight:600;letter-spacing:.3px}.cursos-canje[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;padding:0;margin:0}.cursos-canje[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#fff;padding:1rem 1.4rem;margin-bottom:.8rem;border-radius:12px;border-left:6px solid #66bb6a;font-size:1.15rem;box-shadow:0 2px 8px #0000000f}.cursos-canje[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#f1f8e9}.cursos-canje[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-style:italic;color:#555;text-align:center}@media (max-width: 600px){.perfil-contenedor[_ngcontent-%COMP%]{padding:2rem 1rem;margin:1.5rem}.perfil-contenedor[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem}.stats[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.05rem;flex-direction:column;align-items:flex-start;gap:.4rem}.cursos-canje[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.4rem}.cursos-canje[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:1rem}}.perfil-container[_ngcontent-%COMP%]{max-width:900px;margin:auto;padding:2rem;background:#fff;border-radius:12px;box-shadow:0 4px 10px #0000001a}.tabs[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;border-bottom:2px solid #ccc;margin-bottom:1rem}.tab[_ngcontent-%COMP%]{padding:.75rem 1.5rem;margin-right:.5rem;cursor:pointer;font-weight:600;color:#555;border-bottom:3px solid transparent;transition:all .3s}.tab.active[_ngcontent-%COMP%]{color:#1976d2;border-color:#1976d2}.contenido[_ngcontent-%COMP%]{padding:1rem;background:#fff;border-radius:.5rem;box-shadow:0 2px 6px #0000001a}.tabla-responsive[_ngcontent-%COMP%]{overflow-x:auto}.tabla-usuarios[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:1rem}.tabla-usuarios[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .tabla-usuarios[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:.75rem;text-align:left}.tabla-usuarios[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f4f4f4;font-weight:700}.filtros[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;gap:1rem;margin-bottom:1rem}.filtros[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .filtros[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:.5rem;border:1px solid #ccc;border-radius:.25rem;min-width:150px}.lista-cursos[_ngcontent-%COMP%]{list-style:none;padding-left:1rem}.lista-cursos[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.5rem}@media (max-width: 600px){.tabs[_ngcontent-%COMP%]{flex-direction:column}.tab[_ngcontent-%COMP%]{margin-right:0;margin-bottom:.5rem}.filtros[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.filtros[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .filtros[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%}.perfil-container[_ngcontent-%COMP%]{padding:1rem}.titulo[_ngcontent-%COMP%]{font-size:20px}}dialog[_ngcontent-%COMP%]{border:none;border-radius:12px;padding:2rem;max-width:500px;width:90%;box-shadow:0 8px 20px #0003;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;background-color:#fff;margin:auto}dialog[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;margin-bottom:1.5rem;font-size:1.6rem;text-align:center;color:#2c3e50}dialog[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column}dialog[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], dialog[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:.7rem 1rem;margin-bottom:1rem;border:1px solid #ccc;border-radius:8px;font-size:1rem;box-sizing:border-box;transition:border-color .3s ease}dialog[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, dialog[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border-color:#4caf50;outline:none}dialog[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:1rem}dialog[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;padding:.7rem 1rem;font-size:1rem;border:none;border-radius:8px;cursor:pointer;transition:background-color .3s}dialog[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}dialog[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:hover{background-color:#45a049}dialog[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[type=button][_ngcontent-%COMP%]{background-color:#e74c3c;color:#fff}dialog[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[type=button][_ngcontent-%COMP%]:hover{background-color:#c0392b}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;display:flex;justify-content:center;align-items:center;background-color:#0009;z-index:1050;transition:opacity .3s ease}.modal.show[_ngcontent-%COMP%]{opacity:1;pointer-events:auto}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{background:#fff;border-radius:12px;max-width:500px;width:90%;box-shadow:0 0 20px #0000004d;transform:translateY(-30px);transition:transform .4s ease}.modal.show[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{transform:translateY(0)}.modal-header[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]{padding:1rem 1.5rem;border-bottom:1px solid #dee2e6}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;border-bottom:none;font-weight:700}.modal-title[_ngcontent-%COMP%]{margin:0;font-size:1.25rem}.modal-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-size:1rem;color:#333}.btn-close[_ngcontent-%COMP%]{background:transparent;border:none;font-size:1.3rem;cursor:pointer}.btn-close[_ngcontent-%COMP%]:hover{color:#dc3545}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:.5rem;border-top:1px solid #dee2e6}.tabla-cursos[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;background-color:#fff;border-radius:12px;overflow:hidden;box-shadow:0 8px 16px #0000001a;margin-top:1.5rem}.tabla-cursos[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1976d2,#1565c0);color:#fff;text-align:left;padding:14px 18px;font-size:15px;font-weight:600}.tabla-cursos[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:14px 18px;border-bottom:1px solid #eeeeee;font-size:14px;color:#333}.tabla-cursos[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f4f6f8;transition:background-color .3s}@media (max-width: 768px){.tabla-cursos[_ngcontent-%COMP%]{border:0}.tabla-cursos[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:none}.tabla-cursos[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:block;margin-bottom:1rem;border-radius:10px;box-shadow:0 2px 6px #0000000d;border:1px solid #e0e0e0}.tabla-cursos[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:10px 14px;text-align:right;font-size:13px}.tabla-cursos[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{content:attr(data-label);font-weight:600;color:#1976d2;text-align:left}}.botones-cursos[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:12px;margin:20px 0;justify-content:flex-start}.botones-cursos[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 18px;font-size:14px;font-weight:600;border:none;border-radius:8px;cursor:pointer;color:#fff;background:linear-gradient(135deg,#388e3c,#2e7d32);box-shadow:0 4px 8px #00000026;transition:background .3s,transform .2s}.botones-cursos[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#2e7d32,#1b5e20);transform:scale(1.02)}@media (max-width: 600px){.botones-cursos[_ngcontent-%COMP%]{flex-direction:column}.botones-cursos[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;text-align:center}}.qr-container[_ngcontent-%COMP%]{max-width:400px;margin:2rem auto;padding:1.5rem;background:#f9f9f9;border:2px solid #e0e0e0;border-radius:1rem;box-shadow:0 4px 10px #00000014;text-align:center;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;transition:all .3s ease}.qr-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.4rem;color:#2c3e50;margin-bottom:.5rem}.qr-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0;color:#555;font-size:.95rem}.qr-container[_ngcontent-%COMP%]   qrcode[_ngcontent-%COMP%]{display:inline-block;margin-top:1rem;border-radius:.5rem;padding:.5rem;background:#fff;box-shadow:0 2px 8px #0000000d}.qr-detalle[_ngcontent-%COMP%]{font-size:.8rem;color:gray;word-break:break-all;background:#f0f0f0;padding:.3rem;border-radius:.3rem}"]})};var gp=[{path:"",component:Xr},{path:"categorias",loadComponent:()=>import("./chunk-DT4XZ35J.js").then(r=>r.CategoriasComponent)},{path:"inicio",component:Xr},{path:"nosotros",loadComponent:()=>import("./chunk-DRLSBKRM.js").then(r=>r.NosotrosComponent)},{path:"mapa",component:bo},{path:"juego",component:wo},{path:"noticias",component:Mo},{path:"perfil",component:Vo},{path:"**",redirectTo:"",pathMatch:"full"}];function vp(r){return new R(3e3,!1)}function Ev(){return new R(3100,!1)}function xv(){return new R(3101,!1)}function Pv(r){return new R(3001,!1)}function Av(r){return new R(3003,!1)}function Tv(r){return new R(3004,!1)}function yp(r,t){return new R(3005,!1)}function Cp(){return new R(3006,!1)}function bp(){return new R(3007,!1)}function wp(r,t){return new R(3008,!1)}function Sp(r){return new R(3002,!1)}function Mp(r,t,e,n,i){return new R(3010,!1)}function Ep(){return new R(3011,!1)}function xp(){return new R(3012,!1)}function Pp(){return new R(3200,!1)}function Ap(){return new R(3202,!1)}function Tp(){return new R(3013,!1)}function Ip(r){return new R(3014,!1)}function Op(r){return new R(3015,!1)}function Dp(r){return new R(3016,!1)}function Rp(r,t){return new R(3404,!1)}function Iv(r){return new R(3502,!1)}function Np(r){return new R(3503,!1)}function kp(){return new R(3300,!1)}function Vp(r){return new R(3504,!1)}function Fp(r){return new R(3301,!1)}function jp(r,t){return new R(3302,!1)}function Lp(r){return new R(3303,!1)}function Up(r,t){return new R(3400,!1)}function zp(r){return new R(3401,!1)}function Bp(r){return new R(3402,!1)}function qp(r,t){return new R(3505,!1)}function Pt(r){switch(r.length){case 0:return new tn;case 1:return r[0];default:return new Ei(r)}}function Qa(r,t,e=new Map,n=new Map){let i=[],o=[],s=-1,a=null;if(t.forEach(l=>{let c=l.get("offset"),h=c==s,v=h&&a||new Map;l.forEach((y,b)=>{let _=b,w=y;if(b!=="offset")switch(_=r.normalizePropertyName(_,i),w){case vr:w=e.get(b);break;case nt:w=n.get(b);break;default:w=r.normalizeStyleValue(b,_,w,i);break}v.set(_,w)}),h||o.push(v),a=v,s=c}),i.length)throw Iv(i);return o}function Fo(r,t,e,n){switch(t){case"start":r.onStart(()=>n(e&&Wa(e,"start",r)));break;case"done":r.onDone(()=>n(e&&Wa(e,"done",r)));break;case"destroy":r.onDestroy(()=>n(e&&Wa(e,"destroy",r)));break}}function Wa(r,t,e){let n=e.totalTime,i=!!e.disabled,o=jo(r.element,r.triggerName,r.fromState,r.toState,t||r.phaseName,n??r.totalTime,i),s=r._data;return s!=null&&(o._data=s),o}function jo(r,t,e,n,i="",o=0,s){return{element:r,triggerName:t,fromState:e,toState:n,phaseName:i,totalTime:o,disabled:!!s}}function Le(r,t,e){let n=r.get(t);return n||r.set(t,n=e),n}function Ja(r){let t=r.indexOf(":"),e=r.substring(1,t),n=r.slice(t+1);return[e,n]}var Ov=typeof document>"u"?null:document.documentElement;function Lo(r){let t=r.parentNode||r.host||null;return t===Ov?null:t}function Dv(r){return r.substring(1,6)=="ebkit"}var vn=null,_p=!1;function $p(r){vn||(vn=Rv()||{},_p=vn.style?"WebkitAppearance"in vn.style:!1);let t=!0;return vn.style&&!Dv(r)&&(t=r in vn.style,!t&&_p&&(t="Webkit"+r.charAt(0).toUpperCase()+r.slice(1)in vn.style)),t}function Rv(){return typeof document<"u"?document.body:null}function Ya(r,t){for(;t;){if(t===r)return!0;t=Lo(t)}return!1}function Za(r,t,e){if(e)return Array.from(r.querySelectorAll(t));let n=r.querySelector(t);return n?[n]:[]}var Nv=1e3,Xa="{{",kv="}}",el="ng-enter",Uo="ng-leave",ci="ng-trigger",ui=".ng-trigger",tl="ng-animating",zo=".ng-animating";function _t(r){if(typeof r=="number")return r;let t=r.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Ga(parseFloat(t[1]),t[2])}function Ga(r,t){switch(t){case"s":return r*Nv;default:return r}}function di(r,t,e){return r.hasOwnProperty("duration")?r:Vv(r,t,e)}function Vv(r,t,e){let n=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,o=0,s="";if(typeof r=="string"){let a=r.match(n);if(a===null)return t.push(vp(r)),{duration:0,delay:0,easing:""};i=Ga(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(o=Ga(parseFloat(l),a[4]));let c=a[5];c&&(s=c)}else i=r;if(!e){let a=!1,l=t.length;i<0&&(t.push(Ev()),a=!0),o<0&&(t.push(xv()),a=!0),a&&t.splice(l,0,vp(r))}return{duration:i,delay:o,easing:s}}function Hp(r){return r.length?r[0]instanceof Map?r:r.map(t=>new Map(Object.entries(t))):[]}function it(r,t,e){t.forEach((n,i)=>{let o=Bo(i);e&&!e.has(i)&&e.set(i,r.style[o]),r.style[o]=n})}function Gt(r,t){t.forEach((e,n)=>{let i=Bo(n);r.style[i]=""})}function rr(r){return Array.isArray(r)?r.length==1?r[0]:Tc(r):r}function Wp(r,t,e){let n=t.params||{},i=nl(r);i.length&&i.forEach(o=>{n.hasOwnProperty(o)||e.push(Pv(o))})}var Ka=new RegExp(`${Xa}\\s*(.+?)\\s*${kv}`,"g");function nl(r){let t=[];if(typeof r=="string"){let e;for(;e=Ka.exec(r);)t.push(e[1]);Ka.lastIndex=0}return t}function ir(r,t,e){let n=`${r}`,i=n.replace(Ka,(o,s)=>{let a=t[s];return a==null&&(e.push(Av(s)),a=""),a.toString()});return i==n?r:i}var Fv=/-+([a-z0-9])/g;function Bo(r){return r.replace(Fv,(...t)=>t[1].toUpperCase())}function Gp(r,t){return r===0||t===0}function Kp(r,t,e){if(e.size&&t.length){let n=t[0],i=[];if(e.forEach((o,s)=>{n.has(s)||i.push(s),n.set(s,o)}),i.length)for(let o=1;o<t.length;o++){let s=t[o];i.forEach(a=>s.set(a,qo(r,a)))}}return t}function Ue(r,t,e){switch(t.type){case Z.Trigger:return r.visitTrigger(t,e);case Z.State:return r.visitState(t,e);case Z.Transition:return r.visitTransition(t,e);case Z.Sequence:return r.visitSequence(t,e);case Z.Group:return r.visitGroup(t,e);case Z.Animate:return r.visitAnimate(t,e);case Z.Keyframes:return r.visitKeyframes(t,e);case Z.Style:return r.visitStyle(t,e);case Z.Reference:return r.visitReference(t,e);case Z.AnimateChild:return r.visitAnimateChild(t,e);case Z.AnimateRef:return r.visitAnimateRef(t,e);case Z.Query:return r.visitQuery(t,e);case Z.Stagger:return r.visitStagger(t,e);default:throw Tv(t.type)}}function qo(r,t){return window.getComputedStyle(r)[t]}var yl=(()=>{class r{validateStyleProperty(e){return $p(e)}containsElement(e,n){return Ya(e,n)}getParentElement(e){return Lo(e)}query(e,n,i){return Za(e,n,i)}computeStyle(e,n,i){return i||""}animate(e,n,i,o,s,a=[],l){return new tn(i,o)}static \u0275fac=function(n){return new(n||r)};static \u0275prov=J({token:r,factory:r.\u0275fac})}return r})(),yn=class{static NOOP=new yl},Cn=class{};var jv=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Ko=class extends Cn{normalizePropertyName(t,e){return Bo(t)}normalizeStyleValue(t,e,n,i){let o="",s=n.toString().trim();if(jv.has(e)&&n!==0&&n!=="0")if(typeof n=="number")o="px";else{let a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(yp(t,n))}return s+o}};var Qo="*";function Lv(r,t){let e=[];return typeof r=="string"?r.split(/\s*,\s*/).forEach(n=>Uv(n,e,t)):e.push(r),e}function Uv(r,t,e){if(r[0]==":"){let l=zv(r,e);if(typeof l=="function"){t.push(l);return}r=l}let n=r.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(n==null||n.length<4)return e.push(Op(r)),t;let i=n[1],o=n[2],s=n[3];t.push(Qp(i,s));let a=i==Qo&&s==Qo;o[0]=="<"&&!a&&t.push(Qp(s,i))}function zv(r,t){switch(r){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,n)=>parseFloat(n)>parseFloat(e);case":decrement":return(e,n)=>parseFloat(n)<parseFloat(e);default:return t.push(Dp(r)),"* => *"}}var $o=new Set(["true","1"]),Ho=new Set(["false","0"]);function Qp(r,t){let e=$o.has(r)||Ho.has(r),n=$o.has(t)||Ho.has(t);return(i,o)=>{let s=r==Qo||r==i,a=t==Qo||t==o;return!s&&e&&typeof i=="boolean"&&(s=i?$o.has(r):Ho.has(r)),!a&&n&&typeof o=="boolean"&&(a=o?$o.has(t):Ho.has(t)),s&&a}}var oh=":self",Bv=new RegExp(`s*${oh}s*,?`,"g");function sh(r,t,e,n){return new ll(r).build(t,e,n)}var Jp="",ll=class{_driver;constructor(t){this._driver=t}build(t,e,n){let i=new cl(e);return this._resetContextStyleTimingState(i),Ue(this,rr(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector=Jp,t.collectedStyles=new Map,t.collectedStyles.set(Jp,new Map),t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,i=e.depCount=0,o=[],s=[];return t.name.charAt(0)=="@"&&e.errors.push(Cp()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),a.type==Z.State){let l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(h=>{l.name=h,o.push(this.visitState(l,e))}),l.name=c}else if(a.type==Z.Transition){let l=this.visitTransition(a,e);n+=l.queryCount,i+=l.depCount,s.push(l)}else e.errors.push(bp())}),{type:Z.Trigger,name:t.name,states:o,transitions:s,queryCount:n,depCount:i,options:null}}visitState(t,e){let n=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(n.containsDynamicStyles){let o=new Set,s=i||{};n.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{nl(l).forEach(c=>{s.hasOwnProperty(c)||o.add(c)})})}),o.size&&e.errors.push(wp(t.name,[...o.values()]))}return{type:Z.State,name:t.name,style:n,options:i?{params:i}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;let n=Ue(this,rr(t.animation),e),i=Lv(t.expr,e.errors);return{type:Z.Transition,matchers:i,animation:n,queryCount:e.queryCount,depCount:e.depCount,options:_n(t.options)}}visitSequence(t,e){return{type:Z.Sequence,steps:t.steps.map(n=>Ue(this,n,e)),options:_n(t.options)}}visitGroup(t,e){let n=e.currentTime,i=0,o=t.steps.map(s=>{e.currentTime=n;let a=Ue(this,s,e);return i=Math.max(i,e.currentTime),a});return e.currentTime=i,{type:Z.Group,steps:o,options:_n(t.options)}}visitAnimate(t,e){let n=Wv(t.timings,e.errors);e.currentAnimateTimings=n;let i,o=t.styles?t.styles:Ms({});if(o.type==Z.Keyframes)i=this.visitKeyframes(o,e);else{let s=t.styles,a=!1;if(!s){a=!0;let c={};n.easing&&(c.easing=n.easing),s=Ms(c)}e.currentTime+=n.duration+n.delay;let l=this.visitStyle(s,e);l.isEmptyStep=a,i=l}return e.currentAnimateTimings=null,{type:Z.Animate,timings:n,style:i,options:null}}visitStyle(t,e){let n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){let n=[],i=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of i)typeof a=="string"?a===nt?n.push(a):e.errors.push(Sp(a)):n.push(new Map(Object.entries(a)));let o=!1,s=null;return n.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let l of a.values())if(l.toString().indexOf(Xa)>=0){o=!0;break}}}),{type:Z.Style,styles:n,easing:s,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){let n=e.currentAnimateTimings,i=e.currentTime,o=e.currentTime;n&&o>0&&(o-=n.duration+n.delay),t.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,l)=>{let c=e.collectedStyles.get(e.currentQuerySelector),h=c.get(l),v=!0;h&&(o!=i&&o>=h.startTime&&i<=h.endTime&&(e.errors.push(Mp(l,h.startTime,h.endTime,o,i)),v=!1),o=h.startTime),v&&c.set(l,{startTime:o,endTime:i}),e.options&&Wp(a,e.options,e.errors)})})}visitKeyframes(t,e){let n={type:Z.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(Ep()),n;let i=1,o=0,s=[],a=!1,l=!1,c=0,h=t.steps.map(B=>{let V=this._makeStyleAst(B,e),X=V.offset!=null?V.offset:Hv(V.styles),ne=0;return X!=null&&(o++,ne=V.offset=X),l=l||ne<0||ne>1,a=a||ne<c,c=ne,s.push(ne),V});l&&e.errors.push(xp()),a&&e.errors.push(Pp());let v=t.steps.length,y=0;o>0&&o<v?e.errors.push(Ap()):o==0&&(y=i/(v-1));let b=v-1,_=e.currentTime,w=e.currentAnimateTimings,x=w.duration;return h.forEach((B,V)=>{let X=y>0?V==b?1:y*V:s[V],ne=X*x;e.currentTime=_+w.delay+ne,w.duration=ne,this._validateStyleAst(B,e),B.offset=X,n.styles.push(B)}),n}visitReference(t,e){return{type:Z.Reference,animation:Ue(this,rr(t.animation),e),options:_n(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:Z.AnimateChild,options:_n(t.options)}}visitAnimateRef(t,e){return{type:Z.AnimateRef,animation:this.visitReference(t.animation,e),options:_n(t.options)}}visitQuery(t,e){let n=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;let[o,s]=qv(t.selector);e.currentQuerySelector=n.length?n+" "+o:o,Le(e.collectedStyles,e.currentQuerySelector,new Map);let a=Ue(this,rr(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:Z.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:t.selector,options:_n(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(Tp());let n=t.timings==="full"?{duration:0,delay:0,easing:"full"}:di(t.timings,e.errors,!0);return{type:Z.Stagger,animation:Ue(this,rr(t.animation),e),timings:n,options:null}}};function qv(r){let t=!!r.split(/\s*,\s*/).find(e=>e==oh);return t&&(r=r.replace(Bv,"")),r=r.replace(/@\*/g,ui).replace(/@\w+/g,e=>ui+"-"+e.slice(1)).replace(/:animating/g,zo),[r,t]}function $v(r){return r?A({},r):null}var cl=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(t){this.errors=t}};function Hv(r){if(typeof r=="string")return null;let t=null;if(Array.isArray(r))r.forEach(e=>{if(e instanceof Map&&e.has("offset")){let n=e;t=parseFloat(n.get("offset")),n.delete("offset")}});else if(r instanceof Map&&r.has("offset")){let e=r;t=parseFloat(e.get("offset")),e.delete("offset")}return t}function Wv(r,t){if(r.hasOwnProperty("duration"))return r;if(typeof r=="number"){let o=di(r,t).duration;return rl(o,0,"")}let e=r;if(e.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=rl(0,0,"");return o.dynamic=!0,o.strValue=e,o}let i=di(e,t);return rl(i.duration,i.delay,i.easing)}function _n(r){return r?(r=A({},r),r.params&&(r.params=$v(r.params))):r={},r}function rl(r,t,e){return{duration:r,delay:t,easing:e}}function Cl(r,t,e,n,i,o,s=null,a=!1){return{type:1,element:r,keyframes:t,preStyleProps:e,postStyleProps:n,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}var hi=class{_map=new Map;get(t){return this._map.get(t)||[]}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}},Gv=1,Kv=":enter",Qv=new RegExp(Kv,"g"),Jv=":leave",Yv=new RegExp(Jv,"g");function ah(r,t,e,n,i,o=new Map,s=new Map,a,l,c=[]){return new ul().buildKeyframes(r,t,e,n,i,o,s,a,l,c)}var ul=class{buildKeyframes(t,e,n,i,o,s,a,l,c,h=[]){c=c||new hi;let v=new dl(t,e,c,i,o,h,[]);v.options=l;let y=l.delay?_t(l.delay):0;v.currentTimeline.delayNextStep(y),v.currentTimeline.setStyles([s],null,v.errors,l),Ue(this,n,v);let b=v.timelines.filter(_=>_.containsAnimation());if(b.length&&a.size){let _;for(let w=b.length-1;w>=0;w--){let x=b[w];if(x.element===e){_=x;break}}_&&!_.allowOnlyTimelineStyles()&&_.setStyles([a],null,v.errors,l)}return b.length?b.map(_=>_.buildKeyframes()):[Cl(e,[],[],[],0,y,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){let n=e.subInstructions.get(e.element);if(n){let i=e.createSubContext(t.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,i,i.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){let n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,n),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,n){for(let i of t){let o=i?.delay;if(o){let s=typeof o=="number"?o:_t(ir(o,i?.params??{},e.errors));n.delayNextStep(s)}}}_visitSubInstructions(t,e,n){let o=e.currentTimeline.currentTime,s=n.duration!=null?_t(n.duration):null,a=n.delay!=null?_t(n.delay):null;return s!==0&&t.forEach(l=>{let c=e.appendInstructionToTimeline(l,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),Ue(this,t.animation,e),e.previousNode=t}visitSequence(t,e){let n=e.subContextCount,i=e,o=t.options;if(o&&(o.params||o.delay)&&(i=e.createSubContext(o),i.transformIntoNewTimeline(),o.delay!=null)){i.previousNode.type==Z.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Jo);let s=_t(o.delay);i.delayNextStep(s)}t.steps.length&&(t.steps.forEach(s=>Ue(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>n&&i.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){let n=[],i=e.currentTimeline.currentTime,o=t.options&&t.options.delay?_t(t.options.delay):0;t.steps.forEach(s=>{let a=e.createSubContext(t.options);o&&a.delayNextStep(o),Ue(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),n.push(a.currentTimeline)}),n.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(i),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){let n=t.strValue,i=e.params?ir(n,e.params,e.errors):n;return di(i,e.errors)}else return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){let n=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),i.snapshotCurrentStyles());let o=t.style;o.type==Z.Keyframes?this.visitKeyframes(o,e):(e.incrementTime(n.duration),this.visitStyle(o,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){let n=e.currentTimeline,i=e.currentAnimateTimings;!i&&n.hasCurrentStyleProperties()&&n.forwardFrame();let o=i&&i.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(o):n.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){let n=e.currentAnimateTimings,i=e.currentTimeline.duration,o=n.duration,a=e.createSubContext().currentTimeline;a.easing=n.easing,t.styles.forEach(l=>{let c=l.offset||0;a.forwardTime(c*o),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(i+o),e.previousNode=t}visitQuery(t,e){let n=e.currentTimeline.currentTime,i=t.options||{},o=i.delay?_t(i.delay):0;o&&(e.previousNode.type===Z.Style||n==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Jo);let s=n,a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((c,h)=>{e.currentQueryIndex=h;let v=e.createSubContext(t.options,c);o&&v.delayNextStep(o),c===e.element&&(l=v.currentTimeline),Ue(this,t.animation,v),v.currentTimeline.applyStylesToKeyframe();let y=v.currentTimeline.currentTime;s=Math.max(s,y)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){let n=e.parentContext,i=e.currentTimeline,o=t.timings,s=Math.abs(o.duration),a=s*(e.currentQueryTotal-1),l=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=n.currentStaggerTime;break}let h=e.currentTimeline;l&&h.delayNextStep(l);let v=h.currentTime;Ue(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=i.currentTime-v+(i.startTime-n.currentTimeline.startTime)}},Jo={},dl=class r{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=Jo;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(t,e,n,i,o,s,a,l){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.currentTimeline=l||new Yo(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;let n=t,i=this.options;n.duration!=null&&(i.duration=_t(n.duration)),n.delay!=null&&(i.delay=_t(n.delay));let o=n.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!e||!s.hasOwnProperty(a))&&(s[a]=ir(o[a],s,this.errors))})}}_copyOptions(){let t={};if(this.options){let e=this.options.params;if(e){let n=t.params={};Object.keys(e).forEach(i=>{n[i]=e[i]})}}return t}createSubContext(t=null,e,n){let i=e||this.element,o=new r(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,n||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=Jo,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){let i={duration:e??t.duration,delay:this.currentTimeline.currentTime+(n??0)+t.delay,easing:""},o=new pl(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,i,o,s){let a=[];if(i&&a.push(this.element),t.length>0){t=t.replace(Qv,"."+this._enterClassName),t=t.replace(Yv,"."+this._leaveClassName);let l=n!=1,c=this._driver.query(this.element,t,l);n!==0&&(c=n<0?c.slice(c.length+n,c.length):c.slice(0,n)),a.push(...c)}return!o&&a.length==0&&s.push(Ip(e)),a}},Yo=class r{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(t,e,n,i){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=i,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new r(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=Gv,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,n]of this._globalTimelineStyles)this._backFill.set(e,n||nt),this._currentKeyframe.set(e,nt);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,i){e&&this._previousKeyframe.set("easing",e);let o=i&&i.params||{},s=Zv(t,this._globalTimelineStyles);for(let[a,l]of s){let c=ir(l,o,n);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??nt),this._updateStyle(a,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,n)=>{let i=this._styleSummary.get(n);(!i||e.time>i.time)&&this._updateStyle(n,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let t=new Set,e=new Set,n=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,l)=>{let c=new Map([...this._backFill,...a]);c.forEach((h,v)=>{h===vr?t.add(v):h===nt&&e.add(v)}),n||c.set("offset",l/this.duration),i.push(c)});let o=[...t.values()],s=[...e.values()];if(n){let a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return Cl(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},pl=class extends Yo{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(t,e,n,i,o,s,a=!1){super(t,e,s.delay),this.keyframes=n,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){let o=[],s=n+e,a=e/s,l=new Map(t[0]);l.set("offset",0),o.push(l);let c=new Map(t[0]);c.set("offset",Yp(a)),o.push(c);let h=t.length-1;for(let v=1;v<=h;v++){let y=new Map(t[v]),b=y.get("offset"),_=e+b*n;y.set("offset",Yp(_/s)),o.push(y)}n=s,e=0,i="",t=o}return Cl(this.element,t,this.preStyleProps,this.postStyleProps,n,e,i,!0)}};function Yp(r,t=3){let e=Math.pow(10,t-1);return Math.round(r*e)/e}function Zv(r,t){let e=new Map,n;return r.forEach(i=>{if(i==="*"){n??=t.keys();for(let o of n)e.set(o,nt)}else for(let[o,s]of i)e.set(o,s)}),e}function Zp(r,t,e,n,i,o,s,a,l,c,h,v,y){return{type:0,element:r,triggerName:t,isRemovalTransition:i,fromState:e,fromStyles:o,toState:n,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:h,totalTime:v,errors:y}}var il={},Zo=class{_triggerName;ast;_stateStyles;constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,i){return Xv(this.ast.matchers,t,e,n,i)}buildStyles(t,e,n){let i=this._stateStyles.get("*");return t!==void 0&&(i=this._stateStyles.get(t?.toString())||i),i?i.buildStyles(e,n):new Map}build(t,e,n,i,o,s,a,l,c,h){let v=[],y=this.ast.options&&this.ast.options.params||il,b=a&&a.params||il,_=this.buildStyles(n,b,v),w=l&&l.params||il,x=this.buildStyles(i,w,v),B=new Set,V=new Map,X=new Map,ne=i==="void",oe={params:lh(w,y),delay:this.ast.options?.delay},fe=h?[]:ah(t,e,this.ast.animation,o,s,_,x,oe,c,v),ue=0;return fe.forEach(pe=>{ue=Math.max(pe.duration+pe.delay,ue)}),v.length?Zp(e,this._triggerName,n,i,ne,_,x,[],[],V,X,ue,v):(fe.forEach(pe=>{let De=pe.element,At=Le(V,De,new Set);pe.preStyleProps.forEach(yt=>At.add(yt));let gi=Le(X,De,new Set);pe.postStyleProps.forEach(yt=>gi.add(yt)),De!==e&&B.add(De)}),Zp(e,this._triggerName,n,i,ne,_,x,fe,[...B.values()],V,X,ue))}};function Xv(r,t,e,n,i){return r.some(o=>o(t,e,n,i))}function lh(r,t){let e=A({},t);return Object.entries(r).forEach(([n,i])=>{i!=null&&(e[n]=i)}),e}var hl=class{styles;defaultParams;normalizer;constructor(t,e,n){this.styles=t,this.defaultParams=e,this.normalizer=n}buildStyles(t,e){let n=new Map,i=lh(t,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=ir(s,i,e));let l=this.normalizer.normalizePropertyName(a,e);s=this.normalizer.normalizeStyleValue(a,l,s,e),n.set(a,s)})}),n}};function e_(r,t,e){return new fl(r,t,e)}var fl=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(t,e,n){this.name=t,this.ast=e,this._normalizer=n,e.states.forEach(i=>{let o=i.options&&i.options.params||{};this.states.set(i.name,new hl(i.style,o,n))}),Xp(this.states,"true","1"),Xp(this.states,"false","0"),e.transitions.forEach(i=>{this.transitionFactories.push(new Zo(t,i,this.states))}),this.fallbackTransition=t_(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,i){return this.transitionFactories.find(s=>s.match(t,e,n,i))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}};function t_(r,t,e){let n=[(s,a)=>!0],i={type:Z.Sequence,steps:[],options:null},o={type:Z.Transition,animation:i,matchers:n,options:null,queryCount:0,depCount:0};return new Zo(r,o,t)}function Xp(r,t,e){r.has(t)?r.has(e)||r.set(e,r.get(t)):r.has(e)&&r.set(t,r.get(e))}var n_=new hi,ml=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n}register(t,e){let n=[],i=[],o=sh(this._driver,e,n,i);if(n.length)throw Np(n);this._animations.set(t,o)}_buildPlayer(t,e,n){let i=t.element,o=Qa(this._normalizer,t.keyframes,e,n);return this._driver.animate(i,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){let i=[],o=this._animations.get(t),s,a=new Map;if(o?(s=ah(this._driver,e,o,el,Uo,new Map,new Map,n,n_,i),s.forEach(h=>{let v=Le(a,h.element,new Map);h.postStyleProps.forEach(y=>v.set(y,null))})):(i.push(kp()),s=[]),i.length)throw Vp(i);a.forEach((h,v)=>{h.forEach((y,b)=>{h.set(b,this._driver.computeStyle(v,b,nt))})});let l=s.map(h=>{let v=a.get(h.element);return this._buildPlayer(h,new Map,v)}),c=Pt(l);return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){let e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);let n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){let e=this._playersById.get(t);if(!e)throw Fp(t);return e}listen(t,e,n,i){let o=jo(e,"","","");return Fo(this._getPlayer(t),n,o,i),()=>{}}command(t,e,n,i){if(n=="register"){this.register(t,i[0]);return}if(n=="create"){let s=i[0]||{};this.create(t,e,s);return}let o=this._getPlayer(t);switch(n){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t);break}}},eh="ng-animate-queued",r_=".ng-animate-queued",ol="ng-animate-disabled",i_=".ng-animate-disabled",o_="ng-star-inserted",s_=".ng-star-inserted",a_=[],ch={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},l_={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ot="__ng_removed",fi=class{namespaceId;value;options;get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;let n=t&&t.hasOwnProperty("value"),i=n?t.value:t;if(this.value=u_(i),n){let o=t,{value:s}=o,a=El(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){let e=t.params;if(e){let n=this.options.params;Object.keys(e).forEach(i=>{n[i]==null&&(n[i]=e[i])})}}},pi="void",sl=new fi(pi),gl=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this._hostClassName="ng-tns-"+t,Je(e,this._hostClassName)}listen(t,e,n,i){if(!this._triggers.has(e))throw jp(n,e);if(n==null||n.length==0)throw Lp(e);if(!d_(n))throw Up(n,e);let o=Le(this._elementListeners,t,[]),s={name:e,phase:n,callback:i};o.push(s);let a=Le(this._engine.statesByElement,t,new Map);return a.has(e)||(Je(t,ci),Je(t,ci+"-"+e),a.set(e,sl)),()=>{this._engine.afterFlush(()=>{let l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(e)||a.delete(e)})}}register(t,e){return this._triggers.has(t)?!1:(this._triggers.set(t,e),!0)}_getTrigger(t){let e=this._triggers.get(t);if(!e)throw zp(t);return e}trigger(t,e,n,i=!0){let o=this._getTrigger(e),s=new mi(this.id,e,t),a=this._engine.statesByElement.get(t);a||(Je(t,ci),Je(t,ci+"-"+e),this._engine.statesByElement.set(t,a=new Map));let l=a.get(e),c=new fi(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(e,c),l||(l=sl),!(c.value===pi)&&l.value===c.value){if(!f_(l.params,c.params)){let w=[],x=o.matchStyles(l.value,l.params,w),B=o.matchStyles(c.value,c.params,w);w.length?this._engine.reportError(w):this._engine.afterFlush(()=>{Gt(t,x),it(t,B)})}return}let y=Le(this._engine.playersByElement,t,[]);y.forEach(w=>{w.namespaceId==this.id&&w.triggerName==e&&w.queued&&w.destroy()});let b=o.matchTransition(l.value,c.value,t,c.params),_=!1;if(!b){if(!i)return;b=o.fallbackTransition,_=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:b,fromState:l,toState:c,player:s,isFallbackTransition:_}),_||(Je(t,eh),s.onStart(()=>{or(t,eh)})),s.onDone(()=>{let w=this.players.indexOf(s);w>=0&&this.players.splice(w,1);let x=this._engine.playersByElement.get(t);if(x){let B=x.indexOf(s);B>=0&&x.splice(B,1)}}),this.players.push(s),y.push(s),s}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(i=>i.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);let e=this._engine.playersByElement.get(t);e&&(e.forEach(n=>n.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){let n=this._engine.driver.query(t,ui,!0);n.forEach(i=>{if(i[ot])return;let o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,e,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(t,e,n,i){let o=this._engine.statesByElement.get(t),s=new Map;if(o){let a=[];if(o.forEach((l,c)=>{if(s.set(c,l.value),this._triggers.has(c)){let h=this.trigger(t,c,pi,i);h&&a.push(h)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,s),n&&Pt(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){let e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){let i=new Set;e.forEach(o=>{let s=o.name;if(i.has(s))return;i.add(s);let l=this._triggers.get(s).fallbackTransition,c=n.get(s)||sl,h=new fi(pi),v=new mi(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:l,fromState:c,toState:h,player:v,isFallbackTransition:!0})})}}removeNode(t,e){let n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let i=!1;if(n.totalAnimations){let o=n.players.length?n.playersByQueriedElement.get(t):[];if(o&&o.length)i=!0;else{let s=t;for(;s=s.parentNode;)if(n.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)n.markElementAsRemoved(this.id,t,!1,e);else{let o=t[ot];(!o||o===ch)&&(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){Je(t,this._hostClassName)}drainQueuedTransitions(t){let e=[];return this._queue.forEach(n=>{let i=n.player;if(i.destroyed)return;let o=n.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==n.triggerName){let l=jo(o,n.triggerName,n.fromState.value,n.toState.value);l._data=t,Fo(n.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(n)}),this._queue=[],e.sort((n,i)=>{let o=n.transition.ast.depCount,s=i.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(n.element,i.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}},vl=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(t,e)=>{};_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n}get queuedPlayers(){let t=[];return this._namespaceList.forEach(e=>{e.players.forEach(n=>{n.queued&&t.push(n)})}),t}createNamespace(t,e){let n=new gl(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){let n=this._namespaceList,i=this.namespacesByHostElement;if(n.length-1>=0){let s=!1,a=this.driver.getParentElement(e);for(;a;){let l=i.get(a);if(l){let c=n.indexOf(l);n.splice(c+1,0,t),s=!0;break}a=this.driver.getParentElement(a)}s||n.unshift(t)}else n.push(t);return i.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let i=this._namespaceLookup[t];i&&i.register(e,n)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let n=this._fetchNamespace(t);this.namespacesByHostElement.delete(n.hostElement);let i=this._namespaceList.indexOf(n);i>=0&&this._namespaceList.splice(i,1),n.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){let e=new Set,n=this.statesByElement.get(t);if(n){for(let i of n.values())if(i.namespaceId){let o=this._fetchNamespace(i.namespaceId);o&&e.add(o)}}return e}trigger(t,e,n,i){if(Wo(e)){let o=this._fetchNamespace(t);if(o)return o.trigger(e,n,i),!0}return!1}insertNode(t,e,n,i){if(!Wo(e))return;let o=e[ot];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){let s=this._fetchNamespace(t);s&&s.insertNode(e,n)}i&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Je(t,ol)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),or(t,ol))}removeNode(t,e,n){if(Wo(e)){let i=t?this._fetchNamespace(t):null;i?i.removeNode(e,n):this.markElementAsRemoved(t,e,!1,n);let o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,n)}else this._onRemovalComplete(e,n)}markElementAsRemoved(t,e,n,i,o){this.collectedLeaveElements.push(e),e[ot]={namespaceId:t,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,n,i,o){return Wo(e)?this._fetchNamespace(t).listen(e,n,i,o):()=>{}}_buildInstruction(t,e,n,i,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,i,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,ui,!0);e.forEach(n=>this.destroyActiveAnimationsForElement(n)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(t,zo,!0),e.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(t){let e=this.playersByElement.get(t);e&&e.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(t){let e=this.playersByQueriedElement.get(t);e&&e.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Pt(this.players).onDone(()=>t());t()})}processLeaveNode(t){let e=t[ot];if(e&&e.setForRemoval){if(t[ot]=ch,e.namespaceId){this.destroyInnerAnimations(t);let n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(ol)&&this.markElementAsDisabled(t,!1),this.driver.query(t,i_,!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,i)=>this._balanceNamespaceList(n,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++){let i=this.collectedEnterElements[n];Je(i,o_)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let n=[];try{e=this._flushAnimations(n,t)}finally{for(let i=0;i<n.length;i++)n[i]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++){let i=this.collectedLeaveElements[n];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){let n=this._whenQuietFns;this._whenQuietFns=[],e.length?Pt(e).onDone(()=>{n.forEach(i=>i())}):n.forEach(i=>i())}}reportError(t){throw Bp(t)}_flushAnimations(t,e){let n=new hi,i=[],o=new Map,s=[],a=new Map,l=new Map,c=new Map,h=new Set;this.disabledNodes.forEach(I=>{h.add(I);let N=this.driver.query(I,r_,!0);for(let j=0;j<N.length;j++)h.add(N[j])});let v=this.bodyNode,y=Array.from(this.statesByElement.keys()),b=rh(y,this.collectedEnterElements),_=new Map,w=0;b.forEach((I,N)=>{let j=el+w++;_.set(N,j),I.forEach(ee=>Je(ee,j))});let x=[],B=new Set,V=new Set;for(let I=0;I<this.collectedLeaveElements.length;I++){let N=this.collectedLeaveElements[I],j=N[ot];j&&j.setForRemoval&&(x.push(N),B.add(N),j.hasAnimation?this.driver.query(N,s_,!0).forEach(ee=>B.add(ee)):V.add(N))}let X=new Map,ne=rh(y,Array.from(B));ne.forEach((I,N)=>{let j=Uo+w++;X.set(N,j),I.forEach(ee=>Je(ee,j))}),t.push(()=>{b.forEach((I,N)=>{let j=_.get(N);I.forEach(ee=>or(ee,j))}),ne.forEach((I,N)=>{let j=X.get(N);I.forEach(ee=>or(ee,j))}),x.forEach(I=>{this.processLeaveNode(I)})});let oe=[],fe=[];for(let I=this._namespaceList.length-1;I>=0;I--)this._namespaceList[I].drainQueuedTransitions(e).forEach(j=>{let ee=j.player,g=j.element;if(oe.push(ee),this.collectedEnterElements.length){let O=g[ot];if(O&&O.setForMove){if(O.previousTriggersValues&&O.previousTriggersValues.has(j.triggerName)){let $=O.previousTriggersValues.get(j.triggerName),G=this.statesByElement.get(j.element);if(G&&G.has(j.triggerName)){let de=G.get(j.triggerName);de.value=$,G.set(j.triggerName,de)}}ee.destroy();return}}let f=!v||!this.driver.containsElement(v,g),T=X.get(g),F=_.get(g),D=this._buildInstruction(j,n,F,T,f);if(D.errors&&D.errors.length){fe.push(D);return}if(f){ee.onStart(()=>Gt(g,D.fromStyles)),ee.onDestroy(()=>it(g,D.toStyles)),i.push(ee);return}if(j.isFallbackTransition){ee.onStart(()=>Gt(g,D.fromStyles)),ee.onDestroy(()=>it(g,D.toStyles)),i.push(ee);return}let W=[];D.timelines.forEach(O=>{O.stretchStartingKeyframe=!0,this.disabledNodes.has(O.element)||W.push(O)}),D.timelines=W,n.append(g,D.timelines);let K={instruction:D,player:ee,element:g};s.push(K),D.queriedElements.forEach(O=>Le(a,O,[]).push(ee)),D.preStyleProps.forEach((O,$)=>{if(O.size){let G=l.get($);G||l.set($,G=new Set),O.forEach((de,se)=>G.add(se))}}),D.postStyleProps.forEach((O,$)=>{let G=c.get($);G||c.set($,G=new Set),O.forEach((de,se)=>G.add(se))})});if(fe.length){let I=[];fe.forEach(N=>{I.push(qp(N.triggerName,N.errors))}),oe.forEach(N=>N.destroy()),this.reportError(I)}let ue=new Map,pe=new Map;s.forEach(I=>{let N=I.element;n.has(N)&&(pe.set(N,N),this._beforeAnimationBuild(I.player.namespaceId,I.instruction,ue))}),i.forEach(I=>{let N=I.element;this._getPreviousPlayers(N,!1,I.namespaceId,I.triggerName,null).forEach(ee=>{Le(ue,N,[]).push(ee),ee.destroy()})});let De=x.filter(I=>ih(I,l,c)),At=new Map;nh(At,this.driver,V,c,nt).forEach(I=>{ih(I,l,c)&&De.push(I)});let yt=new Map;b.forEach((I,N)=>{nh(yt,this.driver,new Set(I),l,vr)}),De.forEach(I=>{let N=At.get(I),j=yt.get(I);At.set(I,new Map([...N?.entries()??[],...j?.entries()??[]]))});let ar=[],lr=[],bn={};s.forEach(I=>{let{element:N,player:j,instruction:ee}=I;if(n.has(N)){if(h.has(N)){j.onDestroy(()=>it(N,ee.toStyles)),j.disabled=!0,j.overrideTotalTime(ee.totalTime),i.push(j);return}let g=bn;if(pe.size>1){let T=N,F=[];for(;T=T.parentNode;){let D=pe.get(T);if(D){g=D;break}F.push(T)}F.forEach(D=>pe.set(D,g))}let f=this._buildAnimation(j.namespaceId,ee,ue,o,yt,At);if(j.setRealPlayer(f),g===bn)ar.push(j);else{let T=this.playersByElement.get(g);T&&T.length&&(j.parentPlayer=Pt(T)),i.push(j)}}else Gt(N,ee.fromStyles),j.onDestroy(()=>it(N,ee.toStyles)),lr.push(j),h.has(N)&&i.push(j)}),lr.forEach(I=>{let N=o.get(I.element);if(N&&N.length){let j=Pt(N);I.setRealPlayer(j)}}),i.forEach(I=>{I.parentPlayer?I.syncPlayerEvents(I.parentPlayer):I.destroy()});for(let I=0;I<x.length;I++){let N=x[I],j=N[ot];if(or(N,Uo),j&&j.hasAnimation)continue;let ee=[];if(a.size){let f=a.get(N);f&&f.length&&ee.push(...f);let T=this.driver.query(N,zo,!0);for(let F=0;F<T.length;F++){let D=a.get(T[F]);D&&D.length&&ee.push(...D)}}let g=ee.filter(f=>!f.destroyed);g.length?p_(this,N,g):this.processLeaveNode(N)}return x.length=0,ar.forEach(I=>{this.players.push(I),I.onDone(()=>{I.destroy();let N=this.players.indexOf(I);this.players.splice(N,1)}),I.play()}),ar}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,i,o){let s=[];if(e){let a=this.playersByQueriedElement.get(t);a&&(s=a)}else{let a=this.playersByElement.get(t);if(a){let l=!o||o==pi;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||s.push(c)})}}return(n||i)&&(s=s.filter(a=>!(n&&n!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(t,e,n){let i=e.triggerName,o=e.element,s=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:i;for(let l of e.timelines){let c=l.element,h=c!==o,v=Le(n,c,[]);this._getPreviousPlayers(c,h,s,a,e.toState).forEach(b=>{let _=b.getRealPlayer();_.beforeDestroy&&_.beforeDestroy(),b.destroy(),v.push(b)})}Gt(o,e.fromStyles)}_buildAnimation(t,e,n,i,o,s){let a=e.triggerName,l=e.element,c=[],h=new Set,v=new Set,y=e.timelines.map(_=>{let w=_.element;h.add(w);let x=w[ot];if(x&&x.removedBeforeQueried)return new tn(_.duration,_.delay);let B=w!==l,V=h_((n.get(w)||a_).map(ue=>ue.getRealPlayer())).filter(ue=>{let pe=ue;return pe.element?pe.element===w:!1}),X=o.get(w),ne=s.get(w),oe=Qa(this._normalizer,_.keyframes,X,ne),fe=this._buildPlayer(_,oe,V);if(_.subTimeline&&i&&v.add(w),B){let ue=new mi(t,a,w);ue.setRealPlayer(fe),c.push(ue)}return fe});c.forEach(_=>{Le(this.playersByQueriedElement,_.element,[]).push(_),_.onDone(()=>c_(this.playersByQueriedElement,_.element,_))}),h.forEach(_=>Je(_,tl));let b=Pt(y);return b.onDestroy(()=>{h.forEach(_=>or(_,tl)),it(l,e.toStyles)}),v.forEach(_=>{Le(i,_,[]).push(b)}),b}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new tn(t.duration,t.delay)}},mi=class{namespaceId;triggerName;element;_player=new tn;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,n)=>{e.forEach(i=>Fo(t,n,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){let e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Le(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){let e=this._player;e.triggerCallback&&e.triggerCallback(t)}};function c_(r,t,e){let n=r.get(t);if(n){if(n.length){let i=n.indexOf(e);n.splice(i,1)}n.length==0&&r.delete(t)}return n}function u_(r){return r??null}function Wo(r){return r&&r.nodeType===1}function d_(r){return r=="start"||r=="done"}function th(r,t){let e=r.style.display;return r.style.display=t??"none",e}function nh(r,t,e,n,i){let o=[];e.forEach(l=>o.push(th(l)));let s=[];n.forEach((l,c)=>{let h=new Map;l.forEach(v=>{let y=t.computeStyle(c,v,i);h.set(v,y),(!y||y.length==0)&&(c[ot]=l_,s.push(c))}),r.set(c,h)});let a=0;return e.forEach(l=>th(l,o[a++])),s}function rh(r,t){let e=new Map;if(r.forEach(a=>e.set(a,[])),t.length==0)return e;let n=1,i=new Set(t),o=new Map;function s(a){if(!a)return n;let l=o.get(a);if(l)return l;let c=a.parentNode;return e.has(c)?l=c:i.has(c)?l=n:l=s(c),o.set(a,l),l}return t.forEach(a=>{let l=s(a);l!==n&&e.get(l).push(a)}),e}function Je(r,t){r.classList?.add(t)}function or(r,t){r.classList?.remove(t)}function p_(r,t,e){Pt(e).onDone(()=>r.processLeaveNode(t))}function h_(r){let t=[];return uh(r,t),t}function uh(r,t){for(let e=0;e<r.length;e++){let n=r[e];n instanceof Ei?uh(n.players,t):t.push(n)}}function f_(r,t){let e=Object.keys(r),n=Object.keys(t);if(e.length!=n.length)return!1;for(let i=0;i<e.length;i++){let o=e[i];if(!t.hasOwnProperty(o)||r[o]!==t[o])return!1}return!0}function ih(r,t,e){let n=e.get(r);if(!n)return!1;let i=t.get(r);return i?n.forEach(o=>i.add(o)):t.set(r,n),e.delete(r),!0}var sr=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(t,e)=>{};constructor(t,e,n){this._driver=e,this._normalizer=n,this._transitionEngine=new vl(t.body,e,n),this._timelineEngine=new ml(t.body,e,n),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(t,e,n,i,o){let s=t+"-"+i,a=this._triggerCache[s];if(!a){let l=[],c=[],h=sh(this._driver,o,l,c);if(l.length)throw Rp(i,l);a=e_(i,h,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(e,i,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,i){this._transitionEngine.insertNode(t,e,n,i)}onRemove(t,e,n){this._transitionEngine.removeNode(t,e,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,i){if(n.charAt(0)=="@"){let[o,s]=Ja(n),a=i;this._timelineEngine.command(o,e,s,a)}else this._transitionEngine.trigger(t,e,n,i)}listen(t,e,n,i,o){if(n.charAt(0)=="@"){let[s,a]=Ja(n);return this._timelineEngine.listen(s,e,a,o)}return this._transitionEngine.listen(t,e,n,i,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}};function m_(r,t){let e=null,n=null;return Array.isArray(t)&&t.length?(e=al(t[0]),t.length>1&&(n=al(t[t.length-1]))):t instanceof Map&&(e=al(t)),e||n?new g_(r,e,n):null}var g_=(()=>{class r{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(e,n,i){this._element=e,this._startStyles=n,this._endStyles=i;let o=r.initialStylesByElement.get(e);o||r.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&it(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(it(this._element,this._initialStyles),this._endStyles&&(it(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(r.initialStylesByElement.delete(this._element),this._startStyles&&(Gt(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Gt(this._element,this._endStyles),this._endStyles=null),it(this._element,this._initialStyles),this._state=3)}}return r})();function al(r){let t=null;return r.forEach((e,n)=>{v_(n)&&(t=t||new Map,t.set(n,e))}),t}function v_(r){return r==="display"||r==="position"}var Xo=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(t,e,n,i){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=i,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;let e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){let e=[];return t.forEach(n=>{e.push(Object.fromEntries(n))}),e}_triggerWebAnimation(t,e,n){return t.animate(this._convertKeyframesToObject(e),n)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,i)=>{i!=="offset"&&t.set(i,this._finished?n:qo(this.element,i))}),this.currentSnapshot=t}triggerCallback(t){let e=t==="start"?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}},es=class{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}containsElement(t,e){return Ya(t,e)}getParentElement(t){return Lo(t)}query(t,e,n){return Za(t,e,n)}computeStyle(t,e,n){return qo(t,e)}animate(t,e,n,i,o,s=[]){let a=i==0?"both":"forwards",l={duration:n,delay:i,fill:a};o&&(l.easing=o);let c=new Map,h=s.filter(b=>b instanceof Xo);Gp(n,i)&&h.forEach(b=>{b.currentSnapshot.forEach((_,w)=>c.set(w,_))});let v=Hp(e).map(b=>new Map(b));v=Kp(t,v,c);let y=m_(t,v);return new Xo(t,v,l,y)}};var Go="@",dh="@.disabled",ts=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(t,e,n,i){this.namespaceId=t,this.delegate=e,this.engine=n,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,i=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,i)}removeChild(t,e,n){this.parentNode(e)&&this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,i){this.delegate.setAttribute(t,e,n,i)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,i){this.delegate.setStyle(t,e,n,i)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==Go&&e==dh?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n,i){return this.delegate.listen(t,e,n,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}},_l=class extends ts{factory;constructor(t,e,n,i,o){super(e,n,i,o),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==Go?e.charAt(1)=="."&&e==dh?(n=n===void 0?!0:!!n,this.disableAnimations(t,n)):this.engine.process(this.namespaceId,t,e.slice(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n,i){if(e.charAt(0)==Go){let o=__(t),s=e.slice(1),a="";return s.charAt(0)!=Go&&([s,a]=y_(s)),this.engine.listen(this.namespaceId,o,s,a,l=>{let c=l._data||-1;this.factory.scheduleListenerCallback(c,n,l)})}return this.delegate.listen(t,e,n,i)}};function __(r){switch(r){case"body":return document.body;case"document":return document;case"window":return window;default:return r}}function y_(r){let t=r.indexOf("."),e=r.substring(0,t),n=r.slice(t+1);return[e,n]}var ns=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,e.onRemovalComplete=(i,o)=>{o?.removeChild(null,i)}}createRenderer(t,e){let n="",i=this.delegate.createRenderer(t,e);if(!t||!e?.data?.animation){let c=this._rendererCache,h=c.get(i);if(!h){let v=()=>c.delete(i);h=new ts(n,i,this.engine,v),c.set(i,h)}return h}let o=e.id,s=e.id+"-"+this._currentId;this._currentId++,this.engine.register(s,t);let a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(o,s,t,c.name,c)};return e.data.animation.forEach(a),new _l(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){if(t>=0&&t<this._microtaskId){this._zone.run(()=>e(n));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([e,n])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(t){this.engine.flush(),this.delegate.componentReplaced?.(t)}};var b_=(()=>{class r extends sr{constructor(e,n,i){super(e,n,i)}ngOnDestroy(){this.flush()}static \u0275fac=function(n){return new(n||r)(Q(Ie),Q(yn),Q(Cn))};static \u0275prov=J({token:r,factory:r.\u0275fac})}return r})();function w_(){return new Ko}function S_(r,t,e){return new ns(r,t,e)}var ph=[{provide:Cn,useFactory:w_},{provide:sr,useClass:b_},{provide:Ci,useFactory:S_,deps:[br,sr,Be]}],Rw=[{provide:yn,useClass:yl},{provide:fs,useValue:"NoopAnimations"},...ph],M_=[{provide:yn,useFactory:()=>new es},{provide:fs,useFactory:()=>"BrowserAnimations"},...ph];function hh(){return yi("NgEagerAnimations"),[...M_]}var fh={providers:[oa(gp),Ac(),hh()]};Os(Jn,fh).catch(r=>console.error(r));
