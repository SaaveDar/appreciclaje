import{B as ml,C as No,E as Ht,F as Yi,G as Qn,a as Me,b as xt,c as rl,d as ol,e as sl,f as Kn,g as al,h as hn,i as ll,j as fn,k as At,l as st,m as cl,n as Ue,o as ul,p as dl,q as Ie,r as ko,s as pl,t as hl,u as mn,v as fl,w as gn,x as J,y as Je}from"./chunk-WKMUEHDI.js";import{$ as L,$a as wt,A as Ca,Aa as Na,Ab as le,B as Co,Ba as qn,Bb as ce,C as ba,Ca as un,Cb as ue,Da as dn,Db as ot,E as nt,Ea as Va,Eb as Ro,F as Ft,Fa,Fb as Za,G as jt,Ga as ja,Gb as Xa,H as bo,Ha as La,Hb as el,I as an,Ia as Ua,Ib as pn,J as Bi,Ja as za,Jb as tl,K as bt,Ka as $a,Kb as Bt,L as So,La as zt,M as Sa,Ma as Ba,N as wa,Na as Hn,Nb as nl,Oa as qa,Ob as qt,P as Ma,Pa as Ha,Pb as Et,Q as Ke,Qa as g,Qb as Gn,R as Ea,Ra as Wn,Rb as il,S as Se,T as R,Ta as Hi,U as it,Ua as $t,V as Y,Va as F,W as St,Wa,X as xa,Xa as Ga,Y as ae,Ya as Ka,Z as wo,Za as Wi,_ as Q,_a as De,a as P,aa as Mo,ab as me,b as de,ba as Aa,bb as Qa,c as fa,ca as ln,cb as je,d as ld,da as rt,db as W,e as cd,ea as Lt,eb as To,f as ud,fa as w,fb as Gi,g as dd,ga as M,gb as Oo,h as pd,ha as Qe,hb as Do,i as ma,ia as Pa,ib as Io,j as ga,ja as cn,jb as Mt,k as va,ka as Ta,kb as E,la as Oa,lb as Le,m as vo,ma as Ye,mb as u,n as _o,na as Fe,nb as d,o as Ge,oa as Eo,ob as pe,p as Te,pa as Da,pb as Ki,q as gt,qa as Ut,qb as Qi,r as be,ra as Bn,rb as X,s as U,sa as Ia,sb as A,t as $n,ta as xo,tb as y,u as _a,ua as Ra,ub as vt,v as ya,va as Ce,vb as h,w as oe,wa as Ao,wb as H,x as $i,xa as Po,xb as we,y as Oe,ya as ka,yb as Ya,z as yo,za as qi,zb as Ja}from"./chunk-OMQDVPMS.js";var Jc={};ud(Jc,{closest:()=>Tf,distance:()=>Yc});var _t,Af,Pf,Yc,Tf,Zc=ld(()=>{"use strict";_t=new Uint32Array(65536),Af=(i,t)=>{let e=i.length,n=t.length,r=1<<e-1,o=-1,s=0,a=e,l=e;for(;l--;)_t[i.charCodeAt(l)]|=1<<l;for(l=0;l<n;l++){let c=_t[t.charCodeAt(l)],f=c|s;c|=(c&o)+o^o,s|=~(c|o),o&=c,s&r&&a++,o&r&&a--,s=s<<1|1,o=o<<1|~(f|s),s&=f}for(l=e;l--;)_t[i.charCodeAt(l)]=0;return a},Pf=(i,t)=>{let e=t.length,n=i.length,r=[],o=[],s=Math.ceil(e/32),a=Math.ceil(n/32);for(let _=0;_<s;_++)o[_]=-1,r[_]=0;let l=0;for(;l<a-1;l++){let _=0,b=-1,x=l*32,B=Math.min(32,n)+x;for(let V=x;V<B;V++)_t[i.charCodeAt(V)]|=1<<V;for(let V=0;V<e;V++){let te=_t[t.charCodeAt(V)],ie=o[V/32|0]>>>V&1,ve=r[V/32|0]>>>V&1,Ee=te|_,ge=((te|ve)&b)+b^b|te|ve,he=_|~(ge|b),Ae=b&ge;he>>>31^ie&&(o[V/32|0]^=1<<V),Ae>>>31^ve&&(r[V/32|0]^=1<<V),he=he<<1|ie,Ae=Ae<<1|ve,b=Ae|~(Ee|he),_=he&Ee}for(let V=x;V<B;V++)_t[i.charCodeAt(V)]=0}let c=0,f=-1,v=l*32,S=Math.min(32,n-v)+v;for(let _=v;_<S;_++)_t[i.charCodeAt(_)]|=1<<_;let C=n;for(let _=0;_<e;_++){let b=_t[t.charCodeAt(_)],x=o[_/32|0]>>>_&1,B=r[_/32|0]>>>_&1,V=b|c,te=((b|B)&f)+f^f|b|B,ie=c|~(te|f),ve=f&te;C+=ie>>>n-1&1,C-=ve>>>n-1&1,ie>>>31^x&&(o[_/32|0]^=1<<_),ve>>>31^B&&(r[_/32|0]^=1<<_),ie=ie<<1|x,ve=ve<<1|B,f=ve|~(V|ie),c=ie&V}for(let _=v;_<S;_++)_t[i.charCodeAt(_)]=0;return C},Yc=(i,t)=>{if(i.length<t.length){let e=t;t=i,i=e}return t.length===0?i.length:i.length<=32?Af(i,t):Pf(i,t)},Tf=(i,t)=>{let e=1/0,n=0;for(let r=0;r<t.length;r++){let o=Yc(i,t[r]);o<e&&(e=o,n=r)}return t[n]}});var Xc=cd((Rs,Ri)=>{"use strict";(function(){"use strict";var i;try{i=typeof Intl<"u"&&typeof Intl.Collator<"u"?Intl.Collator("generic",{sensitivity:"base"}):null}catch{console.log("Collator could not be initialized and wouldn't be used")}var t=(Zc(),pd(Jc)),e=[],n=[],r={get:function(o,s,a){var l=a&&i&&a.useCollator;if(l){var c=o.length,f=s.length;if(c===0)return f;if(f===0)return c;var v,S,C,_,b;for(C=0;C<f;++C)e[C]=C,n[C]=s.charCodeAt(C);e[f]=f;var x;for(C=0;C<c;++C){for(S=C+1,_=0;_<f;++_)v=S,x=i.compare(o.charAt(C),String.fromCharCode(n[_]))===0,S=e[_]+(x?0:1),b=v+1,S>b&&(S=b),b=e[_+1]+1,S>b&&(S=b),e[_]=v;e[_]=S}return S}return t.distance(o,s)}};typeof define<"u"&&define!==null&&define.amd?define(function(){return r}):typeof Ri<"u"&&Ri!==null&&typeof Rs<"u"&&Ri.exports===Rs?Ri.exports=r:typeof self<"u"&&typeof self.postMessage=="function"&&typeof self.importScripts=="function"?self.Levenshtein=r:typeof window<"u"&&window!==null&&(window.Levenshtein=r)})()});var Xi=new ae(""),Lo=(()=>{class i{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,n){this._zone=n,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,n,r,o){return this._findPluginFor(n).addEventListener(e,n,r,o)}getZone(){return this._zone}_findPluginFor(e){let n=this._eventNameToPlugin.get(e);if(n)return n;if(n=this._plugins.find(o=>o.supports(e)),!n)throw new R(5101,!1);return this._eventNameToPlugin.set(e,n),n}static \u0275fac=function(n){return new(n||i)(Q(Xi),Q(Fe))};static \u0275prov=Y({token:i,factory:i.\u0275fac})}return i})(),Yn=class{_doc;constructor(t){this._doc=t}manager},Ji="ng-app-id";function gl(i){for(let t of i)t.remove()}function vl(i,t){let e=t.createElement("style");return e.textContent=i,e}function hd(i,t,e,n){let r=i.head?.querySelectorAll(`style[${Ji}="${t}"],link[${Ji}="${t}"]`);if(r)for(let o of r)o.removeAttribute(Ji),o instanceof HTMLLinkElement?n.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&e.set(o.textContent,{usage:0,elements:[o]})}function Fo(i,t){let e=t.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",i),e}var Uo=(()=>{class i{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(e,n,r,o={}){this.doc=e,this.appId=n,this.nonce=r,this.isServer=ko(o),hd(e,n,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,n){for(let r of e)this.addUsage(r,this.inline,vl);n?.forEach(r=>this.addUsage(r,this.external,Fo))}removeStyles(e,n){for(let r of e)this.removeUsage(r,this.inline);n?.forEach(r=>this.removeUsage(r,this.external))}addUsage(e,n,r){let o=n.get(e);o?o.usage++:n.set(e,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,r(e,this.doc)))})}removeUsage(e,n){let r=n.get(e);r&&(r.usage--,r.usage<=0&&(gl(r.elements),n.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])gl(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[n,{elements:r}]of this.inline)r.push(this.addElement(e,vl(n,this.doc)));for(let[n,{elements:r}]of this.external)r.push(this.addElement(e,Fo(n,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,n){return this.nonce&&n.setAttribute("nonce",this.nonce),this.isServer&&n.setAttribute(Ji,this.appId),e.appendChild(n)}static \u0275fac=function(n){return new(n||i)(Q(Me),Q(xo),Q(Po,8),Q(Ce))};static \u0275prov=Y({token:i,factory:i.\u0275fac})}return i})(),Vo={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},zo=/%COMP%/g;var yl="%COMP%",fd=`_nghost-${yl}`,md=`_ngcontent-${yl}`,gd=!0,vd=new ae("",{providedIn:"root",factory:()=>gd});function _d(i){return md.replace(zo,i)}function yd(i){return fd.replace(zo,i)}function Cl(i,t){return t.map(e=>e.replace(zo,i))}var Xn=(()=>{class i{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,n,r,o,s,a,l,c=null,f=null){this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.tracingService=f,this.platformIsServer=ko(a),this.defaultRenderer=new Jn(e,s,l,this.platformIsServer,this.tracingService)}createRenderer(e,n){if(!e||!n)return this.defaultRenderer;this.platformIsServer&&n.encapsulation===qn.ShadowDom&&(n=de(P({},n),{encapsulation:qn.Emulated}));let r=this.getOrCreateRenderer(e,n);return r instanceof Zi?r.applyToHost(e):r instanceof Zn&&r.applyStyles(),r}getOrCreateRenderer(e,n){let r=this.rendererByCompId,o=r.get(n.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,v=this.platformIsServer,S=this.tracingService;switch(n.encapsulation){case qn.Emulated:o=new Zi(l,c,n,this.appId,f,s,a,v,S);break;case qn.ShadowDom:return new jo(l,c,e,n,s,a,this.nonce,v,S);default:o=new Zn(l,c,n,f,s,a,v,S);break}r.set(n.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(n){return new(n||i)(Q(Lo),Q(Uo),Q(xo),Q(vd),Q(Me),Q(Ce),Q(Fe),Q(Po),Q(ka,8))};static \u0275prov=Y({token:i,factory:i.\u0275fac})}return i})(),Jn=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,e,n,r,o){this.eventManager=t,this.doc=e,this.ngZone=n,this.platformIsServer=r,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,e){return e?this.doc.createElementNS(Vo[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(_l(t)?t.content:t).appendChild(e)}insertBefore(t,e,n){t&&(_l(t)?t.content:t).insertBefore(e,n)}removeChild(t,e){e.remove()}selectRootElement(t,e){let n=typeof t=="string"?this.doc.querySelector(t):t;if(!n)throw new R(-5104,!1);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;let o=Vo[r];o?t.setAttributeNS(o,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){let r=Vo[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&(Wn.DashCase|Wn.Important)?t.style.setProperty(e,n,r&Wn.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&Wn.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t!=null&&(t[e]=n)}setValue(t,e){t.nodeValue=e}listen(t,e,n,r){if(typeof t=="string"&&(t=xt().getGlobalEventTarget(this.doc,t),!t))throw new R(5102,!1);let o=this.decoratePreventDefault(n);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,e,o)),this.eventManager.addEventListener(t,e,o,r)}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))===!1&&e.preventDefault()}}};function _l(i){return i.tagName==="TEMPLATE"&&i.content!==void 0}var jo=class extends Jn{sharedStylesHost;hostEl;shadowRoot;constructor(t,e,n,r,o,s,a,l,c){super(t,o,s,l,c),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let f=r.styles;f=Cl(r.id,f);for(let S of f){let C=document.createElement("style");a&&C.setAttribute("nonce",a),C.textContent=S,this.shadowRoot.appendChild(C)}let v=r.getExternalStyles?.();if(v)for(let S of v){let C=Fo(S,o);a&&C.setAttribute("nonce",a),this.shadowRoot.appendChild(C)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Zn=class extends Jn{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,e,n,r,o,s,a,l,c){super(t,o,s,a,l),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r;let f=n.styles;this.styles=c?Cl(c,f):f,this.styleUrls=n.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Zi=class extends Zn{contentAttr;hostAttr;constructor(t,e,n,r,o,s,a,l,c){let f=r+"-"+n.id;super(t,e,n,o,s,a,l,c,f),this.contentAttr=_d(f),this.hostAttr=yd(f)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}};var er=class i extends ol{supportsDOMEvents=!0;static makeCurrent(){rl(new i)}onAndCancel(t,e,n,r){return t.addEventListener(e,n,r),()=>{t.removeEventListener(e,n,r)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=bd();return e==null?null:Sd(e)}resetBaseElement(){ei=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return ul(document.cookie,t)}},ei=null;function bd(){return ei=ei||document.head.querySelector("base"),ei?ei.getAttribute("href"):null}function Sd(i){return new URL(i,document.baseURI).pathname}var wd=(()=>{class i{build(){return new XMLHttpRequest}static \u0275fac=function(n){return new(n||i)};static \u0275prov=Y({token:i,factory:i.\u0275fac})}return i})(),Sl=(()=>{class i extends Yn{constructor(e){super(e)}supports(e){return!0}addEventListener(e,n,r,o){return e.addEventListener(n,r,o),()=>this.removeEventListener(e,n,r,o)}removeEventListener(e,n,r,o){return e.removeEventListener(n,r,o)}static \u0275fac=function(n){return new(n||i)(Q(Me))};static \u0275prov=Y({token:i,factory:i.\u0275fac})}return i})(),bl=["alt","control","meta","shift"],Md={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ed={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey},wl=(()=>{class i extends Yn{constructor(e){super(e)}supports(e){return i.parseEventName(e)!=null}addEventListener(e,n,r,o){let s=i.parseEventName(n),a=i.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>xt().onAndCancel(e,s.domEventName,a,o))}static parseEventName(e){let n=e.toLowerCase().split("."),r=n.shift();if(n.length===0||!(r==="keydown"||r==="keyup"))return null;let o=i._normalizeKey(n.pop()),s="",a=n.indexOf("code");if(a>-1&&(n.splice(a,1),s="code."),bl.forEach(c=>{let f=n.indexOf(c);f>-1&&(n.splice(f,1),s+=c+".")}),s+=o,n.length!=0||o.length===0)return null;let l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(e,n){let r=Md[e.key]||e.key,o="";return n.indexOf("code.")>-1&&(r=e.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),bl.forEach(s=>{if(s!==r){let a=Ed[s];a(e)&&(o+=s+".")}}),o+=r,o===n)}static eventCallback(e,n,r){return o=>{i.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>n(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(n){return new(n||i)(Q(Me))};static \u0275prov=Y({token:i,factory:i.\u0275fac})}return i})();function $o(i,t){return nl(P({rootComponent:i},xd(t)))}function xd(i){return{appProviders:[...Dd,...i?.providers??[]],platformProviders:Od}}function Ad(){er.makeCurrent()}function Pd(){return new Eo}function Td(){return Ia(document),document}var Od=[{provide:Ce,useValue:dl},{provide:Ra,useValue:Ad,multi:!0},{provide:Me,useFactory:Td}];var Dd=[{provide:Aa,useValue:"root"},{provide:Eo,useFactory:Pd},{provide:Xi,useClass:Sl,multi:!0,deps:[Me]},{provide:Xi,useClass:wl,multi:!0,deps:[Me]},Xn,Uo,Lo,{provide:Hi,useExisting:Xn},{provide:pl,useClass:wd},[]];var Ml=(()=>{class i{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(n){return new(n||i)(Q(Me))};static \u0275prov=Y({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var ti=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275prov=Y({token:i,factory:function(n){let r=null;return n?r=new(n||i):r=Q(kd),r},providedIn:"root"})}return i})(),kd=(()=>{class i extends ti{_doc;constructor(e){super(),this._doc=e}sanitize(e,n){if(n==null)return null;switch(e){case zt.NONE:return n;case zt.HTML:return dn(n,"HTML")?un(n):$a(this._doc,String(n)).toString();case zt.STYLE:return dn(n,"Style")?un(n):n;case zt.SCRIPT:if(dn(n,"Script"))return un(n);throw new R(5200,!1);case zt.URL:return dn(n,"URL")?un(n):za(String(n));case zt.RESOURCE_URL:if(dn(n,"ResourceURL"))return un(n);throw new R(5201,!1);default:throw new R(5202,!1)}}bypassSecurityTrustHtml(e){return Va(e)}bypassSecurityTrustStyle(e){return Fa(e)}bypassSecurityTrustScript(e){return ja(e)}bypassSecurityTrustUrl(e){return La(e)}bypassSecurityTrustResourceUrl(e){return Ua(e)}static \u0275fac=function(n){return new(n||i)(Q(Me))};static \u0275prov=Y({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var $="primary",fi=Symbol("RouteTitle"),Ko=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function Kt(i){return new Ko(i)}function Il(i,t,e){let n=e.path.split("/");if(n.length>i.length||e.pathMatch==="full"&&(t.hasChildren()||n.length<i.length))return null;let r={};for(let o=0;o<n.length;o++){let s=n[o],a=i[o];if(s[0]===":")r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:i.slice(0,n.length),posParams:r}}function Nd(i,t){if(i.length!==t.length)return!1;for(let e=0;e<i.length;++e)if(!at(i[e],t[e]))return!1;return!0}function at(i,t){let e=i?Qo(i):void 0,n=t?Qo(t):void 0;if(!e||!n||e.length!=n.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!Rl(i[r],t[r]))return!1;return!0}function Qo(i){return[...Object.keys(i),...Object.getOwnPropertySymbols(i)]}function Rl(i,t){if(Array.isArray(i)&&Array.isArray(t)){if(i.length!==t.length)return!1;let e=[...i].sort(),n=[...t].sort();return e.every((r,o)=>n[o]===r)}else return i===t}function kl(i){return i.length>0?i[i.length-1]:null}function Dt(i){return _a(i)?i:Gi(i)?be(Promise.resolve(i)):U(i)}var Vd={exact:Vl,subset:Fl},Nl={exact:Fd,subset:jd,ignored:()=>!0};function El(i,t,e){return Vd[e.paths](i.root,t.root,e.matrixParams)&&Nl[e.queryParams](i.queryParams,t.queryParams)&&!(e.fragment==="exact"&&i.fragment!==t.fragment)}function Fd(i,t){return at(i,t)}function Vl(i,t,e){if(!Wt(i.segments,t.segments)||!ir(i.segments,t.segments,e)||i.numberOfChildren!==t.numberOfChildren)return!1;for(let n in t.children)if(!i.children[n]||!Vl(i.children[n],t.children[n],e))return!1;return!0}function jd(i,t){return Object.keys(t).length<=Object.keys(i).length&&Object.keys(t).every(e=>Rl(i[e],t[e]))}function Fl(i,t,e){return jl(i,t,t.segments,e)}function jl(i,t,e,n){if(i.segments.length>e.length){let r=i.segments.slice(0,e.length);return!(!Wt(r,e)||t.hasChildren()||!ir(r,e,n))}else if(i.segments.length===e.length){if(!Wt(i.segments,e)||!ir(i.segments,e,n))return!1;for(let r in t.children)if(!i.children[r]||!Fl(i.children[r],t.children[r],n))return!1;return!0}else{let r=e.slice(0,i.segments.length),o=e.slice(i.segments.length);return!Wt(i.segments,r)||!ir(i.segments,r,n)||!i.children[$]?!1:jl(i.children[$],t,o,n)}}function ir(i,t,e){return t.every((n,r)=>Nl[e](i[r].parameters,n.parameters))}var ct=class{root;queryParams;fragment;_queryParamMap;constructor(t=new ne([],{}),e={},n=null){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap??=Kt(this.queryParams),this._queryParamMap}toString(){return zd.serialize(this)}},ne=class{segments;children;parent=null;constructor(t,e){this.segments=t,this.children=e,Object.values(e).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return rr(this)}},Pt=class{path;parameters;_parameterMap;constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=Kt(this.parameters),this._parameterMap}toString(){return Ul(this)}};function Ld(i,t){return Wt(i,t)&&i.every((e,n)=>at(e.parameters,t[n].parameters))}function Wt(i,t){return i.length!==t.length?!1:i.every((e,n)=>e.path===t[n].path)}function Ud(i,t){let e=[];return Object.entries(i.children).forEach(([n,r])=>{n===$&&(e=e.concat(t(r,n)))}),Object.entries(i.children).forEach(([n,r])=>{n!==$&&(e=e.concat(t(r,n)))}),e}var Qt=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275prov=Y({token:i,factory:()=>new Tt,providedIn:"root"})}return i})(),Tt=class{parse(t){let e=new Jo(t);return new ct(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${ni(t.root,!0)}`,n=qd(t.queryParams),r=typeof t.fragment=="string"?`#${$d(t.fragment)}`:"";return`${e}${n}${r}`}},zd=new Tt;function rr(i){return i.segments.map(t=>Ul(t)).join("/")}function ni(i,t){if(!i.hasChildren())return rr(i);if(t){let e=i.children[$]?ni(i.children[$],!1):"",n=[];return Object.entries(i.children).forEach(([r,o])=>{r!==$&&n.push(`${r}:${ni(o,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}else{let e=Ud(i,(n,r)=>r===$?[ni(i.children[$],!1)]:[`${r}:${ni(n,!1)}`]);return Object.keys(i.children).length===1&&i.children[$]!=null?`${rr(i)}/${e[0]}`:`${rr(i)}/(${e.join("//")})`}}function Ll(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function tr(i){return Ll(i).replace(/%3B/gi,";")}function $d(i){return encodeURI(i)}function Yo(i){return Ll(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function or(i){return decodeURIComponent(i)}function xl(i){return or(i.replace(/\+/g,"%20"))}function Ul(i){return`${Yo(i.path)}${Bd(i.parameters)}`}function Bd(i){return Object.entries(i).map(([t,e])=>`;${Yo(t)}=${Yo(e)}`).join("")}function qd(i){let t=Object.entries(i).map(([e,n])=>Array.isArray(n)?n.map(r=>`${tr(e)}=${tr(r)}`).join("&"):`${tr(e)}=${tr(n)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var Hd=/^[^\/()?;#]+/;function qo(i){let t=i.match(Hd);return t?t[0]:""}var Wd=/^[^\/()?;=#]+/;function Gd(i){let t=i.match(Wd);return t?t[0]:""}var Kd=/^[^=?&#]+/;function Qd(i){let t=i.match(Kd);return t?t[0]:""}var Yd=/^[^&#]+/;function Jd(i){let t=i.match(Yd);return t?t[0]:""}var Jo=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ne([],{}):new ne([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[$]=new ne(t,e)),n}parseSegment(){let t=qo(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new R(4009,!1);return this.capture(t),new Pt(or(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=Gd(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){let r=qo(this.remaining);r&&(n=r,this.capture(n))}t[or(e)]=or(n)}parseQueryParam(t){let e=Qd(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){let s=Jd(this.remaining);s&&(n=s,this.capture(n))}let r=xl(e),o=xl(n);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=qo(this.remaining),r=this.remaining[n.length];if(r!=="/"&&r!==")"&&r!==";")throw new R(4010,!1);let o;n.indexOf(":")>-1?(o=n.slice(0,n.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=$);let s=this.parseChildren();e[o]=Object.keys(s).length===1?s[$]:new ne([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new R(4011,!1)}};function zl(i){return i.segments.length>0?new ne([],{[$]:i}):i}function $l(i){let t={};for(let[n,r]of Object.entries(i.children)){let o=$l(r);if(n===$&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[n]=o)}let e=new ne(i.segments,t);return Zd(e)}function Zd(i){if(i.numberOfChildren===1&&i.children[$]){let t=i.children[$];return new ne(i.segments.concat(t.segments),t.children)}return i}function Ot(i){return i instanceof ct}function Bl(i,t,e=null,n=null){let r=ql(i);return Hl(r,t,e,n)}function ql(i){let t;function e(o){let s={};for(let l of o.children){let c=e(l);s[l.outlet]=c}let a=new ne(o.url,s);return o===i&&(t=a),a}let n=e(i.root),r=zl(n);return t??r}function Hl(i,t,e,n){let r=i;for(;r.parent;)r=r.parent;if(t.length===0)return Ho(r,r,r,e,n);let o=Xd(t);if(o.toRoot())return Ho(r,r,new ne([],{}),e,n);let s=ep(o,r,i),a=s.processChildren?ri(s.segmentGroup,s.index,o.commands):Gl(s.segmentGroup,s.index,o.commands);return Ho(r,s.segmentGroup,a,e,n)}function ar(i){return typeof i=="object"&&i!=null&&!i.outlets&&!i.segmentPath}function si(i){return typeof i=="object"&&i!=null&&i.outlets}function Ho(i,t,e,n,r){let o={};n&&Object.entries(n).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(f=>`${f}`):`${c}`});let s;i===t?s=e:s=Wl(i,t,e);let a=zl($l(s));return new ct(a,o,r)}function Wl(i,t,e){let n={};return Object.entries(i.children).forEach(([r,o])=>{o===t?n[r]=e:n[r]=Wl(o,t,e)}),new ne(i.segments,n)}var lr=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&ar(n[0]))throw new R(4003,!1);let r=n.find(si);if(r&&r!==kl(n))throw new R(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Xd(i){if(typeof i[0]=="string"&&i.length===1&&i[0]==="/")return new lr(!0,0,i);let t=0,e=!1,n=i.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?e=!0:a===".."?t++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new lr(e,t,n)}var yn=class{segmentGroup;processChildren;index;constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}};function ep(i,t,e){if(i.isAbsolute)return new yn(t,!0,0);if(!e)return new yn(t,!1,NaN);if(e.parent===null)return new yn(e,!0,0);let n=ar(i.commands[0])?0:1,r=e.segments.length-1+n;return tp(e,r,i.numberOfDoubleDots)}function tp(i,t,e){let n=i,r=t,o=e;for(;o>r;){if(o-=r,n=n.parent,!n)throw new R(4005,!1);r=n.segments.length}return new yn(n,!1,r-o)}function np(i){return si(i[0])?i[0].outlets:{[$]:i}}function Gl(i,t,e){if(i??=new ne([],{}),i.segments.length===0&&i.hasChildren())return ri(i,t,e);let n=ip(i,t,e),r=e.slice(n.commandIndex);if(n.match&&n.pathIndex<i.segments.length){let o=new ne(i.segments.slice(0,n.pathIndex),{});return o.children[$]=new ne(i.segments.slice(n.pathIndex),i.children),ri(o,0,r)}else return n.match&&r.length===0?new ne(i.segments,{}):n.match&&!i.hasChildren()?Zo(i,t,e):n.match?ri(i,0,r):Zo(i,t,e)}function ri(i,t,e){if(e.length===0)return new ne(i.segments,{});{let n=np(e),r={};if(Object.keys(n).some(o=>o!==$)&&i.children[$]&&i.numberOfChildren===1&&i.children[$].segments.length===0){let o=ri(i.children[$],t,e);return new ne(i.segments,o.children)}return Object.entries(n).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=Gl(i.children[o],t,s))}),Object.entries(i.children).forEach(([o,s])=>{n[o]===void 0&&(r[o]=s)}),new ne(i.segments,r)}}function ip(i,t,e){let n=0,r=t,o={match:!1,pathIndex:0,commandIndex:0};for(;r<i.segments.length;){if(n>=e.length)return o;let s=i.segments[r],a=e[n];if(si(a))break;let l=`${a}`,c=n<e.length-1?e[n+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!Pl(l,c,s))return o;n+=2}else{if(!Pl(l,{},s))return o;n++}r++}return{match:!0,pathIndex:r,commandIndex:n}}function Zo(i,t,e){let n=i.segments.slice(0,t),r=0;for(;r<e.length;){let o=e[r];if(si(o)){let l=rp(o.outlets);return new ne(n,l)}if(r===0&&ar(e[0])){let l=i.segments[t];n.push(new Pt(l.path,Al(e[0]))),r++;continue}let s=si(o)?o.outlets[$]:`${o}`,a=r<e.length-1?e[r+1]:null;s&&a&&ar(a)?(n.push(new Pt(s,Al(a))),r+=2):(n.push(new Pt(s,{})),r++)}return new ne(n,{})}function rp(i){let t={};return Object.entries(i).forEach(([e,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(t[e]=Zo(new ne([],{}),0,n))}),t}function Al(i){let t={};return Object.entries(i).forEach(([e,n])=>t[e]=`${n}`),t}function Pl(i,t,e){return i==e.path&&at(t,e.parameters)}var sr="imperative",_e=function(i){return i[i.NavigationStart=0]="NavigationStart",i[i.NavigationEnd=1]="NavigationEnd",i[i.NavigationCancel=2]="NavigationCancel",i[i.NavigationError=3]="NavigationError",i[i.RoutesRecognized=4]="RoutesRecognized",i[i.ResolveStart=5]="ResolveStart",i[i.ResolveEnd=6]="ResolveEnd",i[i.GuardsCheckStart=7]="GuardsCheckStart",i[i.GuardsCheckEnd=8]="GuardsCheckEnd",i[i.RouteConfigLoadStart=9]="RouteConfigLoadStart",i[i.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",i[i.ChildActivationStart=11]="ChildActivationStart",i[i.ChildActivationEnd=12]="ChildActivationEnd",i[i.ActivationStart=13]="ActivationStart",i[i.ActivationEnd=14]="ActivationEnd",i[i.Scroll=15]="Scroll",i[i.NavigationSkipped=16]="NavigationSkipped",i}(_e||{}),$e=class{id;url;constructor(t,e){this.id=t,this.url=e}},ut=class extends $e{type=_e.NavigationStart;navigationTrigger;restoredState;constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Be=class extends $e{urlAfterRedirects;type=_e.NavigationEnd;constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Re=function(i){return i[i.Redirect=0]="Redirect",i[i.SupersededByNewNavigation=1]="SupersededByNewNavigation",i[i.NoDataFromResolver=2]="NoDataFromResolver",i[i.GuardRejected=3]="GuardRejected",i}(Re||{}),bn=function(i){return i[i.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",i[i.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",i}(bn||{}),lt=class extends $e{reason;code;type=_e.NavigationCancel;constructor(t,e,n,r){super(t,e),this.reason=n,this.code=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},dt=class extends $e{reason;code;type=_e.NavigationSkipped;constructor(t,e,n,r){super(t,e),this.reason=n,this.code=r}},Sn=class extends $e{error;target;type=_e.NavigationError;constructor(t,e,n,r){super(t,e),this.error=n,this.target=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ai=class extends $e{urlAfterRedirects;state;type=_e.RoutesRecognized;constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},cr=class extends $e{urlAfterRedirects;state;type=_e.GuardsCheckStart;constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ur=class extends $e{urlAfterRedirects;state;shouldActivate;type=_e.GuardsCheckEnd;constructor(t,e,n,r,o){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},dr=class extends $e{urlAfterRedirects;state;type=_e.ResolveStart;constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},pr=class extends $e{urlAfterRedirects;state;type=_e.ResolveEnd;constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},hr=class{route;type=_e.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},fr=class{route;type=_e.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},mr=class{snapshot;type=_e.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},gr=class{snapshot;type=_e.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},vr=class{snapshot;type=_e.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},_r=class{snapshot;type=_e.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},wn=class{routerEvent;position;anchor;type=_e.Scroll;constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},li=class{},Mn=class{url;navigationBehaviorOptions;constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function op(i,t){return i.providers&&!i._injector&&(i._injector=Wi(i.providers,t,`Route: ${i.path}`)),i._injector??t}function Ze(i){return i.outlet||$}function sp(i,t){let e=i.filter(n=>Ze(n)===t);return e.push(...i.filter(n=>Ze(n)!==t)),e}function mi(i){if(!i)return null;if(i.routeConfig?._injector)return i.routeConfig._injector;for(let t=i.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var yr=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return mi(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new Yt(this.rootInjector)}},Yt=(()=>{class i{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,n){let r=this.getOrCreateContext(e);r.outlet=n,this.contexts.set(e,r)}onChildOutletDestroyed(e){let n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new yr(this.rootInjector),this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(n){return new(n||i)(Q(ln))};static \u0275prov=Y({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Cr=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=Xo(t,this._root);return e?e.children.map(n=>n.value):[]}firstChild(t){let e=Xo(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=es(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return es(t,this._root).map(e=>e.value)}};function Xo(i,t){if(i===t.value)return t;for(let e of t.children){let n=Xo(i,e);if(n)return n}return null}function es(i,t){if(i===t.value)return[t];for(let e of t.children){let n=es(i,e);if(n.length)return n.unshift(t),n}return[]}var ze=class{value;children;constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function _n(i){let t={};return i&&i.children.forEach(e=>t[e.value.outlet]=e),t}var ci=class extends Cr{snapshot;constructor(t,e){super(t),this.snapshot=e,ls(this,t)}toString(){return this.snapshot.toString()}};function Kl(i){let t=ap(i),e=new Te([new Pt("",{})]),n=new Te({}),r=new Te({}),o=new Te({}),s=new Te(""),a=new pt(e,n,o,s,r,$,i,t.root);return a.snapshot=t.root,new ci(new ze(a,[]),t)}function ap(i){let t={},e={},n={},r="",o=new Gt([],t,n,r,e,$,i,null,{});return new ui("",new ze(o,[]))}var pt=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,e,n,r,o,s,a,l){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=n,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(oe(c=>c[fi]))??U(void 0),this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(oe(t=>Kt(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(oe(t=>Kt(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function br(i,t,e="emptyOnly"){let n,{routeConfig:r}=i;return t!==null&&(e==="always"||r?.path===""||!t.component&&!t.routeConfig?.loadComponent)?n={params:P(P({},t.params),i.params),data:P(P({},t.data),i.data),resolve:P(P(P(P({},i.data),t.data),r?.data),i._resolvedData)}:n={params:P({},i.params),data:P({},i.data),resolve:P(P({},i.data),i._resolvedData??{})},r&&Yl(r)&&(n.resolve[fi]=r.title),n}var Gt=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[fi]}constructor(t,e,n,r,o,s,a,l,c){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Kt(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Kt(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(n=>n.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},ui=class extends Cr{url;constructor(t,e){super(e),this.url=t,ls(this,e)}toString(){return Ql(this._root)}};function ls(i,t){t.value._routerState=i,t.children.forEach(e=>ls(i,e))}function Ql(i){let t=i.children.length>0?` { ${i.children.map(Ql).join(", ")} } `:"";return`${i.value}${t}`}function Wo(i){if(i.snapshot){let t=i.snapshot,e=i._futureSnapshot;i.snapshot=e,at(t.queryParams,e.queryParams)||i.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&i.fragmentSubject.next(e.fragment),at(t.params,e.params)||i.paramsSubject.next(e.params),Nd(t.url,e.url)||i.urlSubject.next(e.url),at(t.data,e.data)||i.dataSubject.next(e.data)}else i.snapshot=i._futureSnapshot,i.dataSubject.next(i._futureSnapshot.data)}function ts(i,t){let e=at(i.params,t.params)&&Ld(i.url,t.url),n=!i.parent!=!t.parent;return e&&!n&&(!i.parent||ts(i.parent,t.parent))}function Yl(i){return typeof i.title=="string"||i.title===null}var Jl=new ae(""),gi=(()=>{class i{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=$;activateEvents=new Ye;deactivateEvents=new Ye;attachEvents=new Ye;detachEvents=new Ye;routerOutletData=Da(void 0);parentContexts=L(Yt);location=L(Ga);changeDetector=L(Bt);inputBinder=L(vi,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:n,previousValue:r}=e.name;if(n)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new R(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new R(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new R(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,n){this.activated=e,this._activatedRoute=n,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,n){if(this.isActivated)throw new R(4013,!1);this._activatedRoute=e;let r=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new ns(e,a,r.injector,this.routerOutletData);this.activated=r.createComponent(s,{index:r.length,injector:l,environmentInjector:n}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(n){return new(n||i)};static \u0275dir=me({type:i,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Lt]})}return i})(),ns=class{route;childContexts;parent;outletData;constructor(t,e,n,r){this.route=t,this.childContexts=e,this.parent=n,this.outletData=r}get(t,e){return t===pt?this.route:t===Yt?this.childContexts:t===Jl?this.outletData:this.parent.get(t,e)}},vi=new ae(""),cs=(()=>{class i{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:n}=e,r=$i([n.queryParams,n.params,n.data]).pipe(Ke(([o,s,a],l)=>(a=P(P(P({},o),s),a),l===0?U(a):Promise.resolve(a)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==n||n.component===null){this.unsubscribeFromRouteData(e);return}let s=il(n.component);if(!s){this.unsubscribeFromRouteData(e);return}for(let{templateName:a}of s.inputs)e.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(e,r)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=Y({token:i,factory:i.\u0275fac})}return i})(),us=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275cmp=De({type:i,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(n,r){n&1&&pe(0,"router-outlet")},dependencies:[gi],encapsulation:2})}return i})();function ds(i){let t=i.children&&i.children.map(ds),e=t?de(P({},i),{children:t}):P({},i);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==$&&(e.component=us),e}function lp(i,t,e){let n=di(i,t._root,e?e._root:void 0);return new ci(n,t)}function di(i,t,e){if(e&&i.shouldReuseRoute(t.value,e.value.snapshot)){let n=e.value;n._futureSnapshot=t.value;let r=cp(i,t,e);return new ze(n,r)}else{if(i.shouldAttach(t.value)){let o=i.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>di(i,a)),s}}let n=up(t.value),r=t.children.map(o=>di(i,o));return new ze(n,r)}}function cp(i,t,e){return t.children.map(n=>{for(let r of e.children)if(i.shouldReuseRoute(n.value,r.value.snapshot))return di(i,n,r);return di(i,n)})}function up(i){return new pt(new Te(i.url),new Te(i.params),new Te(i.queryParams),new Te(i.fragment),new Te(i.data),i.outlet,i.component,i)}var En=class{redirectTo;navigationBehaviorOptions;constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},Zl="ngNavigationCancelingError";function Sr(i,t){let{redirectTo:e,navigationBehaviorOptions:n}=Ot(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=Xl(!1,Re.Redirect);return r.url=e,r.navigationBehaviorOptions=n,r}function Xl(i,t){let e=new Error(`NavigationCancelingError: ${i||""}`);return e[Zl]=!0,e.cancellationCode=t,e}function dp(i){return ec(i)&&Ot(i.url)}function ec(i){return!!i&&i[Zl]}var pp=(i,t,e,n)=>oe(r=>(new is(t,r.targetRouterState,r.currentRouterState,e,n).activate(i),r)),is=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,e,n,r,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){let e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Wo(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){let r=_n(e);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],n),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,n)})}deactivateRoutes(t,e,n){let r=t.value,o=e?e.value:null;if(r===o)if(r.component){let s=n.getContext(r.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,n);else o&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,o=_n(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(n&&n.outlet){let s=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){let n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,o=_n(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(t,e,n){let r=_n(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],n),this.forwardEvent(new _r(o.value.snapshot))}),t.children.length&&this.forwardEvent(new gr(t.value.snapshot))}activateRoutes(t,e,n){let r=t.value,o=e?e.value:null;if(Wo(r),r===o)if(r.component){let s=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,n);else if(r.component){let s=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Wo(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,n)}},wr=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Cn=class{component;route;constructor(t,e){this.component=t,this.route=e}};function hp(i,t,e){let n=i._root,r=t?t._root:null;return ii(n,r,e,[n.value])}function fp(i){let t=i.routeConfig?i.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:i,guards:t}}function An(i,t){let e=Symbol(),n=t.get(i,e);return n===e?typeof i=="function"&&!xa(i)?i:t.get(i):n}function ii(i,t,e,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=_n(t);return i.children.forEach(s=>{mp(s,o[s.value.outlet],e,n.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>oi(a,e.getContext(s),r)),r}function mp(i,t,e,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=i.value,s=t?t.value:null,a=e?e.getContext(i.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=gp(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new wr(n)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?ii(i,t,a?a.children:null,n,r):ii(i,t,e,n,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Cn(a.outlet.component,s))}else s&&oi(t,a,r),r.canActivateChecks.push(new wr(n)),o.component?ii(i,null,a?a.children:null,n,r):ii(i,null,e,n,r);return r}function gp(i,t,e){if(typeof e=="function")return e(i,t);switch(e){case"pathParamsChange":return!Wt(i.url,t.url);case"pathParamsOrQueryParamsChange":return!Wt(i.url,t.url)||!at(i.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ts(i,t)||!at(i.queryParams,t.queryParams);case"paramsChange":default:return!ts(i,t)}}function oi(i,t,e){let n=_n(i),r=i.value;Object.entries(n).forEach(([o,s])=>{r.component?t?oi(s,t.children.getContext(o),e):oi(s,null,e):oi(s,t,e)}),r.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new Cn(t.outlet.component,r)):e.canDeactivateChecks.push(new Cn(null,r)):e.canDeactivateChecks.push(new Cn(null,r))}function _i(i){return typeof i=="function"}function vp(i){return typeof i=="boolean"}function _p(i){return i&&_i(i.canLoad)}function yp(i){return i&&_i(i.canActivate)}function Cp(i){return i&&_i(i.canActivateChild)}function bp(i){return i&&_i(i.canDeactivate)}function Sp(i){return i&&_i(i.canMatch)}function tc(i){return i instanceof ya||i?.name==="EmptyError"}var nr=Symbol("INITIAL_VALUE");function xn(){return Ke(i=>$i(i.map(t=>t.pipe(an(1),Ma(nr)))).pipe(oe(t=>{for(let e of t)if(e!==!0){if(e===nr)return nr;if(e===!1||wp(e))return e}return!0}),nt(t=>t!==nr),an(1)))}function wp(i){return Ot(i)||i instanceof En}function Mp(i,t){return Oe(e=>{let{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return s.length===0&&o.length===0?U(de(P({},e),{guardsResult:!0})):Ep(s,n,r,i).pipe(Oe(a=>a&&vp(a)?xp(n,o,i,t):U(a)),oe(a=>de(P({},e),{guardsResult:a})))})}function Ep(i,t,e,n){return be(i).pipe(Oe(r=>Dp(r.component,r.route,e,t,n)),bt(r=>r!==!0,!0))}function xp(i,t,e,n){return be(t).pipe(jt(r=>Ca(Pp(r.route.parent,n),Ap(r.route,n),Op(i,r.path,e),Tp(i,r.route,e))),bt(r=>r!==!0,!0))}function Ap(i,t){return i!==null&&t&&t(new vr(i)),U(!0)}function Pp(i,t){return i!==null&&t&&t(new mr(i)),U(!0)}function Tp(i,t,e){let n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||n.length===0)return U(!0);let r=n.map(o=>Co(()=>{let s=mi(t)??e,a=An(o,s),l=yp(a)?a.canActivate(t,i):rt(s,()=>a(t,i));return Dt(l).pipe(bt())}));return U(r).pipe(xn())}function Op(i,t,e){let n=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>fp(s)).filter(s=>s!==null).map(s=>Co(()=>{let a=s.guards.map(l=>{let c=mi(s.node)??e,f=An(l,c),v=Cp(f)?f.canActivateChild(n,i):rt(c,()=>f(n,i));return Dt(v).pipe(bt())});return U(a).pipe(xn())}));return U(o).pipe(xn())}function Dp(i,t,e,n,r){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return U(!0);let s=o.map(a=>{let l=mi(t)??r,c=An(a,l),f=bp(c)?c.canDeactivate(i,t,e,n):rt(l,()=>c(i,t,e,n));return Dt(f).pipe(bt())});return U(s).pipe(xn())}function Ip(i,t,e,n){let r=t.canLoad;if(r===void 0||r.length===0)return U(!0);let o=r.map(s=>{let a=An(s,i),l=_p(a)?a.canLoad(t,e):rt(i,()=>a(t,e));return Dt(l)});return U(o).pipe(xn(),nc(n))}function nc(i){return va(Se(t=>{if(typeof t!="boolean")throw Sr(i,t)}),oe(t=>t===!0))}function Rp(i,t,e,n){let r=t.canMatch;if(!r||r.length===0)return U(!0);let o=r.map(s=>{let a=An(s,i),l=Sp(a)?a.canMatch(t,e):rt(i,()=>a(t,e));return Dt(l)});return U(o).pipe(xn(),nc(n))}var pi=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},hi=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function vn(i){return $n(new pi(i))}function kp(i){return $n(new R(4e3,!1))}function Np(i){return $n(Xl(!1,Re.GuardRejected))}var rs=class{urlSerializer;urlTree;constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),r.numberOfChildren===0)return U(n);if(r.numberOfChildren>1||!r.children[$])return kp(`${t.redirectTo}`);r=r.children[$]}}applyRedirectCommands(t,e,n,r,o){if(typeof e!="string"){let a=e,{queryParams:l,fragment:c,routeConfig:f,url:v,outlet:S,params:C,data:_,title:b}=r,x=rt(o,()=>a({params:C,data:_,queryParams:l,fragment:c,routeConfig:f,url:v,outlet:S,title:b}));if(x instanceof ct)throw new hi(x);e=x}let s=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,n);if(e[0]==="/")throw new hi(s);return s}applyRedirectCreateUrlTree(t,e,n,r){let o=this.createSegmentGroup(t,e.root,n,r);return new ct(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let n={};return Object.entries(t).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);n[r]=e[a]}else n[r]=o}),n}createSegmentGroup(t,e,n,r){let o=this.createSegments(t,e.segments,n,r),s={};return Object.entries(e.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,n,r)}),new ne(o,s)}createSegments(t,e,n,r){return e.map(o=>o.path[0]===":"?this.findPosParam(t,o,r):this.findOrReturn(o,n))}findPosParam(t,e,n){let r=n[e.path.substring(1)];if(!r)throw new R(4001,!1);return r}findOrReturn(t,e){let n=0;for(let r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}},os={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Vp(i,t,e,n,r){let o=ic(i,t,e);return o.matched?(n=op(t,n),Rp(n,t,e,r).pipe(oe(s=>s===!0?o:P({},os)))):U(o)}function ic(i,t,e){if(t.path==="**")return Fp(e);if(t.path==="")return t.pathMatch==="full"&&(i.hasChildren()||e.length>0)?P({},os):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let r=(t.matcher||Il)(e,i,t);if(!r)return P({},os);let o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=r.consumed.length>0?P(P({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function Fp(i){return{matched:!0,parameters:i.length>0?kl(i).parameters:{},consumedSegments:i,remainingSegments:[],positionalParamSegments:{}}}function Tl(i,t,e,n){return e.length>0&&Up(i,e,n)?{segmentGroup:new ne(t,Lp(n,new ne(e,i.children))),slicedSegments:[]}:e.length===0&&zp(i,e,n)?{segmentGroup:new ne(i.segments,jp(i,e,n,i.children)),slicedSegments:e}:{segmentGroup:new ne(i.segments,i.children),slicedSegments:e}}function jp(i,t,e,n){let r={};for(let o of e)if(Er(i,t,o)&&!n[Ze(o)]){let s=new ne([],{});r[Ze(o)]=s}return P(P({},n),r)}function Lp(i,t){let e={};e[$]=t;for(let n of i)if(n.path===""&&Ze(n)!==$){let r=new ne([],{});e[Ze(n)]=r}return e}function Up(i,t,e){return e.some(n=>Er(i,t,n)&&Ze(n)!==$)}function zp(i,t,e){return e.some(n=>Er(i,t,n))}function Er(i,t,e){return(i.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function $p(i,t,e){return t.length===0&&!i.children[e]}var ss=class{};function Bp(i,t,e,n,r,o,s="emptyOnly"){return new as(i,t,e,n,r,s,o).recognize()}var qp=31,as=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,e,n,r,o,s,a){this.injector=t,this.configLoader=e,this.rootComponentType=n,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new rs(this.urlSerializer,this.urlTree)}noMatchError(t){return new R(4002,`'${t.segmentGroup}'`)}recognize(){let t=Tl(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(oe(({children:e,rootSnapshot:n})=>{let r=new ze(n,e),o=new ui("",r),s=Bl(n,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){let e=new Gt([],Object.freeze({}),Object.freeze(P({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),$,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,$,e).pipe(oe(n=>({children:n,rootSnapshot:e})),Ft(n=>{if(n instanceof hi)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof pi?this.noMatchError(n):n}))}processSegmentGroup(t,e,n,r,o){return n.segments.length===0&&n.hasChildren()?this.processChildren(t,e,n,o):this.processSegment(t,e,n,n.segments,r,!0,o).pipe(oe(s=>s instanceof ze?[s]:[]))}processChildren(t,e,n,r){let o=[];for(let s of Object.keys(n.children))s==="primary"?o.unshift(s):o.push(s);return be(o).pipe(jt(s=>{let a=n.children[s],l=sp(e,s);return this.processSegmentGroup(t,l,a,s,r)}),wa((s,a)=>(s.push(...a),s)),bo(null),Sa(),Oe(s=>{if(s===null)return vn(n);let a=rc(s);return Hp(a),U(a)}))}processSegment(t,e,n,r,o,s,a){return be(e).pipe(jt(l=>this.processSegmentAgainstRoute(l._injector??t,e,l,n,r,o,s,a).pipe(Ft(c=>{if(c instanceof pi)return U(null);throw c}))),bt(l=>!!l),Ft(l=>{if(tc(l))return $p(n,r,o)?U(new ss):vn(n);throw l}))}processSegmentAgainstRoute(t,e,n,r,o,s,a,l){return Ze(n)!==s&&(s===$||!Er(r,o,n))?vn(r):n.redirectTo===void 0?this.matchSegmentAgainstRoute(t,r,n,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,n,o,s,l):vn(r)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,o,s,a){let{matched:l,parameters:c,consumedSegments:f,positionalParamSegments:v,remainingSegments:S}=ic(e,r,o);if(!l)return vn(e);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>qp&&(this.allowRedirects=!1));let C=new Gt(o,c,Object.freeze(P({},this.urlTree.queryParams)),this.urlTree.fragment,Ol(r),Ze(r),r.component??r._loadedComponent??null,r,Dl(r)),_=br(C,a,this.paramsInheritanceStrategy);C.params=Object.freeze(_.params),C.data=Object.freeze(_.data);let b=this.applyRedirects.applyRedirectCommands(f,r.redirectTo,v,C,t);return this.applyRedirects.lineralizeSegments(r,b).pipe(Oe(x=>this.processSegment(t,n,e,x.concat(S),s,!1,a)))}matchSegmentAgainstRoute(t,e,n,r,o,s){let a=Vp(e,n,r,t,this.urlSerializer);return n.path==="**"&&(e.children={}),a.pipe(Ke(l=>l.matched?(t=n._injector??t,this.getChildConfig(t,n,r).pipe(Ke(({routes:c})=>{let f=n._loadedInjector??t,{parameters:v,consumedSegments:S,remainingSegments:C}=l,_=new Gt(S,v,Object.freeze(P({},this.urlTree.queryParams)),this.urlTree.fragment,Ol(n),Ze(n),n.component??n._loadedComponent??null,n,Dl(n)),b=br(_,s,this.paramsInheritanceStrategy);_.params=Object.freeze(b.params),_.data=Object.freeze(b.data);let{segmentGroup:x,slicedSegments:B}=Tl(e,S,C,c);if(B.length===0&&x.hasChildren())return this.processChildren(f,c,x,_).pipe(oe(te=>new ze(_,te)));if(c.length===0&&B.length===0)return U(new ze(_,[]));let V=Ze(n)===o;return this.processSegment(f,c,x,B,V?$:o,!0,_).pipe(oe(te=>new ze(_,te instanceof ze?[te]:[])))}))):vn(e)))}getChildConfig(t,e,n){return e.children?U({routes:e.children,injector:t}):e.loadChildren?e._loadedRoutes!==void 0?U({routes:e._loadedRoutes,injector:e._loadedInjector}):Ip(t,e,n,this.urlSerializer).pipe(Oe(r=>r?this.configLoader.loadChildren(t,e).pipe(Se(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):Np(e))):U({routes:[],injector:t})}};function Hp(i){i.sort((t,e)=>t.value.outlet===$?-1:e.value.outlet===$?1:t.value.outlet.localeCompare(e.value.outlet))}function Wp(i){let t=i.value.routeConfig;return t&&t.path===""}function rc(i){let t=[],e=new Set;for(let n of i){if(!Wp(n)){t.push(n);continue}let r=t.find(o=>n.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...n.children),e.add(r)):t.push(n)}for(let n of e){let r=rc(n.children);t.push(new ze(n.value,r))}return t.filter(n=>!e.has(n))}function Ol(i){return i.data||{}}function Dl(i){return i.resolve||{}}function Gp(i,t,e,n,r,o){return Oe(s=>Bp(i,t,e,n,s.extractedUrl,r,o).pipe(oe(({state:a,tree:l})=>de(P({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function Kp(i,t){return Oe(e=>{let{targetSnapshot:n,guards:{canActivateChecks:r}}=e;if(!r.length)return U(e);let o=new Set(r.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of oc(l))s.add(c);let a=0;return be(s).pipe(jt(l=>o.has(l)?Qp(l,n,i,t):(l.data=br(l,l.parent,i).resolve,U(void 0))),Se(()=>a++),So(1),Oe(l=>a===s.size?U(e):gt))})}function oc(i){let t=i.children.map(e=>oc(e)).flat();return[i,...t]}function Qp(i,t,e,n){let r=i.routeConfig,o=i._resolve;return r?.title!==void 0&&!Yl(r)&&(o[fi]=r.title),Yp(o,i,t,n).pipe(oe(s=>(i._resolvedData=s,i.data=br(i,i.parent,e).resolve,null)))}function Yp(i,t,e,n){let r=Qo(i);if(r.length===0)return U({});let o={};return be(r).pipe(Oe(s=>Jp(i[s],t,e,n).pipe(bt(),Se(a=>{if(a instanceof En)throw Sr(new Tt,a);o[s]=a}))),So(1),oe(()=>o),Ft(s=>tc(s)?gt:$n(s)))}function Jp(i,t,e,n){let r=mi(t)??n,o=An(i,r),s=o.resolve?o.resolve(t,e):rt(r,()=>o(t,e));return Dt(s)}function Go(i){return Ke(t=>{let e=i(t);return e?be(e).pipe(oe(()=>t)):U(t)})}var ps=(()=>{class i{buildTitle(e){let n,r=e.root;for(;r!==void 0;)n=this.getResolvedTitleForRoute(r)??n,r=r.children.find(o=>o.outlet===$);return n}getResolvedTitleForRoute(e){return e.data[fi]}static \u0275fac=function(n){return new(n||i)};static \u0275prov=Y({token:i,factory:()=>L(sc),providedIn:"root"})}return i})(),sc=(()=>{class i extends ps{title;constructor(e){super(),this.title=e}updateTitle(e){let n=this.buildTitle(e);n!==void 0&&this.title.setTitle(n)}static \u0275fac=function(n){return new(n||i)(Q(Ml))};static \u0275prov=Y({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Jt=new ae("",{providedIn:"root",factory:()=>({})}),Zt=new ae(""),xr=(()=>{class i{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=L(tl);loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return U(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let n=Dt(e.loadComponent()).pipe(oe(lc),Se(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),Bi(()=>{this.componentLoaders.delete(e)})),r=new _o(n,()=>new Ge).pipe(vo());return this.componentLoaders.set(e,r),r}loadChildren(e,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return U({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);let o=ac(n,this.compiler,e,this.onLoadEndListener).pipe(Bi(()=>{this.childrenLoaders.delete(n)})),s=new _o(o,()=>new Ge).pipe(vo());return this.childrenLoaders.set(n,s),s}static \u0275fac=function(n){return new(n||i)};static \u0275prov=Y({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function ac(i,t,e,n){return Dt(i.loadChildren()).pipe(oe(lc),Oe(r=>r instanceof Ka||Array.isArray(r)?U(r):be(t.compileModuleAsync(r))),oe(r=>{n&&n(i);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(e).injector,s=o.get(Zt,[],{optional:!0,self:!0}).flat()),{routes:s.map(ds),injector:o}}))}function Zp(i){return i&&typeof i=="object"&&"default"in i}function lc(i){return Zp(i)?i.default:i}var Ar=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275prov=Y({token:i,factory:()=>L(Xp),providedIn:"root"})}return i})(),Xp=(()=>{class i{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}static \u0275fac=function(n){return new(n||i)};static \u0275prov=Y({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),hs=new ae(""),fs=new ae("");function cc(i,t,e){let n=i.get(fs),r=i.get(Me);return i.get(Fe).runOutsideAngular(()=>{if(!r.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,new Promise(c=>setTimeout(c));let o,s=new Promise(c=>{o=c}),a=r.startViewTransition(()=>(o(),eh(i))),{onViewTransitionCreated:l}=n;return l&&rt(i,()=>l({transition:a,from:t,to:e})),s})}function eh(i){return new Promise(t=>{Na({read:()=>setTimeout(t)},{injector:i})})}var ms=new ae(""),Pr=(()=>{class i{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Ge;transitionAbortSubject=new Ge;configLoader=L(xr);environmentInjector=L(ln);destroyRef=L(Ta);urlSerializer=L(Qt);rootContexts=L(Yt);location=L(hn);inputBindingEnabled=L(vi,{optional:!0})!==null;titleStrategy=L(ps);options=L(Jt,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=L(Ar);createViewTransition=L(hs,{optional:!0});navigationErrorHandler=L(ms,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>U(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=r=>this.events.next(new hr(r)),n=r=>this.events.next(new fr(r));this.configLoader.onLoadEndListener=n,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let n=++this.navigationId;this.transitions?.next(de(P({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:n}))}setupNavigations(e){return this.transitions=new Te(null),this.transitions.pipe(nt(n=>n!==null),Ke(n=>{let r=!1,o=!1;return U(n).pipe(Ke(s=>{if(this.navigationId>n.id)return this.cancelNavigationTransition(n,"",Re.SupersededByNewNavigation),gt;this.currentTransition=n,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?de(P({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=s.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!a&&l!=="reload"){let c="";return this.events.next(new dt(s.id,this.urlSerializer.serialize(s.rawUrl),c,bn.IgnoredSameUrlNavigation)),s.resolve(!1),gt}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return U(s).pipe(Ke(c=>(this.events.next(new ut(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?gt:Promise.resolve(c))),Gp(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),Se(c=>{n.targetSnapshot=c.targetSnapshot,n.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation=de(P({},this.currentNavigation),{finalUrl:c.urlAfterRedirects});let f=new ai(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(f)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:c,extractedUrl:f,source:v,restoredState:S,extras:C}=s,_=new ut(c,this.urlSerializer.serialize(f),v,S);this.events.next(_);let b=Kl(this.rootComponentType).snapshot;return this.currentTransition=n=de(P({},s),{targetSnapshot:b,urlAfterRedirects:f,extras:de(P({},C),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,U(n)}else{let c="";return this.events.next(new dt(s.id,this.urlSerializer.serialize(s.extractedUrl),c,bn.IgnoredByUrlHandlingStrategy)),s.resolve(!1),gt}}),Se(s=>{let a=new cr(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),oe(s=>(this.currentTransition=n=de(P({},s),{guards:hp(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),n)),Mp(this.environmentInjector,s=>this.events.next(s)),Se(s=>{if(n.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Sr(this.urlSerializer,s.guardsResult);let a=new ur(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),nt(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Re.GuardRejected),!1)),Go(s=>{if(s.guards.canActivateChecks.length!==0)return U(s).pipe(Se(a=>{let l=new dr(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),Ke(a=>{let l=!1;return U(a).pipe(Kp(this.paramsInheritanceStrategy,this.environmentInjector),Se({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(a,"",Re.NoDataFromResolver)}}))}),Se(a=>{let l=new pr(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),Go(s=>{let a=l=>{let c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(Se(f=>{l.component=f}),oe(()=>{})));for(let f of l.children)c.push(...a(f));return c};return $i(a(s.targetSnapshot.root)).pipe(bo(null),an(1))}),Go(()=>this.afterPreactivation()),Ke(()=>{let{currentSnapshot:s,targetSnapshot:a}=n,l=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return l?be(l).pipe(oe(()=>n)):U(n)}),oe(s=>{let a=lp(e.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=n=de(P({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,n}),Se(()=>{this.events.next(new li)}),pp(this.rootContexts,e.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),an(1),Se({next:s=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Be(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{r=!0}}),Ea(this.transitionAbortSubject.pipe(Se(s=>{throw s}))),Bi(()=>{!r&&!o&&this.cancelNavigationTransition(n,"",Re.SupersededByNewNavigation),this.currentTransition?.id===n.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ft(s=>{if(this.destroyed)return n.resolve(!1),gt;if(o=!0,ec(s))this.events.next(new lt(n.id,this.urlSerializer.serialize(n.extractedUrl),s.message,s.cancellationCode)),dp(s)?this.events.next(new Mn(s.url,s.navigationBehaviorOptions)):n.resolve(!1);else{let a=new Sn(n.id,this.urlSerializer.serialize(n.extractedUrl),s,n.targetSnapshot??void 0);try{let l=rt(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(l instanceof En){let{message:c,cancellationCode:f}=Sr(this.urlSerializer,l);this.events.next(new lt(n.id,this.urlSerializer.serialize(n.extractedUrl),c,f)),this.events.next(new Mn(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(l){this.options.resolveNavigationPromiseOnError?n.resolve(!1):n.reject(l)}}return gt}))}))}cancelNavigationTransition(e,n,r){let o=new lt(e.id,this.urlSerializer.serialize(e.extractedUrl),n,r);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),n=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==n?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(n){return new(n||i)};static \u0275prov=Y({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function th(i){return i!==sr}var uc=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275prov=Y({token:i,factory:()=>L(nh),providedIn:"root"})}return i})(),Mr=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},nh=(()=>{class i extends Mr{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Qe(i)))(r||i)}})();static \u0275prov=Y({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),dc=(()=>{class i{urlSerializer=L(Qt);options=L(Jt,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=L(hn);urlHandlingStrategy=L(Ar);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new ct;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:e,initialUrl:n,targetBrowserUrl:r}){let o=e!==void 0?this.urlHandlingStrategy.merge(e,n):n,s=r??o;return s instanceof ct?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:e,finalUrl:n,initialUrl:r}){n&&e?(this.currentUrlTree=n,this.rawUrlTree=this.urlHandlingStrategy.merge(n,r),this.routerState=e):this.rawUrlTree=r}routerState=Kl(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:e}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e??this.rawUrlTree)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=Y({token:i,factory:()=>L(ih),providedIn:"root"})}return i})(),ih=(()=>{class i extends dc{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(n=>{n.type==="popstate"&&setTimeout(()=>{e(n.url,n.state,"popstate")})})}handleRouterEvent(e,n){e instanceof ut?this.updateStateMemento():e instanceof dt?this.commitTransition(n):e instanceof ai?this.urlUpdateStrategy==="eager"&&(n.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(n),n)):e instanceof li?(this.commitTransition(n),this.urlUpdateStrategy==="deferred"&&!n.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(n),n)):e instanceof lt&&(e.code===Re.GuardRejected||e.code===Re.NoDataFromResolver)?this.restoreHistory(n):e instanceof Sn?this.restoreHistory(n,!0):e instanceof Be&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,{extras:n,id:r}){let{replaceUrl:o,state:s}=n;if(this.location.isCurrentPathEqualTo(e)||o){let a=this.browserPageId,l=P(P({},s),this.generateNgRouterState(r,a));this.location.replaceState(e,"",l)}else{let a=P(P({},s),this.generateNgRouterState(r,this.browserPageId+1));this.location.go(e,"",a)}}restoreHistory(e,n=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===e.finalUrl&&o===0&&(this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(n&&this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,n){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:n}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Qe(i)))(r||i)}})();static \u0275prov=Y({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function Tr(i,t){i.events.pipe(nt(e=>e instanceof Be||e instanceof lt||e instanceof Sn||e instanceof dt),oe(e=>e instanceof Be||e instanceof dt?0:(e instanceof lt?e.code===Re.Redirect||e.code===Re.SupersededByNewNavigation:!1)?2:1),nt(e=>e!==2),an(1)).subscribe(()=>{t()})}var rh={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},oh={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ke=(()=>{class i{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=L(To);stateManager=L(dc);options=L(Jt,{optional:!0})||{};pendingTasks=L(Oa);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=L(Pr);urlSerializer=L(Qt);location=L(hn);urlHandlingStrategy=L(Ar);_events=new Ge;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=L(uc);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=L(Zt,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!L(vi,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new ga;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(n=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(n,o),n instanceof lt&&n.code!==Re.Redirect&&n.code!==Re.SupersededByNewNavigation)this.navigated=!0;else if(n instanceof Be)this.navigated=!0;else if(n instanceof Mn){let s=n.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(n.url,r.currentRawUrl),l=P({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||th(r.source)},s);this.scheduleNavigation(a,sr,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}ah(n)&&this._events.next(n)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),sr,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,n,r)=>{this.navigateToSyncWithBrowser(e,r,n)})}navigateToSyncWithBrowser(e,n,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let l=P({},r);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(e);this.scheduleNavigation(a,n,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(ds),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,n={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=n,c=l?this.currentUrlTree.fragment:s,f=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":f=P(P({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}f!==null&&(f=this.removeEmptyProps(f));let v;try{let S=r?r.snapshot:this.routerState.snapshot.root;v=ql(S)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),v=this.currentUrlTree.root}return Hl(v,e,f,c??null)}navigateByUrl(e,n={skipLocationChange:!1}){let r=Ot(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,sr,null,n)}navigate(e,n={skipLocationChange:!1}){return sh(e),this.navigateByUrl(this.createUrlTree(e,n),n)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,n){let r;if(n===!0?r=P({},rh):n===!1?r=P({},oh):r=n,Ot(e))return El(this.currentUrlTree,e,r);let o=this.parseUrl(e);return El(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.entries(e).reduce((n,[r,o])=>(o!=null&&(n[r]=o),n),{})}scheduleNavigation(e,n,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((v,S)=>{a=v,l=S});let f=this.pendingTasks.add();return Tr(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:n,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(v=>Promise.reject(v))}static \u0275fac=function(n){return new(n||i)};static \u0275prov=Y({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function sh(i){for(let t=0;t<i.length;t++)if(i[t]==null)throw new R(4008,!1)}function ah(i){return!(i instanceof li)&&!(i instanceof Mn)}var Or=(()=>{class i{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Ge;constructor(e,n,r,o,s,a){this.router=e,this.route=n,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=e.events.subscribe(c=>{c instanceof Be&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Ot(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,n,r,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(e!==0||n||r||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let n=this.href===null?null:Ha(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(e,n){let r=this.renderer,o=this.el.nativeElement;n!==null?r.setAttribute(o,e,n):r.removeAttribute(o,e)}get urlTree(){return this.routerLinkInput===null?null:Ot(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(n){return new(n||i)(F(ke),F(pt),Pa("tabindex"),F($t),F(Ut),F(Kn))};static \u0275dir=me({type:i,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,r){n&1&&A("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),n&2&&Mt("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",qt],skipLocationChange:[2,"skipLocationChange","skipLocationChange",qt],replaceUrl:[2,"replaceUrl","replaceUrl",qt],routerLink:"routerLink"},features:[Lt]})}return i})();var yi=class{};var pc=(()=>{class i{router;injector;preloadingStrategy;loader;subscription;constructor(e,n,r,o){this.router=e,this.injector=n,this.preloadingStrategy=r,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(nt(e=>e instanceof Be),jt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,n){let r=[];for(let o of n){o.providers&&!o._injector&&(o._injector=Wi(o.providers,e,`Route: ${o.path}`));let s=o._injector??e,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return be(r).pipe(yo())}preloadConfig(e,n){return this.preloadingStrategy.preload(n,()=>{let r;n.loadChildren&&n.canLoad===void 0?r=this.loader.loadChildren(e,n):r=U(null);let o=r.pipe(Oe(s=>s===null?U(void 0):(n._loadedRoutes=s.routes,n._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));if(n.loadComponent&&!n._loadedComponent){let s=this.loader.loadComponent(n);return be([o,s]).pipe(yo())}else return o})}static \u0275fac=function(n){return new(n||i)(Q(ke),Q(ln),Q(yi),Q(xr))};static \u0275prov=Y({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),hc=new ae(""),lh=(()=>{class i{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(e,n,r,o,s={}){this.urlSerializer=e,this.transitions=n,this.viewportScroller=r,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof ut?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Be?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof dt&&e.code===bn.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof wn&&(e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,n){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new wn(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,n))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(n){Wa()};static \u0275prov=Y({token:i,factory:i.\u0275fac})}return i})();function vs(i,...t){return Mo([{provide:Zt,multi:!0,useValue:i},[],{provide:pt,useFactory:fc,deps:[ke]},{provide:Do,multi:!0,useFactory:mc},t.map(e=>e.\u0275providers)])}function fc(i){return i.routerState.root}function Ci(i,t){return{\u0275kind:i,\u0275providers:t}}function mc(){let i=L(cn);return t=>{let e=i.get(Io);if(t!==e.components[0])return;let n=i.get(ke),r=i.get(gc);i.get(_s)===1&&n.initialNavigation(),i.get(yc,null,wo.Optional)?.setUpPreloading(),i.get(hc,null,wo.Optional)?.init(),n.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var gc=new ae("",{factory:()=>new Ge}),_s=new ae("",{providedIn:"root",factory:()=>1});function vc(){let i=[{provide:_s,useValue:0},Oo(()=>{let t=L(cn);return t.get(sl,Promise.resolve()).then(()=>new Promise(n=>{let r=t.get(ke),o=t.get(gc);Tr(r,()=>{n(!0)}),t.get(Pr).afterPreactivation=()=>(n(!0),o.closed?U(void 0):o),r.initialNavigation()}))})];return Ci(2,i)}function _c(){let i=[Oo(()=>{L(ke).setUpLocationChangeListener()}),{provide:_s,useValue:2}];return Ci(3,i)}var yc=new ae("");function Cc(i){return Ci(0,[{provide:yc,useExisting:pc},{provide:yi,useExisting:i}])}function bc(){return Ci(8,[cs,{provide:vi,useExisting:cs}])}function Sc(i){qi("NgRouterViewTransitions");let t=[{provide:hs,useValue:cc},{provide:fs,useValue:P({skipNextTransition:!!i?.skipInitialTransition},i)}];return Ci(9,t)}var wc=[hn,{provide:Qt,useClass:Tt},ke,Yt,{provide:pt,useFactory:fc,deps:[ke]},xr,[]],ys=(()=>{class i{constructor(){}static forRoot(e,n){return{ngModule:i,providers:[wc,[],{provide:Zt,multi:!0,useValue:e},[],n?.errorHandler?{provide:ms,useValue:n.errorHandler}:[],{provide:Jt,useValue:n||{}},n?.useHash?uh():dh(),ch(),n?.preloadingStrategy?Cc(n.preloadingStrategy).\u0275providers:[],n?.initialNavigation?ph(n):[],n?.bindToComponentInputs?bc().\u0275providers:[],n?.enableViewTransitions?Sc().\u0275providers:[],hh()]}}static forChild(e){return{ngModule:i,providers:[{provide:Zt,multi:!0,useValue:e}]}}static \u0275fac=function(n){return new(n||i)};static \u0275mod=wt({type:i});static \u0275inj=St({})}return i})();function ch(){return{provide:hc,useFactory:()=>{let i=L(hl),t=L(Fe),e=L(Jt),n=L(Pr),r=L(Qt);return e.scrollOffset&&i.setOffset(e.scrollOffset),new lh(r,n,i,t,e)}}}function uh(){return{provide:Kn,useClass:ll}}function dh(){return{provide:Kn,useClass:al}}function ph(i){return[i.initialNavigation==="disabled"?_c().\u0275providers:[],i.initialNavigation==="enabledBlocking"?vc().\u0275providers:[]]}var gs=new ae("");function hh(){return[{provide:gs,useFactory:mc},{provide:Do,multi:!0,useExisting:gs}]}var kc=(()=>{class i{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,n){this._renderer=e,this._elementRef=n}setProperty(e,n){this._renderer.setProperty(this._elementRef.nativeElement,e,n)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(n){return new(n||i)(F($t),F(Ut))};static \u0275dir=me({type:i})}return i})(),jr=(()=>{class i extends kc{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Qe(i)))(r||i)}})();static \u0275dir=me({type:i,features:[je]})}return i})(),Ai=new ae("");var fh={provide:Ai,useExisting:it(()=>Rt),multi:!0};function mh(){let i=xt()?xt().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}var gh=new ae(""),Rt=(()=>{class i extends kc{_compositionMode;_composing=!1;constructor(e,n,r){super(e,n),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!mh())}writeValue(e){let n=e??"";this.setProperty("value",n)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(n){return new(n||i)(F($t),F(Ut),F(gh,8))};static \u0275dir=me({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){n&1&&A("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},standalone:!1,features:[ot([fh]),je]})}return i})();function vh(i){return i==null||Nc(i)===0}function Nc(i){return i==null?null:Array.isArray(i)||typeof i=="string"?i.length:i instanceof Set?i.size:null}var Pi=new ae(""),Vc=new ae("");function _h(i){return t=>{if(t.value==null||i==null)return null;let e=parseFloat(t.value);return!isNaN(e)&&e<i?{min:{min:i,actual:t.value}}:null}}function yh(i){return vh(i.value)?{required:!0}:null}function Ch(i){return t=>{let e=t.value?.length??Nc(t.value);return e!==null&&e>i?{maxlength:{requiredLength:i,actualLength:e}}:null}}function Ec(i){return null}function Fc(i){return i!=null}function jc(i){return Gi(i)?be(i):i}function Lc(i){let t={};return i.forEach(e=>{t=e!=null?P(P({},t),e):t}),Object.keys(t).length===0?null:t}function Uc(i,t){return t.map(e=>e(i))}function bh(i){return!i.validate}function zc(i){return i.map(t=>bh(t)?t:e=>t.validate(e))}function Sh(i){if(!i)return null;let t=i.filter(Fc);return t.length==0?null:function(e){return Lc(Uc(e,t))}}function ws(i){return i!=null?Sh(zc(i)):null}function wh(i){if(!i)return null;let t=i.filter(Fc);return t.length==0?null:function(e){let n=Uc(e,t).map(jc);return ba(n).pipe(oe(Lc))}}function Ms(i){return i!=null?wh(zc(i)):null}function xc(i,t){return i===null?[t]:Array.isArray(i)?[...i,t]:[i,t]}function Mh(i){return i._rawValidators}function Eh(i){return i._rawAsyncValidators}function Cs(i){return i?Array.isArray(i)?i:[i]:[]}function Ir(i,t){return Array.isArray(i)?i.includes(t):i===t}function Ac(i,t){let e=Cs(t);return Cs(i).forEach(r=>{Ir(e,r)||e.push(r)}),e}function Pc(i,t){return Cs(t).filter(e=>!Ir(i,e))}var Rr=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=ws(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Ms(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},Dn=class extends Rr{name;get formDirective(){return null}get path(){return null}},xi=class extends Rr{_parent=null;name=null;valueAccessor=null},kr=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},xh={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},ov=de(P({},xh),{"[class.ng-submitted]":"isSubmitted"}),In=(()=>{class i extends kr{constructor(e){super(e)}static \u0275fac=function(n){return new(n||i)(F(xi,2))};static \u0275dir=me({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){n&2&&Le("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[je]})}return i})(),Lr=(()=>{class i extends kr{constructor(e){super(e)}static \u0275fac=function(n){return new(n||i)(F(Dn,10))};static \u0275dir=me({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){n&2&&Le("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},standalone:!1,features:[je]})}return i})();var bi="VALID",Dr="INVALID",Tn="PENDING",Si="DISABLED",It=class{},Nr=class extends It{value;source;constructor(t,e){super(),this.value=t,this.source=e}},Mi=class extends It{pristine;source;constructor(t,e){super(),this.pristine=t,this.source=e}},Ei=class extends It{touched;source;constructor(t,e){super(),this.touched=t,this.source=e}},On=class extends It{status;source;constructor(t,e){super(),this.status=t,this.source=e}},bs=class extends It{source;constructor(t){super(),this.source=t}},Ss=class extends It{source;constructor(t){super(),this.source=t}};function $c(i){return(Ur(i)?i.validators:i)||null}function Ah(i){return Array.isArray(i)?ws(i):i||null}function Bc(i,t){return(Ur(t)?t.asyncValidators:i)||null}function Ph(i){return Array.isArray(i)?Ms(i):i||null}function Ur(i){return i!=null&&!Array.isArray(i)&&typeof i=="object"}function Th(i,t,e){let n=i.controls;if(!(t?Object.keys(n):n).length)throw new R(1e3,"");if(!n[e])throw new R(1001,"")}function Oh(i,t,e){i._forEachChild((n,r)=>{if(e[r]===void 0)throw new R(1002,"")})}var Vr=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,e){this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Et(this.statusReactive)}set status(t){Et(()=>this.statusReactive.set(t))}_status=Gn(()=>this.statusReactive());statusReactive=Bn(void 0);get valid(){return this.status===bi}get invalid(){return this.status===Dr}get pending(){return this.status==Tn}get disabled(){return this.status===Si}get enabled(){return this.status!==Si}errors;get pristine(){return Et(this.pristineReactive)}set pristine(t){Et(()=>this.pristineReactive.set(t))}_pristine=Gn(()=>this.pristineReactive());pristineReactive=Bn(!0);get dirty(){return!this.pristine}get touched(){return Et(this.touchedReactive)}set touched(t){Et(()=>this.touchedReactive.set(t))}_touched=Gn(()=>this.touchedReactive());touchedReactive=Bn(!1);get untouched(){return!this.touched}_events=new Ge;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Ac(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Ac(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Pc(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Pc(t,this._rawAsyncValidators))}hasValidator(t){return Ir(this._rawValidators,t)}hasAsyncValidator(t){return Ir(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let n=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(de(P({},t),{sourceControl:n})),e&&t.emitEvent!==!1&&this._events.next(new Ei(!0,n))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let n=t.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:n})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n),e&&t.emitEvent!==!1&&this._events.next(new Ei(!1,n))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let n=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(de(P({},t),{sourceControl:n})),e&&t.emitEvent!==!1&&this._events.next(new Mi(!1,n))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let n=t.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),e&&t.emitEvent!==!1&&this._events.next(new Mi(!0,n))}markAsPending(t={}){this.status=Tn;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new On(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(de(P({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=Si,this.errors=null,this._forEachChild(r=>{r.disable(de(P({},t),{onlySelf:!0}))}),this._updateValue();let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Nr(this.value,n)),this._events.next(new On(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(de(P({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=bi,this._forEachChild(n=>{n.enable(de(P({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(de(P({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let n=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===bi||this.status===Tn)&&this._runAsyncValidator(n,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Nr(this.value,e)),this._events.next(new On(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(de(P({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Si:bi}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=Tn,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let n=jc(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((n,r)=>n&&n._find(r),this)}getError(t,e){let n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,n){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||n)&&this._events.next(new On(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,n)}_initObservables(){this.valueChanges=new Ye,this.statusChanges=new Ye}_calculateStatus(){return this._allControlsDisabled()?Si:this.errors?Dr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Tn)?Tn:this._anyControlsHaveStatus(Dr)?Dr:bi}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let n=!this._anyControlsDirty(),r=this.pristine!==n;this.pristine=n,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),r&&this._events.next(new Mi(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new Ei(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Ur(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=Ah(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=Ph(this._rawAsyncValidators)}},Fr=class extends Vr{constructor(t,e,n){super($c(e),Bc(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,n={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){Oh(this,!0,t),Object.keys(t).forEach(n=>{Th(this,!0,n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(n=>{let r=this.controls[n];r&&r.patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t?t[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,n)=>n._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,n]of Object.entries(this.controls))if(this.contains(e)&&t(n))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,n,r)=>((n.enabled||this.disabled)&&(e[r]=n.value),e))}_reduceChildren(t,e){let n=t;return this._forEachChild((r,o)=>{n=e(n,r,o)}),n}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var Es=new ae("",{providedIn:"root",factory:()=>xs}),xs="always";function Dh(i,t){return[...t.path,i]}function qc(i,t,e=xs){Hc(i,t),t.valueAccessor.writeValue(i.value),(i.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(i.disabled),Rh(i,t),Nh(i,t),kh(i,t),Ih(i,t)}function Tc(i,t){i.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Ih(i,t){if(t.valueAccessor.setDisabledState){let e=n=>{t.valueAccessor.setDisabledState(n)};i.registerOnDisabledChange(e),t._registerOnDestroy(()=>{i._unregisterOnDisabledChange(e)})}}function Hc(i,t){let e=Mh(i);t.validator!==null?i.setValidators(xc(e,t.validator)):typeof e=="function"&&i.setValidators([e]);let n=Eh(i);t.asyncValidator!==null?i.setAsyncValidators(xc(n,t.asyncValidator)):typeof n=="function"&&i.setAsyncValidators([n]);let r=()=>i.updateValueAndValidity();Tc(t._rawValidators,r),Tc(t._rawAsyncValidators,r)}function Rh(i,t){t.valueAccessor.registerOnChange(e=>{i._pendingValue=e,i._pendingChange=!0,i._pendingDirty=!0,i.updateOn==="change"&&Wc(i,t)})}function kh(i,t){t.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,i.updateOn==="blur"&&i._pendingChange&&Wc(i,t),i.updateOn!=="submit"&&i.markAsTouched()})}function Wc(i,t){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function Nh(i,t){let e=(n,r)=>{t.valueAccessor.writeValue(n),r&&t.viewToModelUpdate(n)};i.registerOnChange(e),t._registerOnDestroy(()=>{i._unregisterOnChange(e)})}function Vh(i,t){i==null,Hc(i,t)}function Fh(i,t){if(!i.hasOwnProperty("model"))return!1;let e=i.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function jh(i){return Object.getPrototypeOf(i.constructor)===jr}function Lh(i,t){i._syncPendingControls(),t.forEach(e=>{let n=e.control;n.updateOn==="submit"&&n._pendingChange&&(e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function Uh(i,t){if(!t)return null;Array.isArray(t);let e,n,r;return t.forEach(o=>{o.constructor===Rt?e=o:jh(o)?n=o:r=o}),r||n||e||null}var zh={provide:Dn,useExisting:it(()=>Ti)},wi=Promise.resolve(),Ti=(()=>{class i extends Dn{callSetDisabledState;get submitted(){return Et(this.submittedReactive)}_submitted=Gn(()=>this.submittedReactive());submittedReactive=Bn(!1);_directives=new Set;form;ngSubmit=new Ye;options;constructor(e,n,r){super(),this.callSetDisabledState=r,this.form=new Fr({},ws(e),Ms(n))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){wi.then(()=>{let n=this._findContainer(e.path);e.control=n.registerControl(e.name,e.control),qc(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){wi.then(()=>{let n=this._findContainer(e.path);n&&n.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){wi.then(()=>{let n=this._findContainer(e.path),r=new Fr({});Vh(r,e),n.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){wi.then(()=>{let n=this._findContainer(e.path);n&&n.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,n){wi.then(()=>{this.form.get(e.path).setValue(n)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),Lh(this.form,this._directives),this.ngSubmit.emit(e),this.form._events.next(new bs(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1),this.form._events.next(new Ss(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static \u0275fac=function(n){return new(n||i)(F(Pi,10),F(Vc,10),F(Es,8))};static \u0275dir=me({type:i,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,r){n&1&&A("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[ot([zh]),je]})}return i})();function Oc(i,t){let e=i.indexOf(t);e>-1&&i.splice(e,1)}function Dc(i){return typeof i=="object"&&i!==null&&Object.keys(i).length===2&&"value"in i&&"disabled"in i}var $h=class extends Vr{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,e,n){super($c(e),Bc(n,e)),this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ur(e)&&(e.nonNullable||e.initialValueIsDefault)&&(Dc(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Oc(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Oc(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){Dc(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var Bh={provide:xi,useExisting:it(()=>Xt)},Ic=Promise.resolve(),Xt=(()=>{class i extends xi{_changeDetectorRef;callSetDisabledState;control=new $h;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Ye;constructor(e,n,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=e,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=Uh(this,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let n=e.name.previousValue;this.formDirective.removeControl({name:n,path:this._getPath(n)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),Fh(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){qc(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){Ic.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let n=e.isDisabled.currentValue,r=n!==0&&qt(n);Ic.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?Dh(e,this._parent):[e]}static \u0275fac=function(n){return new(n||i)(F(Dn,9),F(Pi,10),F(Vc,10),F(Ai,10),F(Bt,8),F(Es,8))};static \u0275dir=me({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[ot([Bh]),je,Lt]})}return i})();var zr=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275dir=me({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return i})(),qh={provide:Ai,useExisting:it(()=>As),multi:!0},As=(()=>{class i extends jr{writeValue(e){let n=e??"";this.setProperty("value",n)}registerOnChange(e){this.onChange=n=>{e(n==""?null:parseFloat(n))}}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Qe(i)))(r||i)}})();static \u0275dir=me({type:i,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(n,r){n&1&&A("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},standalone:!1,features:[ot([qh]),je]})}return i})();var Hh={provide:Ai,useExisting:it(()=>Rn),multi:!0};function Gc(i,t){return i==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${i}: ${t}`.slice(0,50))}function Wh(i){return i.split(":")[0]}var Rn=(()=>{class i extends jr{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let n=this._getOptionId(e),r=Gc(n,e);this.setProperty("value",r)}registerOnChange(e){this.onChange=n=>{this.value=this._getOptionValue(n),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let n of this._optionMap.keys())if(this._compareWith(this._optionMap.get(n),e))return n;return null}_getOptionValue(e){let n=Wh(e);return this._optionMap.has(n)?this._optionMap.get(n):e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Qe(i)))(r||i)}})();static \u0275dir=me({type:i,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(n,r){n&1&&A("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[ot([Hh]),je]})}return i})(),$r=(()=>{class i{_element;_renderer;_select;id;constructor(e,n,r){this._element=e,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(Gc(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(n){return new(n||i)(F(Ut),F($t),F(Rn,9))};static \u0275dir=me({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return i})(),Gh={provide:Ai,useExisting:it(()=>Kc),multi:!0};function Rc(i,t){return i==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${i}: ${t}`.slice(0,50))}function Kh(i){return i.split(":")[0]}var Kc=(()=>{class i extends jr{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let n;if(Array.isArray(e)){let r=e.map(o=>this._getOptionId(o));n=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else n=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(n)}registerOnChange(e){this.onChange=n=>{let r=[],o=n.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],c=this._getOptionValue(l.value);r.push(c)}}else{let s=n.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let c=this._getOptionValue(l.value);r.push(c)}}}this.value=r,e(r)}}_registerOption(e){let n=(this._idCounter++).toString();return this._optionMap.set(n,e),n}_getOptionId(e){for(let n of this._optionMap.keys())if(this._compareWith(this._optionMap.get(n)._value,e))return n;return null}_getOptionValue(e){let n=Kh(e);return this._optionMap.has(n)?this._optionMap.get(n)._value:e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Qe(i)))(r||i)}})();static \u0275dir=me({type:i,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(n,r){n&1&&A("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[ot([Gh]),je]})}return i})(),Br=(()=>{class i{_element;_renderer;_select;id;_value;constructor(e,n,r){this._element=e,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(Rc(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(Rc(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(n){return new(n||i)(F(Ut),F($t),F(Kc,9))};static \u0275dir=me({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return i})();function Qh(i){return typeof i=="number"?i:parseInt(i,10)}function Yh(i){return typeof i=="number"?i:parseFloat(i)}var Ps=(()=>{class i{_validator=Ec;_onChange;_enabled;ngOnChanges(e){if(this.inputName in e){let n=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(n),this._validator=this._enabled?this.createValidator(n):Ec,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static \u0275fac=function(n){return new(n||i)};static \u0275dir=me({type:i,features:[Lt]})}return i})();var Jh={provide:Pi,useExisting:it(()=>Ts),multi:!0},Ts=(()=>{class i extends Ps{min;inputName="min";normalizeInput=e=>Yh(e);createValidator=e=>_h(e);static \u0275fac=(()=>{let e;return function(r){return(e||(e=Qe(i)))(r||i)}})();static \u0275dir=me({type:i,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(n,r){n&2&&Mt("min",r._enabled?r.min:null)},inputs:{min:"min"},standalone:!1,features:[ot([Jh]),je]})}return i})(),Zh={provide:Pi,useExisting:it(()=>Oi),multi:!0};var Oi=(()=>{class i extends Ps{required;inputName="required";normalizeInput=qt;createValidator=e=>yh;enabled(e){return e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Qe(i)))(r||i)}})();static \u0275dir=me({type:i,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(n,r){n&2&&Mt("required",r._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[ot([Zh]),je]})}return i})();var Xh={provide:Pi,useExisting:it(()=>Os),multi:!0},Os=(()=>{class i extends Ps{maxlength;inputName="maxlength";normalizeInput=e=>Qh(e);createValidator=e=>Ch(e);static \u0275fac=(()=>{let e;return function(r){return(e||(e=Qe(i)))(r||i)}})();static \u0275dir=me({type:i,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(n,r){n&2&&Mt("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},standalone:!1,features:[ot([Xh]),je]})}return i})();var ef=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=wt({type:i});static \u0275inj=St({})}return i})();var kn=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:Es,useValue:e.callSetDisabledState??xs}]}}static \u0275fac=function(n){return new(n||i)};static \u0275mod=wt({type:i});static \u0275inj=St({imports:[ef]})}return i})();var kt=class i{constructor(t,e){this.http=t;if(this.isBrowser=Ie(e),this.isBrowser){let n=sessionStorage.getItem("usuario");n&&this.usuario$.next(JSON.parse(n))}}isBrowser;usuario$=new Te(null);API_URL=this.isLocalhost()?"http://localhost:3000/api":"https://comunidadvapps.com/api.php";isLocalhost(){return typeof window<"u"&&window.location.hostname==="localhost"}registrarUsuario(t){let e=this.isLocalhost()?`${this.API_URL}/registrar`:`${this.API_URL}?consulta=registrar`;return this.http.post(e,t)}loginUsuario(t){let e=this.isLocalhost()?`${this.API_URL}/login`:`${this.API_URL}?consulta=login`;return this.http.post(e,t)}guardarToken(t){this.isBrowser&&sessionStorage.setItem("token",t)}getToken(){return this.isBrowser?sessionStorage.getItem("token"):null}actualizarUsuario(t){this.isBrowser&&(sessionStorage.setItem("usuario",JSON.stringify(t)),this.usuario$.next(t))}limpiarUsuario(){this.isBrowser&&(sessionStorage.removeItem("usuario"),sessionStorage.removeItem("token"),this.usuario$.next(null))}static \u0275fac=function(e){return new(e||i)(Q(mn),Q(Ce))};static \u0275prov=Y({token:i,factory:i.\u0275fac,providedIn:"root"})};function tf(i,t){i&1&&(u(0,"li")(1,"a",24),h(2,"MAPA"),d()())}function nf(i,t){i&1&&(u(0,"li")(1,"a",25),h(2,"JUEGO"),d()())}function rf(i,t){if(i&1){let e=X();Ki(0),u(1,"button",26),A("click",function(){w(e);let r=y();return M(r.abrirModal())}),pe(2,"img",27),h(3," Iniciar sesi\xF3n "),d(),Qi()}}function of(i,t){if(i&1){let e=X();u(0,"div",34)(1,"button",35),A("click",function(){w(e);let r=y(2);return M(r.irAPerfil())}),h(2,"Mi perfil"),d(),u(3,"button",35),A("click",function(){w(e);let r=y(2);return M(r.cambiarContrasena())}),h(4,"Cambiar contrase\xF1a"),d(),u(5,"button",36),A("click",function(){w(e);let r=y(2);return M(r.cerrarSesion())}),h(6,"Cerrar sesi\xF3n"),d()()}}function sf(i,t){if(i&1){let e=X();u(0,"div",28),pe(1,"img",29),u(2,"div",30),A("click",function(){w(e);let r=y();return M(r.toggleMenu())}),u(3,"p",31),h(4,"\xA1Bienvenido,"),d(),u(5,"p",32),h(6),d()(),W(7,of,7,0,"div",33),d()}if(i&2){let e=y();g(6),H(e.usuarioLogueado.nombre),g(),E("ngIf",e.menuVisible)}}function af(i,t){if(i&1){let e=X();u(0,"li")(1,"a",37),A("click",function(){w(e);let r=y();return M(r.toggleSidebar())}),h(2,"MAPA"),d()()}}function lf(i,t){if(i&1){let e=X();u(0,"li")(1,"a",38),A("click",function(){w(e);let r=y();return M(r.toggleSidebar())}),h(2,"JUEGO"),d()()}}function cf(i,t){if(i&1){let e=X();u(0,"div",39),A("click",function(){w(e);let r=y();return M(r.abrirModal())}),pe(1,"img",40),u(2,"div",41)(3,"span",32),h(4,"Iniciar sesi\xF3n"),d()()()}}function uf(i,t){if(i&1){let e=X();u(0,"div",44)(1,"button",35),A("click",function(){w(e);let r=y(2);return M(r.irAPerfil())}),h(2,"Mi perfil"),d(),u(3,"button",35),A("click",function(){w(e);let r=y(2);return M(r.cambiarContrasena())}),h(4,"Cambiar contrase\xF1a"),d(),u(5,"button",36),A("click",function(){w(e);let r=y(2);return M(r.cerrarSesion())}),h(6,"Cerrar sesi\xF3n"),d()()}}function df(i,t){if(i&1){let e=X();u(0,"div")(1,"div",39),A("click",function(){w(e);let r=y();return M(r.toggleSidebarMenu())}),pe(2,"img",42),u(3,"div",41)(4,"span",32),h(5),d()()(),W(6,uf,7,0,"div",43),d()}if(i&2){let e=y();g(5),H(e.usuarioLogueado.nombre||e.usuarioLogueado.correo),g(),E("ngIf",e.menuVisibleSidebar)}}function pf(i,t){i&1&&pe(0,"div",45)}function hf(i,t){i&1&&(u(0,"h2"),h(1,"Iniciar Sesi\xF3n"),d())}function ff(i,t){i&1&&(u(0,"h2"),h(1,"Crear Cuenta"),d())}function mf(i,t){if(i&1){let e=X();u(0,"form",55),A("ngSubmit",function(){w(e);let r=y(2);return M(r.login())}),u(1,"label",56),h(2,"Correo electr\xF3nico"),d(),u(3,"input",57),ue("ngModelChange",function(r){w(e);let o=y(2);return ce(o.loginEmail,r)||(o.loginEmail=r),M(r)}),d(),u(4,"label",58),h(5,"Contrase\xF1a"),d(),u(6,"input",59),ue("ngModelChange",function(r){w(e);let o=y(2);return ce(o.loginPassword,r)||(o.loginPassword=r),M(r)}),d(),u(7,"button",60),h(8,"Ingresar"),d()()}if(i&2){let e=y(2);g(3),le("ngModel",e.loginEmail),g(3),le("ngModel",e.loginPassword)}}function gf(i,t){if(i&1&&(u(0,"div",81),h(1),d()),i&2){let e=y(3);g(),we(" ",e.mensajeErrorDocumento," ")}}function vf(i,t){if(i&1&&(u(0,"small",82),h(1),d()),i&2){let e=y(3);g(),H(e.errorEdad)}}function _f(i,t){if(i&1){let e=X();u(0,"form",55),A("ngSubmit",function(){w(e);let r=y(2);return M(r.registrar())}),u(1,"label",61),h(2,"Nombres"),d(),u(3,"input",62),ue("ngModelChange",function(r){w(e);let o=y(2);return ce(o.registroNombre,r)||(o.registroNombre=r),M(r)}),d(),u(4,"label",63),h(5,"Apellidos"),d(),u(6,"input",64),ue("ngModelChange",function(r){w(e);let o=y(2);return ce(o.registroApellidos,r)||(o.registroApellidos=r),M(r)}),d(),u(7,"label",65),h(8,"Tipo de documento"),d(),u(9,"div",66)(10,"select",67),ue("ngModelChange",function(r){w(e);let o=y(2);return ce(o.registroTipoDoc,r)||(o.registroTipoDoc=r),M(r)}),A("change",function(){w(e);let r=y(2);return M(r.limpiarDocumento())}),u(11,"option",68),h(12,"DNI"),d(),u(13,"option",69),h(14,"Carn\xE9 de Extranjer\xEDa"),d()(),u(15,"input",70),ue("ngModelChange",function(r){w(e);let o=y(2);return ce(o.registroDocumento,r)||(o.registroDocumento=r),M(r)}),A("keypress",function(r){w(e);let o=y(2);return M(o.soloNumeros(r))})("input",function(){w(e);let r=y(2);return M(r.validarDocumento())}),d()(),W(16,gf,2,1,"div",71),u(17,"label",72),h(18,"Fecha de nacimiento"),d(),u(19,"input",73),ue("ngModelChange",function(r){w(e);let o=y(2);return ce(o.registroFechaNacimiento,r)||(o.registroFechaNacimiento=r),M(r)}),A("change",function(){w(e);let r=y(2);return M(r.validarEdad())}),d(),W(20,vf,2,1,"small",74),u(21,"label",75),h(22,"Correo electr\xF3nico"),d(),u(23,"input",76),ue("ngModelChange",function(r){w(e);let o=y(2);return ce(o.registroCorreo,r)||(o.registroCorreo=r),M(r)}),d(),u(24,"label",77),h(25,"Contrase\xF1a"),d(),u(26,"input",78),ue("ngModelChange",function(r){w(e);let o=y(2);return ce(o.registroClave,r)||(o.registroClave=r),M(r)}),d(),u(27,"input",79),ue("ngModelChange",function(r){w(e);let o=y(2);return ce(o.registroUbicacion,r)||(o.registroUbicacion=r),M(r)}),d(),u(28,"button",80),h(29,"Registrar"),d()()}if(i&2){let e=y(2);g(3),le("ngModel",e.registroNombre),g(3),le("ngModel",e.registroApellidos),g(4),le("ngModel",e.registroTipoDoc),g(5),le("ngModel",e.registroDocumento),g(),E("ngIf",e.documentoInvalido),g(3),le("ngModel",e.registroFechaNacimiento),g(),E("ngIf",e.errorEdad),g(3),le("ngModel",e.registroCorreo),g(3),le("ngModel",e.registroClave),g(),le("ngModel",e.registroUbicacion),g(),E("disabled",e.documentoInvalido)}}function yf(i,t){i&1&&(u(0,"button",83),pe(1,"img",84),h(2," Continuar con Google "),d())}function Cf(i,t){if(i&1){let e=X();Ki(0),h(1," \xBFNo tienes cuenta? "),u(2,"a",85),A("click",function(r){return w(e),y(2).cambiarAModoRegistro(),M(r.preventDefault())}),h(3,"Reg\xEDstrate"),d(),Qi()}}function bf(i,t){if(i&1){let e=X();Ki(0),h(1," \xBFYa tienes cuenta? "),u(2,"a",85),A("click",function(r){return w(e),y(2).cambiarAModoLogin(),M(r.preventDefault())}),h(3,"Inicia sesi\xF3n"),d(),Qi()}}function Sf(i,t){if(i&1&&(u(0,"span",86),h(1),d()),i&2){let e=y(2);g(),we(" ",e.mensajeError," ")}}function wf(i,t){if(i&1){let e=X();u(0,"div",46)(1,"button",47),A("click",function(){w(e);let r=y();return M(r.cerrarModal())}),h(2,"\u2716"),d(),u(3,"div",48)(4,"div",49),pe(5,"img",50),d(),W(6,hf,2,0,"h2",7)(7,ff,2,0,"h2",7)(8,mf,9,2,"form",51)(9,_f,30,11,"form",51)(10,yf,3,0,"button",52),u(11,"p",53),W(12,Cf,4,0,"ng-container",7)(13,bf,4,0,"ng-container",7),d(),W(14,Sf,2,1,"span",54),d()()}if(i&2){let e=y();g(6),E("ngIf",e.modo==="login"),g(),E("ngIf",e.modo==="registro"),g(),E("ngIf",e.modo==="login"),g(),E("ngIf",e.modo==="registro"),g(),E("ngIf",e.modo==="login"),g(2),E("ngIf",e.modo==="login"),g(),E("ngIf",e.modo==="registro"),g(),E("ngIf",e.mensajeError)}}function Mf(i,t){i&1&&(u(0,"div",87),h(1,` \u2705 Usuario registrado correctamente
`),d())}var Nn=class i{constructor(t,e,n){this.authService=t;this.platformId=e;this.router=n}title="EcoRecicla";isLoggedIn=!1;menuVisible=!1;sidebarOpen=!1;modalAbierto=!1;modo="login";mensajeError="";loginEmail="";loginPassword="";mostrarModalLogin=!1;registroNombre="";registroCorreo="";registroClave="";registroUbicacion="";registroExitoso=!1;usuarioLogueado=null;menuVisibleSidebar=!1;registroTipoDoc="DNI";registroDocumento="";registroApellidos="";registroFechaNacimiento="";mensajeErrorDocumento="";documentoInvalido=!1;errorEdad="";ngOnInit(){if(Ie(this.platformId)){let t=sessionStorage.getItem("usuario");t&&(this.usuarioLogueado=JSON.parse(t),this.isLoggedIn=!0),this.router.events.pipe(nt(e=>e instanceof ut)).subscribe(e=>{let n=e,r=["/mapa","/juego"];!sessionStorage.getItem("usuario")&&r.some(s=>n.url.includes(s))&&this.router.navigate(["/"],{replaceUrl:!0})})}}soloNumeros(t){let e=t.which?t.which:t.keyCode;(e<48||e>57)&&t.preventDefault()}validarDocumento(){this.registroTipoDoc==="DNI"?(this.documentoInvalido=this.registroDocumento.length!==8,this.mensajeErrorDocumento="El DNI debe tener exactamente 8 d\xEDgitos."):this.registroTipoDoc==="CE"&&(this.documentoInvalido=this.registroDocumento.length<9||this.registroDocumento.length>12,this.mensajeErrorDocumento="El CE debe tener entre 9 y 12 d\xEDgitos.")}validarEdad(){if(!this.registroFechaNacimiento){this.errorEdad="";return}let t=new Date(this.registroFechaNacimiento),e=new Date,n=e.getFullYear()-t.getFullYear(),r=e.getMonth()-t.getMonth(),o=e.getDate()-t.getDate();(r<0||r===0&&o<0)&&n--,n<16?this.errorEdad="Debes cumplir con las politicas de nuestro servicio web: Tener m\xE1s de 16 a\xF1os":this.errorEdad=""}limpiarDocumento(){this.registroDocumento="",this.validarDocumento()}toggleMenu(){this.menuVisible=!this.menuVisible}toggleSidebarMenu(){this.menuVisibleSidebar=!this.menuVisibleSidebar}toggleSidebar(){this.sidebarOpen=!this.sidebarOpen}abrirModal(){this.modalAbierto=!0,this.modo="login"}cerrarModal(){this.modalAbierto=!1,this.loginEmail="",this.loginPassword="",this.registroNombre="",this.registroCorreo="",this.registroClave="",this.registroUbicacion="",this.registroExitoso=!1,this.mensajeError=""}login(){let t={correo:this.loginEmail,contrasena:this.loginPassword};this.authService.loginUsuario(t).subscribe({next:e=>{this.usuarioLogueado=e.usuario,Ie(this.platformId)&&(sessionStorage.setItem("usuario_id",String(e.usuario.id)),sessionStorage.setItem("usuario_nombre",e.usuario.nombre),sessionStorage.setItem("token",e.token),sessionStorage.setItem("usuario",JSON.stringify(e.usuario))),this.authService.actualizarUsuario(e.usuario),this.isLoggedIn=!0,this.cerrarModal(),this.mensajeError=""},error:e=>{console.error("\u274C Error en login:",e),this.mensajeError=e?.error?.mensaje||"\u274C Error al iniciar sesi\xF3n",this.isLoggedIn=!1}})}cerrarSesion(){this.usuarioLogueado=null,this.authService.limpiarUsuario(),this.isLoggedIn=!1,this.loginEmail="",this.loginPassword="",this.menuVisible=!1,this.sidebarOpen=!1,this.menuVisibleSidebar=!1,this.router.navigate(["/"],{replaceUrl:!0})}cambiarContrasena(){console.log("Cambiar contrase\xF1a"),this.menuVisible=!1,this.toggleSidebarMenu()}irAPerfil(){this.router.navigate(["/perfil"])}registrar(){let t=new Date().toLocaleString("sv-SE").replace("T"," ");navigator.geolocation.getCurrentPosition(e=>{let n=e.coords.latitude,r=e.coords.longitude,s=`https://maps.googleapis.com/maps/api/geocode/json?latlng=${n},${r}&key=AIzaSyCLGmLQC1KninQE0_PrfE1EdeGb9M7targ`;fetch(s).then(a=>a.json()).then(a=>{this.registroUbicacion=a.status==="OK"&&a.results.length>0?a.results[0].formatted_address:`Lat: ${n}, Lng: ${r}`;let l={nombre:this.registroNombre,apellido:this.registroApellidos,tipo_documento:this.registroTipoDoc,documento:this.registroDocumento,fecha_nacimiento:this.registroFechaNacimiento,correo:this.registroCorreo,contrasena:this.registroClave,ubicacion_actual:this.registroUbicacion,fecha_registro:t};console.log("\u{1F4E4} Enviando:",l),this.authService.registrarUsuario(l).subscribe({next:()=>{this.registroExitoso=!0,this.mensajeError="",this.limpiarFormulario(),setTimeout(()=>{this.registroExitoso=!1,this.cerrarModal(),this.modo="login"},3e3)},error:c=>{console.error("\u274C Error al registrar:",c),this.mensajeError=c?.error?.mensaje||"\u274C Error al registrar"}})}).catch(a=>{console.error("Error al obtener direcci\xF3n:",a),this.mensajeError="\u274C No se pudo obtener la direcci\xF3n"})},()=>{this.mensajeError="\u26A0\uFE0F Necesitamos tu ubicaci\xF3n para continuar."})}cambiarAModoRegistro(){this.modo="registro",this.mensajeError=""}cambiarAModoLogin(){this.modo="login",this.mensajeError=""}limpiarFormulario(){this.registroNombre="",this.registroApellidos="",this.registroTipoDoc="DNI",this.registroDocumento="",this.registroFechaNacimiento="",this.registroCorreo="",this.registroClave="",this.registroUbicacion="",this.documentoInvalido=!1,this.mensajeErrorDocumento="",this.errorEdad=""}static \u0275fac=function(e){return new(e||i)(F(kt),F(Ce),F(ke))};static \u0275cmp=De({type:i,selectors:[["app-root"]],decls:50,vars:13,consts:[["bienvenido",""],[1,"menu-toggle",3,"click"],[1,"topnav"],[1,"menu-centro"],["routerLink","/"],["routerLink","/nosotros"],["routerLink","/categorias"],[4,"ngIf"],["routerLink","/noticias"],[1,"login-wrapper"],[4,"ngIf","ngIfElse"],[1,"sidebar"],[1,"close-btn",3,"click"],["routerLink","/",3,"click"],["routerLink","/nosotros",3,"click"],["routerLink","/categorias",3,"click"],["routerLink","/noticias",3,"click"],[2,"padding","0","margin","0"],[1,"usuario-sidebar"],["class","info-usuario","style","cursor: pointer;",3,"click",4,"ngIf"],["class","modal-backdrop",4,"ngIf"],["class","modal",4,"ngIf"],["class","modal-exito",4,"ngIf"],[2,"background-color","#333","color","white","padding","1rem","text-align","center","margin-top","auto"],["routerLink","/mapa"],["routerLink","/juego"],[1,"login-btn",3,"click"],["src","https://cdn-icons-png.flaticon.com/512/1077/1077114.png","alt","Login Icon",1,"icono-btn"],[1,"usuario-bienvenido"],["src","https://cdn-icons-png.flaticon.com/512/847/847969.png","alt","User Icon",1,"avatar-usuario"],[1,"texto-bienvenida",2,"cursor","pointer",3,"click"],[1,"saludo"],[1,"nombre-usuario"],["class","menu-usuario",4,"ngIf"],[1,"menu-usuario"],[1,"btn-opcion",3,"click"],[1,"btn-opcion","cerrar",3,"click"],["routerLink","/mapa",3,"click"],["routerLink","/juego",3,"click"],[1,"info-usuario",2,"cursor","pointer",3,"click"],["src","https://cdn-icons-png.flaticon.com/512/1077/1077114.png","alt","icono login",1,"icono-usuario"],[1,"datos-usuario"],["src","https://cdn-icons-png.flaticon.com/512/847/847969.png",1,"icono-usuario"],["class","submenu-opciones",4,"ngIf"],[1,"submenu-opciones"],[1,"modal-backdrop"],[1,"modal"],[1,"modal-close",3,"click"],[1,"modal-contenido"],[1,"icono-login"],["src","https://cdn-icons-png.flaticon.com/512/847/847969.png","alt","login icon"],["class","formulario-login","autocomplete","off",3,"ngSubmit",4,"ngIf"],["class","google-btn","type","button",4,"ngIf"],[1,"texto-secundario"],["style","color: red; font-weight: bold; display: block; text-align: center; margin-top: 0.5rem;",4,"ngIf"],["autocomplete","off",1,"formulario-login",3,"ngSubmit"],["for","email"],["type","email","id","email","name","email","required","",3,"ngModelChange","ngModel"],["for","password"],["type","password","id","password","name","password","required","",3,"ngModelChange","ngModel"],["type","submit",1,"btn-ingresar"],["for","nombre"],["type","text","id","nombre","name","nombre","required","",3,"ngModelChange","ngModel"],["for","apellidos"],["type","text","id","apellido","name","apellido","required","",3,"ngModelChange","ngModel"],["for","tipoDocumento"],[1,"documento-linea"],["id","tipoDocumento","name","tipoDocumento","required","",3,"ngModelChange","change","ngModel"],["value","DNI"],["value","CE"],["type","text","id","documento","name","documento","required","","inputmode","numeric","maxlength","12","placeholder","N\xFAmero de documento",3,"ngModelChange","keypress","input","ngModel"],["class","error-mensaje",4,"ngIf"],["for","fechaNacimiento"],["type","date","id","fechaNacimiento","name","fechaNacimiento","required","",1,"input-date",3,"ngModelChange","change","ngModel"],["class","error",4,"ngIf"],["for","correo"],["type","email","id","correo","name","correo","required","",3,"ngModelChange","ngModel"],["for","clave"],["type","password","id","clave","name","clave","required","",3,"ngModelChange","ngModel"],["type","hidden","id","ubicacion","name","ubicacion","required","",3,"ngModelChange","ngModel"],["type","submit",1,"btn-ingresar",3,"disabled"],[1,"error-mensaje"],[1,"error"],["type","button",1,"google-btn"],["src","https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg","alt","Google"],["href","#",3,"click"],[2,"color","red","font-weight","bold","display","block","text-align","center","margin-top","0.5rem"],[1,"modal-exito"]],template:function(e,n){if(e&1){let r=X();u(0,"button",1),A("click",function(){return w(r),M(n.toggleSidebar())}),h(1,"\u2630"),d(),u(2,"nav",2)(3,"ul",3)(4,"li")(5,"a",4),h(6,"INICIO"),d()(),u(7,"li")(8,"a",5),h(9,"NOSOTROS"),d()(),u(10,"li")(11,"a",6),h(12,"CATEGOR\xCDAS"),d()(),W(13,tf,3,0,"li",7)(14,nf,3,0,"li",7),u(15,"li")(16,"a",8),h(17,"NOTICIAS"),d()()(),u(18,"div",9),W(19,rf,4,0,"ng-container",10)(20,sf,8,2,"ng-template",null,0,pn),d()(),u(22,"nav",11)(23,"button",12),A("click",function(){return w(r),M(n.toggleSidebar())}),h(24,"\u2716"),d(),u(25,"ul")(26,"li")(27,"a",13),A("click",function(){return w(r),M(n.toggleSidebar())}),h(28,"INICIO"),d()(),u(29,"li")(30,"a",14),A("click",function(){return w(r),M(n.toggleSidebar())}),h(31,"NOSOTROS"),d()(),u(32,"li")(33,"a",15),A("click",function(){return w(r),M(n.toggleSidebar())}),h(34,"CATEGOR\xCDAS"),d()(),W(35,af,3,0,"li",7)(36,lf,3,0,"li",7),u(37,"li")(38,"a",16),A("click",function(){return w(r),M(n.toggleSidebar())}),h(39,"NOTICIAS"),d()(),u(40,"li",17)(41,"div",18),W(42,cf,5,0,"div",19)(43,df,7,2,"div",7),d()()()(),pe(44,"router-outlet"),W(45,pf,1,0,"div",20)(46,wf,15,8,"div",21)(47,Mf,2,0,"div",22),u(48,"footer",23),h(49,` \xA9 2025 EcoRecicla. Todos los derechos reservados.
`),d()}if(e&2){let r=vt(21);g(13),E("ngIf",n.usuarioLogueado),g(),E("ngIf",n.usuarioLogueado),g(5),E("ngIf",!n.usuarioLogueado)("ngIfElse",r),g(3),Le("open",n.sidebarOpen),g(13),E("ngIf",n.usuarioLogueado),g(),E("ngIf",n.usuarioLogueado),g(6),E("ngIf",!n.usuarioLogueado),g(),E("ngIf",n.usuarioLogueado),g(2),E("ngIf",n.modalAbierto),g(),E("ngIf",n.modalAbierto),g(),E("ngIf",n.registroExitoso)}},dependencies:[Ue,st,gi,Or,kn,zr,$r,Br,Rt,Rn,In,Lr,Oi,Os,Xt,Ti,gn],styles:[".topnav[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background-color:#00796b;padding:10px;position:relative}.menu-centro[_ngcontent-%COMP%]{display:flex;list-style:none;padding:0;margin:0;gap:1.5rem}.menu-centro[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-weight:700;padding:8px 12px;border-radius:4px}.menu-centro[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .menu-centro[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{background-color:#4caf50}.login-wrapper[_ngcontent-%COMP%]{position:absolute;right:1rem}.login-btn[_ngcontent-%COMP%]{background-color:#26a69a;color:#fff;border:none;padding:.4rem 1rem;border-radius:4px;cursor:pointer;font-weight:700}.login-btn[_ngcontent-%COMP%]:hover, .login-btn[_ngcontent-%COMP%]:active{background-color:#4caf50}.menu-toggle[_ngcontent-%COMP%]{display:none;font-size:24px;padding:10px;cursor:pointer;background:#00796b;color:#fff;border:none;position:fixed;top:10px;left:10px;z-index:1001;border-radius:4px}.sidebar[_ngcontent-%COMP%]{display:none;position:fixed;top:0;left:-250px;width:220px;height:100%;background-color:#00796b;padding-top:60px;transition:left .3s ease;z-index:1000}.sidebar.open[_ngcontent-%COMP%]{left:0}.close-btn[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;background:transparent;color:#fff;border:none;font-size:20px;cursor:pointer}.sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:15px 0;text-align:center}.sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-weight:700;display:block;padding:10px;border:none;background:none;cursor:pointer}.sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active, .sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{background-color:#4caf50}@media (max-width: 768px){.menu-toggle[_ngcontent-%COMP%]{display:block}.topnav[_ngcontent-%COMP%]{display:none}.sidebar[_ngcontent-%COMP%]{display:block}.login-wrapper[_ngcontent-%COMP%]{display:none}}.modal-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;z-index:999}.modal[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);width:360px;max-width:90%;background-color:#fff;border-radius:12px;box-shadow:0 10px 30px #0000004d;z-index:1000;overflow:hidden;font-family:Segoe UI,sans-serif}.modal-close[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;background-color:#ccc;border:none;color:#333;font-size:18px;font-weight:700;width:28px;height:28px;border-radius:50%;cursor:pointer;transition:background .3s ease}.modal-close[_ngcontent-%COMP%]:hover{background-color:#bbb}.modal-contenido[_ngcontent-%COMP%]{padding:2rem 1.5rem;text-align:center}.modal-contenido[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0;margin-bottom:1.5rem;color:#00796b}.formulario-login[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch;gap:1rem;text-align:left}.formulario-login[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;font-size:.95rem;margin-bottom:.2rem;color:#333}.formulario-login[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:10px;border-radius:6px;border:1px solid #ccc;font-size:14px;width:100%;box-sizing:border-box}.btn-ingresar[_ngcontent-%COMP%]{background-color:#00796b;color:#fff;border:none;padding:10px;border-radius:6px;font-weight:700;cursor:pointer;transition:background-color .3s ease}.btn-ingresar[_ngcontent-%COMP%]:hover{background-color:#4caf50}.google-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:10px;background-color:#fff;border:1px solid #ddd;padding:10px;border-radius:6px;margin:1rem 0;font-weight:500;color:#444;cursor:pointer;transition:background .3s ease;width:100%}.google-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:18px}.google-btn[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.texto-secundario[_ngcontent-%COMP%]{font-size:14px;color:#666}.texto-secundario[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#00796b;text-decoration:none;font-weight:700}.texto-secundario[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.icono-login[_ngcontent-%COMP%]{width:60px;margin:0 auto 1rem}.icono-login[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;display:block}.icono-btn[_ngcontent-%COMP%]{width:18px;height:18px;margin-right:6px;vertical-align:middle}.modal-exito[_ngcontent-%COMP%]{position:fixed;top:30px;left:50%;transform:translate(-50%);background-color:#4caf50;color:#fff;padding:12px 20px;border-radius:8px;font-weight:700;z-index:2001;box-shadow:0 4px 10px #0000004d;animation:_ngcontent-%COMP%_fadeInOut 3s ease-in-out forwards}@keyframes _ngcontent-%COMP%_fadeInOut{0%{opacity:0;transform:translate(-50%,-20px)}10%{opacity:1;transform:translate(-50%)}90%{opacity:1;transform:translate(-50%)}to{opacity:0;transform:translate(-50%,-20px)}}.usuario-bienvenido[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;padding:6px 12px;background-color:#e8f5e9;border-radius:12px;box-shadow:0 2px 6px #0000001a;font-family:Segoe UI,sans-serif;position:relative;height:20px;margin:0}.avatar-usuario[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;object-fit:cover}.texto-bienvenida[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;line-height:1.2;cursor:pointer}.saludo[_ngcontent-%COMP%]{margin:0;font-size:12px;color:#388e3c;line-height:1}.nombre-usuario[_ngcontent-%COMP%]{margin:0;font-weight:700;font-size:14px;color:#0d47a1;line-height:1}.menu-usuario[_ngcontent-%COMP%]{position:absolute;top:100%;right:0;background-color:#fff;border:1px solid #cfd8dc;border-radius:10px;box-shadow:0 4px 8px #00000026;padding:6px;margin-top:6px;display:flex;flex-direction:column;z-index:100;min-width:140px}.btn-opcion[_ngcontent-%COMP%]{background-color:#43a047;color:#fff;border:none;padding:6px 8px;border-radius:6px;font-size:13px;text-align:left;cursor:pointer;margin-bottom:6px;transition:background-color .3s ease}.btn-opcion[_ngcontent-%COMP%]:hover{background-color:#388e3c}.btn-opcion.cerrar[_ngcontent-%COMP%]{background-color:#c62828}.btn-opcion.cerrar[_ngcontent-%COMP%]:hover{background-color:#b71c1c}.usuario-sidebar[_ngcontent-%COMP%]{padding:10px 16px;background-color:#26a69a}.info-usuario[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.icono-usuario[_ngcontent-%COMP%]{width:28px;height:28px;border-radius:50%;background-color:#fff;padding:4px}.datos-usuario[_ngcontent-%COMP%]{display:flex;flex-direction:column}.nombre-usuario[_ngcontent-%COMP%]{font-weight:700;font-size:14px;color:#0d47a1}.cerrar-sesion-btn[_ngcontent-%COMP%]{background-color:#ffffff26;color:#fff;border:1px solid white;border-radius:6px;padding:4px 8px;font-size:12px;cursor:pointer;margin-top:4px;width:fit-content;transition:background-color .2s ease,color .2s ease}.cerrar-sesion-btn[_ngcontent-%COMP%]:hover{background-color:#fff;color:#00695c}.submenu-opciones[_ngcontent-%COMP%]{margin-top:8px;display:flex;flex-direction:column;gap:6px;padding-left:34px}.submenu-opciones[_ngcontent-%COMP%]   .btn-opcion[_ngcontent-%COMP%]{background-color:#ffffff26;color:#fff;border:1px solid white;border-radius:6px;padding:6px 10px;font-size:13px;cursor:pointer;width:fit-content;transition:background-color .2s ease,color .2s ease}.submenu-opciones[_ngcontent-%COMP%]   .btn-opcion[_ngcontent-%COMP%]:hover{background-color:#fff;color:#2d8a7f}.submenu-opciones[_ngcontent-%COMP%]   .btn-opcion.cerrar[_ngcontent-%COMP%]{background-color:#c62828;border-color:#c62828}.submenu-opciones[_ngcontent-%COMP%]   .btn-opcion.cerrar[_ngcontent-%COMP%]:hover{background-color:#fff;color:#c62828}select#tipoDocumento[_ngcontent-%COMP%]{width:100%;padding:.8rem 1rem;border:1px solid #ccc;border-radius:8px;background-color:#fff;font-size:1rem;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;transition:border-color .3s ease,box-shadow .3s ease}.error-mensaje[_ngcontent-%COMP%]{color:#d32f2f;font-size:.95rem;margin-top:.5rem}@media (max-width: 600px){select#tipoDocumento[_ngcontent-%COMP%], input[type=date]#fechaNacimiento[_ngcontent-%COMP%]{padding:.7rem .8rem;font-size:.95rem}}.documento-linea[_ngcontent-%COMP%]{display:flex;gap:.6rem;align-items:center;margin-bottom:1rem}select#tipoDocumento[_ngcontent-%COMP%]{flex:1;padding:.5rem .8rem;border:1px solid #ccc;border-radius:6px;background-color:#fff;font-size:1rem;transition:border-color .3s ease,box-shadow .3s ease}select#tipoDocumento[_ngcontent-%COMP%]:focus{border-color:#4caf50;box-shadow:0 0 0 3px #4caf5033;outline:none}input#documento[_ngcontent-%COMP%]{flex:2;padding:.8rem 1rem;border:1px solid #ccc;border-radius:8px;background-color:#fff;font-size:1rem;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;transition:border-color .3s ease,box-shadow .3s ease}select#tipoDocumento[_ngcontent-%COMP%]:focus, input#documento[_ngcontent-%COMP%]:focus{border-color:#4caf50;box-shadow:0 0 0 3px #4caf5033;outline:none}input[type=date]#fechaNacimiento[_ngcontent-%COMP%]{width:100%;padding:.8rem 1rem;border:1px solid #ccc;border-radius:8px;background-color:#fff;font-size:1rem;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;transition:border-color .3s ease,box-shadow .3s ease}input[type=date]#fechaNacimiento[_ngcontent-%COMP%]:focus{border-color:#4caf50;box-shadow:0 0 0 3px #4caf5033;outline:none}.error-mensaje[_ngcontent-%COMP%]{color:#d32f2f;font-size:.9rem;margin-top:-1.7rem}@media (max-width: 600px){.documento-linea[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:.5rem}select#tipoDocumento[_ngcontent-%COMP%], input#documento[_ngcontent-%COMP%], input[type=date]#fechaNacimiento[_ngcontent-%COMP%]{width:100%;padding:.7rem .8rem;font-size:.95rem}}"]})};function Ef(i,t){if(i&1&&(u(0,"div",20),pe(1,"img",21),u(2,"div",22)(3,"h2"),h(4),d(),u(5,"p"),h(6),d()()()),i&2){let e=t.$implicit,n=t.index,r=y();Le("active",n===r.currentSlide),g(),E("src",e.imagen,Hn)("alt",e.titulo),g(3),H(e.titulo),g(2),H(e.descripcion)}}function xf(i,t){if(i&1){let e=X();u(0,"span",23),A("click",function(){let r=w(e).index,o=y();return M(o.goToSlide(r))}),d()}if(i&2){let e=t.index,n=y();Le("active",e===n.currentSlide)}}var Ii=class i{constructor(t){this.ngZone=t}appComponent=L(Nn);slides=[{imagen:"assets/images/slider/imagen1.jpg",titulo:"EcoConciencia en comunidad",descripcion:"Forma parte de una red de usuarios comprometidos con el planeta."},{imagen:"assets/images/slider/imagen2.jpg",titulo:"Encuentra puntos cercanos",descripcion:"Localiza centros de reciclaje y reduce tu impacto ambiental."},{imagen:"assets/images/slider/imagen3.jpg",titulo:"Aprende y gana",descripcion:"Participa en juegos interactivos y gana recompensas mientras aprendes."},{imagen:"assets/images/slider/imagen4.jpg",titulo:"Conoce y aprende a reciclar con Ecorecicla",descripcion:"Identifica y clasifica residuos f\xE1cilmente con nuestra app educativa."}];currentSlide=0;intervaloId;ngAfterViewInit(){this.ngZone.runOutsideAngular(()=>{this.intervaloId=setInterval(()=>{this.ngZone.run(()=>this.nextSlide())},5e3)})}ngOnDestroy(){this.intervaloId&&clearInterval(this.intervaloId)}goToSlide(t){this.currentSlide=t}nextSlide(){this.currentSlide=(this.currentSlide+1)%this.slides.length}prevSlide(){this.currentSlide=(this.currentSlide-1+this.slides.length)%this.slides.length}abrirRegistro(){this.appComponent.modalAbierto=!0,this.appComponent.modo="registro"}static \u0275fac=function(e){return new(e||i)(F(Fe))};static \u0275cmp=De({type:i,selectors:[["app-inicio"]],decls:66,vars:2,consts:[[1,"hero"],[1,"slider-container"],[1,"nav","prev",3,"click"],[1,"slider"],["class","slide",3,"active",4,"ngFor","ngForOf"],[1,"nav","next",3,"click"],[1,"slide-indicators"],["class","dot",3,"active","click",4,"ngFor","ngForOf"],[1,"info"],[1,"info-app"],[1,"caracteristicas"],[1,"cards"],[1,"card"],["src","assets/icons/mapa.png","alt","Mapa"],["src","assets/icons/categorias.png","alt","Residuos"],["src","assets/icons/juego.jpg","alt","Juego"],[1,"impacto"],[1,"stats"],[1,"cta-final"],[1,"boton-principal",3,"click"],[1,"slide"],[3,"src","alt"],[1,"descripcion"],[1,"dot",3,"click"]],template:function(e,n){e&1&&(u(0,"section",0)(1,"div",1)(2,"button",2),A("click",function(){return n.prevSlide()}),h(3,"\u276E"),d(),u(4,"div",3),W(5,Ef,7,6,"div",4),d(),u(6,"button",5),A("click",function(){return n.nextSlide()}),h(7,"\u276F"),d()(),u(8,"div",6),W(9,xf,1,2,"span",7),d(),u(10,"div",8)(11,"h1"),h(12,"\u{1F30D} Bienvenido a EcoRecicla"),d(),u(13,"p"),h(14,"Una app web inteligente que promueve el reciclaje y el cuidado del medio ambiente."),d()()(),u(15,"section",9)(16,"h2"),h(17,"\xBFQu\xE9 es EcoRecicla?"),d(),u(18,"p"),h(19," EcoRecicla es una aplicaci\xF3n educativa e interactiva que promueve el reciclaje inteligente y la conciencia ambiental. A trav\xE9s de funciones inteligentes, ayudamos a las personas a identificar, clasificar y gestionar residuos correctamente. "),d()(),u(20,"section",10)(21,"h2"),h(22,"\xBFQu\xE9 puedes hacer con EcoRecicla?"),d(),u(23,"div",11)(24,"div",12),pe(25,"img",13),u(26,"h3"),h(27,"Puntos de Reciclaje"),d(),u(28,"p"),h(29,"Encuentra el punto m\xE1s cercano donde puedes dejar tus residuos."),d()(),u(30,"div",12),pe(31,"img",14),u(32,"h3"),h(33,"Tipos de Residuos"),d(),u(34,"p"),h(35,"Aprende a clasificar correctamente los residuos con im\xE1genes reales."),d()(),u(36,"div",12),pe(37,"img",15),u(38,"h3"),h(39,"Juego Educativo"),d(),u(40,"p"),h(41,"Juega y pon a prueba tus conocimientos sobre reciclaje."),d()()()(),u(42,"section",16)(43,"h2"),h(44,"Nuestro impacto"),d(),u(45,"div",17)(46,"div")(47,"h3"),h(48,"+500"),d(),u(49,"p"),h(50,"Usuarios concientizados"),d()(),u(51,"div")(52,"h3"),h(53,"+120"),d(),u(54,"p"),h(55,"Puntos de reciclaje activos"),d()(),u(56,"div")(57,"h3"),h(58,"+20%"),d(),u(59,"p"),h(60,"Reducci\xF3n de residuos en zonas urbanas"),d()()()(),u(61,"section",18)(62,"h2"),h(63,"\xBFEst\xE1s listo para marcar la diferencia?"),d(),u(64,"button",19),A("click",function(){return n.abrirRegistro()}),h(65,"\xDAnete ahora"),d()()),e&2&&(g(5),E("ngForOf",n.slides),g(4),E("ngForOf",n.slides))},dependencies:[Ue,At,ys],styles:[".hero[_ngcontent-%COMP%]{background-color:#e8f5e9;padding:40px 20px;text-align:center}.slider-container[_ngcontent-%COMP%]{position:relative;max-width:1000px;margin:auto;overflow:hidden;border-radius:16px;box-shadow:0 10px 25px #00800033}.slider[_ngcontent-%COMP%]{display:flex;transition:transform .5s ease-in-out}.slide[_ngcontent-%COMP%]{min-width:100%;position:relative;opacity:0;display:none;transition:opacity .6s ease-in-out}.slide.active[_ngcontent-%COMP%]{opacity:1;display:block}.slide[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:16px;object-fit:cover}.descripcion[_ngcontent-%COMP%]{position:absolute;bottom:30px;left:30px;background:#006400bf;color:#fff;padding:20px;border-radius:12px;text-align:left;max-width:70%}.descripcion[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 10px;font-size:1.6rem}.descripcion[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1rem}.nav[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);background-color:#006400b3;color:#fff;border:none;padding:14px;font-size:24px;cursor:pointer;border-radius:50%;z-index:2}.nav.prev[_ngcontent-%COMP%]{left:15px}.nav.next[_ngcontent-%COMP%]{right:15px}.nav[_ngcontent-%COMP%]:hover{background-color:#006400e6}.info[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#2e7d32;font-size:2.5rem;margin-top:30px}.info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#444;max-width:700px;margin:auto}.contenido-hero[_ngcontent-%COMP%]{position:relative;z-index:2;max-width:800px;margin:0 auto;padding:20px;border-radius:16px;background:#ffffff0d;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.contenido-hero[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;font-weight:700;margin-bottom:1rem;text-shadow:1px 1px 3px rgba(0,0,0,.4)}.contenido-hero[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.3rem;line-height:1.6;margin-bottom:20px}button[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;border:none;padding:12px 28px;font-size:1rem;font-weight:700;border-radius:8px;cursor:pointer;box-shadow:0 4px 12px #00000026;transition:background-color .3s ease,transform .2s ease}button[_ngcontent-%COMP%]:hover{background-color:#388e3c;transform:scale(1.03)}.info-app[_ngcontent-%COMP%]{background-color:#fff;padding:60px 20px;max-width:1000px;margin:0 auto;border-left:6px solid #66bb6a;border-right:6px solid #66bb6a;border-radius:20px;box-shadow:0 4px 16px #00000014;text-align:center}.info-app[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;color:#2e7d32;margin-bottom:20px}.info-app[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.15rem;line-height:1.8;color:#444}.caracteristicas[_ngcontent-%COMP%]{padding:60px 20px;background-color:#f1f8e9;text-align:center}.caracteristicas[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:30px;color:#2e7d32}.cards[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:24px}.card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:24px;width:280px;box-shadow:0 6px 20px #00000014;text-align:center;transition:transform .3s ease}.card[_ngcontent-%COMP%]:hover{transform:translateY(-6px)}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;margin-bottom:12px}.card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.3rem;color:#2e7d32;margin-bottom:10px}.card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#555;line-height:1.5}.impacto[_ngcontent-%COMP%]{padding:60px 20px;background-color:#fff;text-align:center}.impacto[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:20px;color:#388e3c}.stats[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:40px;margin-top:30px}.stats[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background:#e8f5e9;border-radius:16px;padding:20px 30px;width:200px;box-shadow:0 4px 12px #0000001a}.stats[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:2rem;color:#2e7d32;margin:0 0 10px}.stats[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#555;margin:0}.cta-final[_ngcontent-%COMP%]{background-color:#00796b;color:#fff;text-align:center;padding:80px 20px}.cta-final[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:20px}.cta-final[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#4caf50;padding:14px 32px;font-size:1.1rem}.cta-final[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#388e3c}@media (max-width: 768px){.contenido-hero[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.2rem}.contenido-hero[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem}.card[_ngcontent-%COMP%], .stats[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%;max-width:320px}.info-app[_ngcontent-%COMP%]{border-left:4px solid #66bb6a;border-right:4px solid #66bb6a}.cta-final[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.6rem}}@media (max-width: 480px){.contenido-hero[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8rem}.contenido-hero[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.95rem}.cta-final[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.4rem}.cta-final[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}.boton-principal[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;padding:12px 28px;border-radius:8px;font-weight:600;font-size:1rem;cursor:pointer;text-decoration:none;display:inline-block;box-shadow:0 4px 10px #0003;transition:all .3s ease}.boton-principal[_ngcontent-%COMP%]:hover{background-color:#388e3c;transform:scale(1.03)}.slide-indicators[_ngcontent-%COMP%]{text-align:center;margin-top:16px}.dot[_ngcontent-%COMP%]{display:inline-block;height:12px;width:12px;margin:0 6px;background-color:#ccc;border-radius:50%;cursor:pointer;opacity:.5;transform:scale(1);transition:background-color .3s ease,transform .3s ease,opacity .3s ease}.dot[_ngcontent-%COMP%]:hover{opacity:.8}.dot.active[_ngcontent-%COMP%]{background-color:#4caf50;opacity:1;transform:scale(1.4)}"]})};var en=dd(Xc());function Of(i,t){if(i&1&&pe(0,"span",18),i&2){let e=y().$implicit;E("innerHTML",e.texto,Ba)}}function Df(i,t){if(i&1&&(u(0,"span"),h(1),d()),i&2){let e=y().$implicit;g(),H(e.texto)}}function If(i,t){if(i&1&&(u(0,"div",15),W(1,Of,1,1,"span",16)(2,Df,2,1,"span",17),d()),i&2){let e=t.$implicit;E("ngClass",e.tipo==="usuario"?"mensaje usuario":"mensaje ia"),g(),E("ngIf",e.tipo==="ia"),g(),E("ngIf",e.tipo==="usuario")}}var qr=class i{constructor(t,e,n){this.platformId=t;this.authService=e;this.sanitizer=n}map;userPrompt="";userLocation=null;directionsService;activeDirectionsRenderers=[];mensajeRuta="";currentMarkerInfoWindow=null;ubicacionActualInfoWindow=null;rutaInterval;mensajesIA=[];userAddress=null;isWaitingForResponse=!1;currentSpeechUtterance=null;typingTimeout;isTyping=!1;MAX_DISTANCE_KM=5;LEVENSHTEIN_THRESHOLD=2;PHRASE_MATCH_PERCENTAGE=.7;KNOWN_CITIES=[{name:"trujillo",lat:-8.115,lng:-79.028},{name:"paijan",lat:-7.734,lng:-79.308},{name:"chocope",lat:-7.825,lng:-79.237}];KEY_PHRASES={allPointsNearby:["trazame los puntos cerca de mi ubicacion actual","muestrame los puntos de reciclaje cercanos","quiero ver los puntos cercanos","trazar todos los puntos de reciclaje cerca","trazame los puntos mas cerca de mi ubicacion","muestrame los puntos de reciclaje mas cercanos","quiero ver los puntos mas cerca","todos los puntos mas cercanos","puntos de reciclaje cerca de mi","donde reciclar cerca"],closestPoint:["mas cercano","mas proximo","punto mas cercano","punto mas proximo","el mas cerca","punto mas cerca","reciclaje mas cercano"]};pointsOfInterest=[{lat:-8.112,lng:-79.028,name:"Trujillo Centro",markerTitle:"Punto de reciclaje: Trujillo Centro"},{lat:-8.1,lng:-79.03,name:"Urbanizaci\xF3n La Merced",markerTitle:"Punto de reciclaje: Urbanizaci\xF3n La Merced"},{lat:-8.118,lng:-79.022,name:"Urbanizaci\xF3n Primavera",markerTitle:"Punto de reciclaje: Urbanizaci\xF3n Primavera"},{lat:-8.106,lng:-79.04,name:"Plaza de Armas de Trujillo",markerTitle:"Punto de reciclaje: Plaza de Armas de Trujillo"},{lat:-8.121,lng:-79.034,name:"Hospital Regional",markerTitle:"Punto de reciclaje: Hospital Regional"},{lat:-7.824,lng:-79.237,name:"Chocope",markerTitle:"Punto de reciclaje: Plaza de Chocope"},{lat:-7.732,lng:-79.307,name:"Plaza de Paij\xE1n",markerTitle:"Punto de reciclaje: Plaza de Paij\xE1n"},{lat:-7.73,lng:-79.305,name:"Iglesia Matriz de Paij\xE1n",markerTitle:"Punto de reciclaje: Iglesia Matriz de Paij\xE1n"},{lat:-7.735,lng:-79.309,name:"Av. V\xEDctor Ra\xFAl Haya de la Torre",markerTitle:"Punto de reciclaje: Av. V\xEDctor Ra\xFAl Haya de la Torre"},{lat:-7.734,lng:-79.311,name:"Mercado de Paij\xE1n",markerTitle:"Punto de reciclaje: Mercado de Paij\xE1n"},{lat:-7.736,lng:-79.306,name:"Calle Comercio",markerTitle:"Punto de reciclaje: Calle Comercio"},{lat:-7.825,lng:-79.239,name:"Av. Panamericana Norte",markerTitle:"Punto de reciclaje: Av. Panamericana Norte"},{lat:-7.823,lng:-79.235,name:"Municipalidad de Chocope",markerTitle:"Punto de reciclaje: Municipalidad de Chocope"},{lat:-7.826,lng:-79.238,name:"Centro de Salud Chocope",markerTitle:"Punto de reciclaje: Centro de Salud Chocope"},{lat:-7.822,lng:-79.236,name:"Calle Bol\xEDvar",markerTitle:"Punto de reciclaje: Calle Bol\xEDvar"}];placedMarkers=new Map;ngOnInit(){Ie(this.platformId)&&(this.initMap(),this.rutaInterval=setInterval(()=>{navigator.geolocation.getCurrentPosition(t=>{this.userLocation={lat:t.coords.latitude,lng:t.coords.longitude}},t=>console.error("Error obteniendo ubicaci\xF3n actualizada:",t),{enableHighAccuracy:!0})},15e3))}ngOnDestroy(){this.rutaInterval&&clearInterval(this.rutaInterval),this.clearAllRoutes(),this.stopAllProcessing()}toggleDarkMode(t){let e=t.target.checked,n=document.documentElement.style;e?(n.setProperty("--color-bg","#121212"),n.setProperty("--color-card","#1e1e1e"),n.setProperty("--color-text","#e0e0e0"),n.setProperty("--color-input-bg","#2a2a2a"),n.setProperty("--color-button","#2196f3"),n.setProperty("--color-button-hover","#1976d2"),n.setProperty("--color-border","#444")):(n.setProperty("--color-bg","#ffffff"),n.setProperty("--color-card","#ffffff"),n.setProperty("--color-text","#333333"),n.setProperty("--color-input-bg","#f1f1f1"),n.setProperty("--color-button","#4a90e2"),n.setProperty("--color-button-hover","#357ab7"),n.setProperty("--color-border","#ccc"))}initMap(){if(!navigator.geolocation){this.displayAIResponse("\u274C Geolocalizaci\xF3n no soportada en este navegador.");return}navigator.geolocation.getCurrentPosition(t=>{this.userLocation={lat:t.coords.latitude,lng:t.coords.longitude};let e={center:this.userLocation,zoom:15,mapTypeId:google.maps.MapTypeId.ROADMAP};this.map=new google.maps.Map(document.getElementById("map"),e),this.directionsService=new google.maps.DirectionsService,this.addMarkers();let n=new google.maps.Marker({position:this.userLocation,map:this.map,title:"Tu ubicaci\xF3n actual",icon:{url:"https://maps.gstatic.com/mapfiles/ms2/micons/ltblue-dot.png",scaledSize:new google.maps.Size(40,40)}});new google.maps.Geocoder().geocode({location:this.userLocation},(o,s)=>{if(s==="OK"&&o[0]){let a=o[0].formatted_address;this.userAddress=a,this.ubicacionActualInfoWindow=new google.maps.InfoWindow({content:`<b>Est\xE1s en:</b><br>${a}`}),this.ubicacionActualInfoWindow.open(this.map,n)}else console.warn("No se pudo obtener direcci\xF3n:",s)})},t=>{console.error("Error obteniendo ubicaci\xF3n:",t),this.displayAIResponse("\u274C No se pudo obtener tu ubicaci\xF3n. Aseg\xFArate de habilitar los permisos y el GPS.")},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})}scrollAlFinal(){setTimeout(()=>{let t=document.querySelector(".conversacion");t&&(t.scrollTop=t.scrollHeight)},100)}convertMarkdownToHtml(t){return t.replace(/\*\*(.*?)\*\*/g,"<b>$1</b>")}displayAIResponse(t,e){let n=this.convertMarkdownToHtml(t);this.mensajesIA.push({tipo:"ia",texto:"",fullText:n});let r=this.mensajesIA.length-1,o=this.cleanTextForSpeech(t);this.typeWriterEffect(o,r,e,n),this.scrollAlFinal()}typeWriterEffect(t,e,n,r,o=0){this.isTyping=!0,this.isWaitingForResponse=!0,o<t.length?(typeof this.mensajesIA[e].texto!="string"&&(this.mensajesIA[e].texto=""),this.mensajesIA[e].texto+=t.charAt(o),o++,this.typingTimeout=setTimeout(()=>{this.typeWriterEffect(t,e,n,r,o)},15)):(this.isTyping=!1,r?this.mensajesIA[e].texto=this.sanitizer.bypassSecurityTrustHtml(r):this.mensajesIA[e].fullText&&(this.mensajesIA[e].texto=this.sanitizer.bypassSecurityTrustHtml(this.mensajesIA[e].fullText)),n?this.speak(this.cleanTextForSpeech(n)):this.stopProcessing())}isSimilar(t,e){let n=this.cleanText(t);for(let r of e){let o=this.cleanText(r),s=n.split(" ").filter(f=>f.length>0),a=o.split(" ").filter(f=>f.length>0),l=0,c=a.length;for(let f of a){let v=!1;for(let S of s)if(en.get(S,f)<=this.LEVENSHTEIN_THRESHOLD){v=!0;break}v&&l++}if(c>0&&l/c>=this.PHRASE_MATCH_PERCENTAGE)return console.log(`Coincidencia de intenci\xF3n: "${t}" con frase: "${r}". Palabras coincidentes: ${l}/${c}`),!0}return!1}isSpecificLocationRequest(t){let e=["llevame","ruta","ir","como llegar","donde","destino"],n=!1;for(let r of e)if(t.includes(r)){n=!0;break}for(let r of this.pointsOfInterest){let o=this.cleanText(r.name);if(t===o||en.get(t,o)<=this.LEVENSHTEIN_THRESHOLD+1)return r.name;let s=t.split(" ").filter(c=>c.length>0),a=o.split(" ").filter(c=>c.length>0),l=0;for(let c of a)for(let f of s)if(en.get(f,c)<=this.LEVENSHTEIN_THRESHOLD){l++;break}if(a.length>0&&l/a.length>=.6&&(n||l===a.length&&a.length>1))return console.log(`Ubicaci\xF3n detectada (fuzzy): "${r.name}" en prompt "${t}"`),r.name}for(let r of this.KNOWN_CITIES){let o=this.cleanText(r.name);if(en.get(t,o)<=this.LEVENSHTEIN_THRESHOLD)return console.log(`Ciudad conocida detectada: "${r.name}"`),r.name}return null}cleanText(t){return t.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[.,\/#!$%\^&\*;:{}=\-_`~()]/g,"").replace(/\s+/g," ").trim()}cleanTextForSpeech(t){let e=t.replace(/[\u{1F600}-\u{1F64F}\u{1F300}-\u{1F5FF}\u{1F680}-\u{1F6FF}\u{1F1E0}-\u{1F1FF}\u{2600}-\u26FF\u{2700}-\u27BF]|\ufe0f/gu,"");return e=e.replace(/\bkm\b/gi,"kil\xF3metros"),e=e.replace(/\baprox\b/gi,"aproximadamente"),e=e.replace(/\bh\b/gi,"horas"),e=e.replace(/\bmin\b/gi,"minutos"),e=e.replace(/\*\*(.*?)\*\*/g,"$1"),e}stopSpeech(){this.currentSpeechUtterance&&speechSynthesis.speaking&&(speechSynthesis.cancel(),this.currentSpeechUtterance=null)}stopTyping(){this.isTyping&&this.typingTimeout&&(clearTimeout(this.typingTimeout),this.isTyping=!1);let t=this.mensajesIA[this.mensajesIA.length-1];t&&t.tipo==="ia"&&t.fullText&&(t.texto=this.sanitizer.bypassSecurityTrustHtml(t.fullText))}stopAllProcessing(){this.stopSpeech(),this.stopTyping(),this.stopProcessing()}stopProcessing(){this.isWaitingForResponse=!1}speak(t){this.stopSpeech(),"speechSynthesis"in window?(this.currentSpeechUtterance=new SpeechSynthesisUtterance(t),this.currentSpeechUtterance.lang="es-ES",this.currentSpeechUtterance.onend=()=>{this.stopProcessing()},this.currentSpeechUtterance.onerror=e=>{console.error("SpeechSynthesisUtterance.onerror",e),this.stopProcessing()},speechSynthesis.speak(this.currentSpeechUtterance)):(console.warn("Text-to-speech not supported in this browser."),this.stopProcessing())}esSaludoNatural(t){let e="hola",n=this.cleanText(t);return en.get(n,e)<=2||en.get(n,"hello")<=2}procesarPrompt(){if(this.isWaitingForResponse){this.stopAllProcessing();return}if(!this.userLocation){this.displayAIResponse("\u{1F504} Esperando ubicaci\xF3n para poder ayudarte...","Esperando ubicaci\xF3n para poder ayudarte.");return}let t=this.userPrompt.trim();if(t==="")return;if(this.esSaludoNatural(t)){this.mensajesIA.push({tipo:"usuario",texto:t}),this.userPrompt="",this.scrollAlFinal();let o=`\xA1Hola **${this.authService?.usuario$.value?.nombre||"amigo"}**! Soy tu inteligencia artificial orientada a encontrar la ruta m\xE1s r\xE1pida a los puntos estrat\xE9gicos de reciclaje. \xA1Estoy lista para ayudarte a salvar el planeta!.\xBFQu\xE9 lugar o direcci\xF3n quieres que te traze en el mapa?. \u{1F30E}\u267B\uFE0F`;this.displayAIResponse(o,this.cleanTextForSpeech(o));return}this.mensajesIA.push({tipo:"usuario",texto:t}),this.userPrompt="",this.scrollAlFinal(),this.isWaitingForResponse=!0;let e=this.cleanText(t),n=this.isSpecificLocationRequest(e);if(n)if(this.KNOWN_CITIES.some(o=>o.name===n)){let o=this.KNOWN_CITIES.find(s=>s.name===n);if(o){let s=this.pointsOfInterest.filter(a=>this.cleanText(a.name).includes(o.name)||this.dist({lat:o.lat,lng:o.lng},a)<=this.MAX_DISTANCE_KM*2);if(s.length>0){let a=s.map(f=>f.name).join(", "),l=`\u2705 Entendido. Has preguntado por **${o.name}**. \xA1Excelente elecci\xF3n! Aqu\xED tenemos puntos de reciclaje en: ${a}. \xBFQuieres que te muestre el m\xE1s cercano o todos los puntos en **${o.name}**?`,c=`Entendido. Has preguntado por ${o.name}. Excelente elecci\xF3n. Aqu\xED tenemos puntos de reciclaje en: ${a}. Quieres que te muestre el m\xE1s cercano o todos los puntos en ${o.name}?`;this.displayAIResponse(l,this.cleanTextForSpeech(c))}else{let a=`Lo siento, aunque reconoc\xED "**${n}**", \xA1parece que mis mapas no tienen puntos de reciclaje en esa ciudad todav\xEDa! Mis puntos se centran en **Trujillo, Paij\xE1n y Chocope**. \xBFProbamos con alguna de ellas?`;this.displayAIResponse(a,this.cleanTextForSpeech(a))}}}else this.displayAIResponse(`De acuerdo, buscando la ruta hacia **${n}**... \xA1A por esa aventura de reciclaje!`,`De acuerdo, buscando la ruta hacia ${n}. A por esa aventura de reciclaje!`),this.rutaEspecifica(n,!1);else this.isSimilar(e,this.KEY_PHRASES.allPointsNearby)?(this.displayAIResponse("\xA1Entendido! Buscando los puntos de reciclaje m\xE1s cercanos y trazando rutas... \xA1Prep\xE1rate para la acci\xF3n!","Entendido. Buscando los puntos de reciclaje m\xE1s cercanos y trazando rutas. Prep\xE1rate para la acci\xF3n!"),this.trazarTodasRutasCercanas(!1)):this.isSimilar(e,this.KEY_PHRASES.closestPoint)?(this.displayAIResponse("Claro, buscando el punto de reciclaje m\xE1s cercano y trazando la ruta... \xA1El m\xE1s r\xE1pido gana!","Claro, buscando el punto de reciclaje m\xE1s cercano y trazando la ruta. El m\xE1s r\xE1pido gana!"),this.rutaMasCercana(!1)):this.handleUnknownLocation(t)}stripQuotes(t){return t.startsWith('"')&&t.endsWith('"')?t.substring(1,t.length-1):t}handleUnknownLocation(t){return ma(this,null,function*(){let e=new google.maps.Geocoder,n=this.cleanText(t),r=this.stripQuotes(t);try{let o=yield e.geocode({address:n});if(o.results&&o.results.length>0){let s=o.results[0].geometry.location,a=o.results[0].formatted_address;if(this.isLocationWithinKnownArea(s.lat(),s.lng())){let c=`\u{1F914} \xA1Vaya! Parece que est\xE1s buscando **${r}** (${a}). Aunque no es un punto de reciclaje espec\xEDfico en mi base de datos, \xA1est\xE1 en mi radar! Est\xE1 en una zona que conozco (**Trujillo, Paij\xE1n o Chocope**). \xBFQuieres que te muestre los puntos de reciclaje m\xE1s cercanos a esa ubicaci\xF3n, o todos los puntos en esta \xE1rea?`,f=`Vaya, parece que est\xE1s buscando ${r} (${a}). Aunque no es un punto de reciclaje espec\xEDfico en mi base de datos, est\xE1 en mi radar. Est\xE1 en una zona que conozco (Trujillo, Paij\xE1n o Chocope). Quieres que te muestre los puntos de reciclaje m\xE1s cercanos a esa ubicaci\xF3n, o todos los puntos en esta \xE1rea?`;this.displayAIResponse(c,this.cleanTextForSpeech(f))}else{let c=`\u{1F61E} \xA1Uy! La direcci\xF3n ingresada **${r}** est\xE1 fuera de mi zona de confort de reciclaje por el momento. \xA1Parece que estamos en el fin del mundo! Te puedo ayudar a encontrar puntos de reciclaje en **Trujillo, Paij\xE1n y Chocope**. \xBFQu\xE9 te parece?`,f=`Uy. La direcci\xF3n ingresada ${r} est\xE1 fuera de mi zona de confort de reciclaje por el momento. Te puedo ayudar a encontrar puntos de reciclaje en Trujillo, Paij\xE1n y Chocope. Qu\xE9 te parece?`;this.displayAIResponse(c,this.cleanTextForSpeech(f))}}else this.displayAIResponse("\u{1F916} \xA1Caracoles! Lo siento, no pude entender tu solicitud. \xA1Mi cerebro de IA est\xE1 en modo siesta! Por favor, intenta de nuevo con un comando diferente o m\xE1s claro.",this.cleanTextForSpeech("Caracoles. Lo siento, no pude entender tu solicitud. Mi cerebro de IA est\xE1 en modo siesta. Por favor, intenta de nuevo con un comando diferente o m\xE1s claro."))}catch(o){console.error("Error durante la geocodificaci\xF3n:",o),this.displayAIResponse("\u{1F916} \xA1Ups! Hubo un problemilla al procesar tu ubicaci\xF3n. Parece que las se\xF1ales no llegan bien. Por favor, intenta de nuevo con un comando diferente o m\xE1s claro. \xA1No te rindas!",this.cleanTextForSpeech("Ups. Hubo un problemilla al procesar tu ubicaci\xF3n. Parece que las se\xF1ales no llegan bien. Por favor, intenta de nuevo con un comando diferente o m\xE1s claro. No te rindas!"))}})}isLocationWithinKnownArea(t,e){let n={lat:t,lng:e},r=50;for(let o of this.KNOWN_CITIES){let s={lat:o.lat,lng:o.lng};if(this.dist(n,s)<=r)return!0}return!1}clearAllRoutes(){this.activeDirectionsRenderers.forEach(t=>{t.setMap(null)}),this.activeDirectionsRenderers=[]}rutaMasCercana(t=!0){if(this.isWaitingForResponse&&t)return;if(!this.userLocation){this.displayAIResponse("\u{1F504} Esperando ubicaci\xF3n para poder ayudarte a encontrar la ruta m\xE1s cercana...","Esperando ubicaci\xF3n para poder ayudarte a encontrar la ruta m\xE1s cercana."),this.stopProcessing();return}t&&(this.mensajesIA.push({tipo:"usuario",texto:"Ubicame la ruta m\xE1s cercana desde mi ubicaci\xF3n"}),this.scrollAlFinal(),this.isWaitingForResponse=!0),this.clearAllRoutes(),this.resetMarkerIcons();let e=this.pointsOfInterest.filter(o=>this.dist(this.userLocation,o)<=this.MAX_DISTANCE_KM);if(e.length===0){let o=`\u{1F61E} No se encontraron puntos de reciclaje cercanos (dentro de ${this.MAX_DISTANCE_KM} km) a tu ubicaci\xF3n.`;this.displayAIResponse(o,o);return}let n=e[0],r=this.dist(this.userLocation,n);e.forEach(o=>{let s=this.dist(this.userLocation,o);s<r&&(r=s,n=o)}),this.trazarRuta(this.userLocation,n.markerTitle,{lat:n.lat,lng:n.lng})}rutaEspecifica(t,e=!0){if(this.isWaitingForResponse&&e)return;if(!this.userLocation){this.displayAIResponse(`\u{1F504} Esperando ubicaci\xF3n para poder trazar la ruta a ${t}...`,`Esperando ubicaci\xF3n para poder trazar la ruta a ${t}.`),this.stopProcessing();return}e&&(this.mensajesIA.push({tipo:"usuario",texto:`Ruta a ${t}`}),this.scrollAlFinal(),this.isWaitingForResponse=!0),this.clearAllRoutes(),this.resetMarkerIcons();let n=this.pointsOfInterest.find(r=>r.name===t);if(n)this.trazarRuta(this.userLocation,n.markerTitle,{lat:n.lat,lng:n.lng});else{let r=`No se encontr\xF3 informaci\xF3n para ${t}.`;this.displayAIResponse(r,r),this.stopProcessing()}}trazarTodasRutasCercanas(t=!0){if(this.isWaitingForResponse&&t)return;if(!this.userLocation){this.displayAIResponse("\u{1F504} Esperando ubicaci\xF3n para poder trazar las rutas a todos los puntos cercanos... \xA1Mis sat\xE9lites est\xE1n en pausa para el caf\xE9!","Esperando ubicaci\xF3n para poder trazar las rutas a todos los puntos cercanos. Mis sat\xE9lites est\xE1n en pausa para el caf\xE9.");return}t&&(this.mensajesIA.push({tipo:"usuario",texto:"Trazar todos los puntos cercanos"}),this.scrollAlFinal(),this.isWaitingForResponse=!0),this.clearAllRoutes(),this.resetMarkerIcons();let e=this.pointsOfInterest.filter(l=>this.dist(this.userLocation,l)<=this.MAX_DISTANCE_KM);e.sort((l,c)=>{let f=this.dist(this.userLocation,l),v=this.dist(this.userLocation,c);return f-v});let n=e.length,r;if(n===0){r=`\u{1F61E} No se encontraron puntos de reciclaje cercanos (dentro de ${this.MAX_DISTANCE_KM} km) a tu ubicaci\xF3n. \xA1Parece que los puntos se fueron de paseo!`,this.displayAIResponse(r,this.cleanTextForSpeech(r));return}let o=0,s=new Map,a=e.length*2;e.forEach((l,c)=>{let f=String.fromCharCode(65+c),v=this.placedMarkers.get(l.markerTitle);v&&(v.setLabel({text:f,color:"white",fontSize:"14px",fontWeight:"bold"}),v.setIcon({url:"https://maps.gstatic.com/mapfiles/ms2/micons/red-dot.png",scaledSize:new google.maps.Size(40,40)}),this.currentMarkerInfoWindow&&this.currentMarkerInfoWindow.getMap()===this.map&&this.currentMarkerInfoWindow.getPosition().equals(v.getPosition())&&this.currentMarkerInfoWindow.close());let S=new google.maps.DirectionsRenderer({map:this.map,suppressMarkers:!0,preserveViewport:!0,polylineOptions:{strokeColor:"#FF0000",strokeOpacity:.6,strokeWeight:4}});this.activeDirectionsRenderers.push(S);let C=new google.maps.DirectionsRenderer({map:this.map,suppressMarkers:!0,preserveViewport:!0,polylineOptions:{strokeColor:"#0000FF",strokeOpacity:.6,strokeWeight:4}});this.activeDirectionsRenderers.push(C);let _="N/A",b="N/A",x="N/A";this.directionsService.route({origin:this.userLocation,destination:{lat:l.lat,lng:l.lng},travelMode:google.maps.TravelMode.DRIVING,drivingOptions:{departureTime:new Date,trafficModel:"bestguess"}},(B,V)=>{o++,V==="OK"?(S.setDirections(B),_=B.routes[0].legs[0].duration.text,x=B.routes[0].legs[0].distance.text,s.set(l.markerTitle,{name:l.name,label:f,distance:x,drivingDuration:_,walkingDuration:s.get(l.markerTitle)?.walkingDuration||"N/A"})):(console.warn(`No se pudo trazar la ruta en auto a ${l.name}: ${V}`),s.set(l.markerTitle,{name:l.name,label:f,distance:x,drivingDuration:"No disponible",walkingDuration:s.get(l.markerTitle)?.walkingDuration||"N/A"})),o===a&&this.generateAllRoutesSummary(Array.from(s.values()))}),this.directionsService.route({origin:this.userLocation,destination:{lat:l.lat,lng:l.lng},travelMode:google.maps.TravelMode.WALKING},(B,V)=>{o++,V==="OK"?(C.setDirections(B),b=B.routes[0].legs[0].duration.text,x=B.routes[0].legs[0].distance.text,s.set(l.markerTitle,{name:l.name,label:f,distance:x,drivingDuration:s.get(l.markerTitle)?.drivingDuration||"N/A",walkingDuration:b})):(console.warn(`No se pudo trazar la ruta a pie a ${l.name}: ${V}`),s.set(l.markerTitle,{name:l.name,label:f,distance:x,drivingDuration:s.get(l.markerTitle)?.drivingDuration||"N/A",walkingDuration:"No disponible"})),o===a&&this.generateAllRoutesSummary(Array.from(s.values()))})})}generateAllRoutesSummary(t){if(t.length===0){let r="\u{1F61E} No pude calcular rutas a ning\xFAn punto de reciclaje cercano. \xA1Parece que mis rutas est\xE1n de vacaciones!";this.displayAIResponse(r,this.cleanTextForSpeech(r));return}let e=`\xA1Listo! Aqu\xED tienes los puntos de reciclaje cercanos a tu ubicaci\xF3n (${this.userAddress?`**${this.userAddress}**`:"ubicaci\xF3n actual"}):<br><br>`,n=`Listo. Aqu\xED tienes los puntos de reciclaje cercanos a tu ubicaci\xF3n (${this.userAddress?`${this.userAddress}`:"ubicaci\xF3n actual"}):

`;t.sort((r,o)=>{let s=parseFloat(r.distance),a=parseFloat(o.distance);return!isNaN(s)&&!isNaN(a)?s-a:r.distance.localeCompare(o.distance)}),t.forEach(r=>{e+=`**${r.label}. ${r.name}**<br>`,e+=`&nbsp;&nbsp;&nbsp;&nbsp;Distancia: **${r.distance}**<br>`,e+=`&nbsp;&nbsp;&nbsp;&nbsp;Tiempo en auto: **${r.drivingDuration}**<br>`,e+=`&nbsp;&nbsp;&nbsp;&nbsp;Tiempo a pie: **${r.walkingDuration}**<br><br>`,n+=`${r.label}. ${r.name}
`,n+=`    Distancia: ${r.distance}
`,n+=`    Tiempo en auto: ${r.drivingDuration}
`,n+=`    Tiempo a pie: ${r.walkingDuration}

`}),e+="Recuerda que la ruta en **azul** es para **caminar** \u{1F6B6} y la ruta **roja** es para **conducir** \u{1F697}. \xA1A reciclar se ha dicho!",n+="Recuerda que la ruta en azul es para caminar y la ruta roja es para conducir. A reciclar se ha dicho!",this.displayAIResponse(e,this.cleanTextForSpeech(n))}resetMarkerIcons(){this.placedMarkers.forEach((t,e)=>{t.setIcon({url:"assets/images/plastico_icon.png",scaledSize:new google.maps.Size(40,40)})})}trazarRuta(t,e,n){this.stopAllProcessing(),this.isWaitingForResponse=!0,this.resetMarkerIcons(),this.clearAllRoutes();let r=new google.maps.DirectionsRenderer({suppressMarkers:!0});r.setMap(this.map),this.activeDirectionsRenderers.push(r),this.directionsService.route({origin:t,destination:n,travelMode:google.maps.TravelMode.DRIVING,drivingOptions:{departureTime:new Date,trafficModel:"bestguess"}},(o,s)=>{if(s!==google.maps.DirectionsStatus.OK){let b=`\u274C No se pudo trazar la ruta: ${s}`;this.displayAIResponse(b,b),r.setMap(null),this.activeDirectionsRenderers=this.activeDirectionsRenderers.filter(x=>x!==r);return}r.setDirections(o),this.placedMarkers.forEach((b,x)=>{x===e&&b.setIcon({url:"https://maps.gstatic.com/mapfiles/ms2/micons/red-dot.png",scaledSize:new google.maps.Size(40,40)})});let a=o.routes[0].legs[0],l=a.distance.text,c=a.duration.text,f=Math.round(a.duration.value/60),v=e.replace("Punto de reciclaje: ",""),S=this.userAddress||"tu ubicaci\xF3n actual",C=`\u{1F9ED} Ruta hacia <b>${v}</b>. Distancia: ${l}.<br>\u{1F9CD} Caminando toma ${c.replace(/\bmin\b/,"minutos")}.<br>\u{1F695} En autom\xF3vil aproximadamente ${f} minutos.<br>\u267B\uFE0FPunto estrat\xE9gico para reciclar y cuidar nuestro planeta.\u{1F30E}`,_=`Ruta hacia ${v}. Distancia: ${l}. Caminando toma ${c.replace(/\bmin\b/,"minutos")}. En autom\xF3vil aproximadamente ${f} minutos. Punto estrat\xE9gico para reciclar y cuidar nuestro planeta.`;this.displayAIResponse(C,_)})}addMarkers(){this.pointsOfInterest.forEach((t,e)=>{let n=new google.maps.Marker({position:{lat:t.lat,lng:t.lng},map:this.map,title:t.markerTitle,icon:{url:"assets/images/plastico_icon.png",scaledSize:new google.maps.Size(40,40)}});this.placedMarkers.set(t.markerTitle,n);let r=new google.maps.InfoWindow({content:`<b>${t.markerTitle}</b><br><button id="ruta-btn-${e}">Trazar ruta</button>`}),o=null;n.addListener("click",()=>{this.currentMarkerInfoWindow&&this.currentMarkerInfoWindow.close(),r.open(this.map,n),this.currentMarkerInfoWindow=r,google.maps.event.addListenerOnce(r,"domready",()=>{let s=document.getElementById(`ruta-btn-${e}`);s&&(o&&s.removeEventListener("click",o),o=()=>{if(this.isWaitingForResponse){this.displayAIResponse('Ya estoy procesando una solicitud. Por favor, espera o presiona "Detener".',"Ya estoy procesando una solicitud. Por favor, espera o presiona detener.");return}if(!this.userLocation){this.displayAIResponse("\u{1F504} Ubicaci\xF3n del usuario no disponible. Esperando...","Ubicaci\xF3n del usuario no disponible. Esperando.");return}this.mensajesIA.push({tipo:"usuario",texto:`Trazar ruta a ${t.markerTitle.replace("Punto de reciclaje: ","")}.`}),this.scrollAlFinal();let a=`\u{1F4CD} Trazando ruta hacia ${t.markerTitle.replace("Punto de reciclaje: ","")}...`,l=`Trazando ruta hacia ${t.markerTitle.replace("Punto de reciclaje: ","")}.`;this.displayAIResponse(a,l),this.trazarRuta(this.userLocation,t.markerTitle,n.getPosition()),r.close()},s.addEventListener("click",o))}),google.maps.event.addListenerOnce(r,"closeclick",()=>{let s=document.getElementById(`ruta-btn-${e}`);s&&o&&(s.removeEventListener("click",o),o=null)})})})}dist(t,e){let r=this.rad(e.lat-t.lat),o=this.rad(e.lng-t.lng),s=Math.sin(r/2)**2+Math.cos(this.rad(t.lat))*Math.cos(this.rad(e.lat))*Math.sin(o/2)**2;return 6371*(2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s)))}rad(t){return t*Math.PI/180}findClosestPoint(){if(!this.userLocation)return null;let t=this.pointsOfInterest.filter(r=>this.dist(this.userLocation,r)<=this.MAX_DISTANCE_KM);if(t.length===0)return null;let e=null,n=1/0;for(let r of t){let o=this.dist(this.userLocation,r);o<n&&(n=o,e=r)}return e}static \u0275fac=function(e){return new(e||i)(F(Ce),F(kt),F(ti))};static \u0275cmp=De({type:i,selectors:[["app-mapa"]],decls:22,vars:7,consts:[[1,"theme-toggle-container"],[1,"switch"],["type","checkbox",3,"change"],[1,"slider","round"],[1,"theme-label"],[1,"container"],[1,"card"],[1,"title"],[1,"conversacion"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"input-group"],["type","text","placeholder","\xBFQu\xE9 punto estrat\xE9gico de reciclaje quieres ver? ",1,"input-prompt",3,"ngModelChange","keyup.enter","ngModel","disabled"],[1,"main-btn",3,"click","disabled"],[1,"button-group"],["id","map",1,"map-container"],[3,"ngClass"],[3,"innerHTML",4,"ngIf"],[4,"ngIf"],[3,"innerHTML"]],template:function(e,n){e&1&&(u(0,"div",0)(1,"label",1)(2,"input",2),A("change",function(o){return n.toggleDarkMode(o)}),d(),pe(3,"span",3),d(),u(4,"span",4),h(5,"Modo oscuro"),d()(),u(6,"div",5)(7,"div",6)(8,"h2",7),h(9,"GreenIA"),d(),u(10,"div",8),W(11,If,3,3,"div",9),d(),u(12,"div",10)(13,"input",11),ue("ngModelChange",function(o){return ce(n.userPrompt,o)||(n.userPrompt=o),o}),A("keyup.enter",function(){return n.procesarPrompt()}),d(),u(14,"button",12),A("click",function(){return n.procesarPrompt()}),h(15),d()(),u(16,"div",13)(17,"button",12),A("click",function(){return n.rutaMasCercana()}),h(18,"Ruta m\xE1s cercana"),d(),u(19,"button",12),A("click",function(){return n.rutaEspecifica("Chocope")}),h(20,"Ruta a Chocope"),d()()()(),pe(21,"div",14)),e&2&&(g(11),E("ngForOf",n.mensajesIA),g(2),le("ngModel",n.userPrompt),E("disabled",n.isWaitingForResponse),g(),E("disabled",n.isWaitingForResponse),g(),we(" ",n.isWaitingForResponse?"Detener":"Enviar"," "),g(2),E("disabled",n.isWaitingForResponse),g(2),E("disabled",n.isWaitingForResponse))},dependencies:[Ue,fn,At,st,kn,Rt,In,Xt],styles:['[_ngcontent-%COMP%]:root{--color-bg: #ffffff;--color-card: #ffffff;--color-text: #1f1f1f;--color-input-bg: #f1f3f4;--color-border: #e0e0e0;--color-button: #1a73e8;--color-button-hover: #0c59cf}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{--color-bg: #ffffff;--color-card: #ffffff;--color-text: #1f1f1f;--color-input-bg: #f1f3f4;--color-border: #e0e0e0;--color-button: #1a73e8;--color-button-hover: #0c59cf;background-color:var(--color-bg);color:var(--color-text);font-family:Segoe UI,Roboto,sans-serif;margin:0;padding:0}#map[_ngcontent-%COMP%]{height:400px;width:100%}.theme-toggle-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;padding:1rem 2rem 0}.theme-label[_ngcontent-%COMP%]{margin-left:.5rem;font-size:.9rem;color:var(--color-text, #1f1f1f)}.container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:1rem}.card[_ngcontent-%COMP%]{background-color:var(--color-card, #ffffff);border:1px solid var(--color-border, #e0e0e0);border-radius:16px;box-shadow:0 4px 12px #0000000d;padding:2rem;width:100%;max-width:600px;transition:background .3s}.title[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1.5rem;color:var(--color-text, #1f1f1f)}.input-group[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-bottom:1rem;margin-top:-10px}.input-prompt[_ngcontent-%COMP%]{flex:1;padding:.75rem 1rem;border:1px solid var(--color-border, #e0e0e0);border-radius:8px;background-color:var(--color-input-bg, #f1f3f4);font-size:1rem;color:var(--color-text, #1f1f1f)}.main-btn[_ngcontent-%COMP%]{padding:.75rem 1rem;background-color:var(--color-button, #1a73e8);color:#fff;border:none;border-radius:8px;cursor:pointer;font-size:1rem;transition:background .3s}.main-btn[_ngcontent-%COMP%]:hover{background-color:var(--color-button-hover, #0c59cf)}.button-group[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:1rem;margin-top:1rem}.button-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;padding:.75rem 1rem;background-color:var(--color-button, #1a73e8);color:#fff;border:none;border-radius:8px;font-size:.95rem;cursor:pointer;transition:background .3s}.button-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--color-button-hover, #0c59cf)}.map-container[_ngcontent-%COMP%]{margin-top:2rem;width:100%;height:500px;border-radius:12px;overflow:hidden}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:46px;height:24px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:#ccc;transition:.4s;border-radius:24px}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:18px;width:18px;left:3px;bottom:3px;background-color:#fff;transition:.4s;border-radius:50%}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:var(--color-button, #1a73e8)}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(22px)}.mensaje-natural[_ngcontent-%COMP%]{margin-top:1rem;font-size:1rem;color:var(--color-text, #1f1f1f);background-color:var(--color-card, #ffffff);padding:.75rem 1rem;border-left:4px solid var(--color-button, #1a73e8);border-radius:8px}.conversacion[_ngcontent-%COMP%]{max-height:300px;overflow-y:auto;padding:10px;background:var(--color-input-bg);border:1px solid var(--color-border);border-radius:10px;margin-top:10px}.mensaje[_ngcontent-%COMP%]{padding:8px 12px;margin-bottom:8px;border-radius:15px;max-width:80%;word-wrap:break-word}.mensaje.usuario[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;margin-left:auto;text-align:right}.mensaje.ia[_ngcontent-%COMP%]{background-color:#e0e0e0;color:#333;margin-right:auto;text-align:left}.mensaje.ia[_ngcontent-%COMP%]:after{content:"|";display:inline-block;margin-left:2px;animation:_ngcontent-%COMP%_blink-caret .75s step-end infinite}.conversacion[_ngcontent-%COMP%]   .mensaje.ia[_ngcontent-%COMP%]:not(:last-child):after{content:none}@keyframes _ngcontent-%COMP%_blink-caret{0%,to{opacity:0}50%{opacity:1}}.conversacion[_ngcontent-%COMP%]   .mensaje.ia[_ngcontent-%COMP%]{white-space:pre-wrap;word-wrap:break-word}.conversacion[_ngcontent-%COMP%]   .mensaje.ia[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{font-weight:700}']})};var ks={};(function i(t,e,n,r){var o=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),s=typeof Path2D=="function"&&typeof DOMMatrix=="function",a=function(){if(!t.OffscreenCanvas)return!1;var m=new OffscreenCanvas(1,1),p=m.getContext("2d");p.fillRect(0,0,1,1);var T=m.transferToImageBitmap();try{p.createPattern(T,"no-repeat")}catch{return!1}return!0}();function l(){}function c(m){var p=e.exports.Promise,T=p!==void 0?p:t.Promise;return typeof T=="function"?new T(m):(m(l,l),null)}var f=function(m,p){return{transform:function(T){if(m)return T;if(p.has(T))return p.get(T);var N=new OffscreenCanvas(T.width,T.height),I=N.getContext("2d");return I.drawImage(T,0,0),p.set(T,N),N},clear:function(){p.clear()}}}(a,new Map),v=function(){var m=Math.floor(16.666666666666668),p,T,N={},I=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(p=function(q){var K=Math.random();return N[K]=requestAnimationFrame(function D(z){I===z||I+m-1<z?(I=z,delete N[K],q()):N[K]=requestAnimationFrame(D)}),K},T=function(q){N[q]&&cancelAnimationFrame(N[q])}):(p=function(q){return setTimeout(q,m)},T=function(q){return clearTimeout(q)}),{frame:p,cancel:T}}(),S=function(){var m,p,T={};function N(I){function q(K,D){I.postMessage({options:K||{},callback:D})}I.init=function(D){var z=D.transferControlToOffscreen();I.postMessage({canvas:z},[z])},I.fire=function(D,z,G){if(p)return q(D,null),p;var se=Math.random().toString(36).slice(2);return p=c(function(re){function fe(ye){ye.data.callback===se&&(delete T[se],I.removeEventListener("message",fe),p=null,f.clear(),G(),re())}I.addEventListener("message",fe),q(D,se),T[se]=fe.bind(null,{data:{callback:se}})}),p},I.reset=function(){I.postMessage({reset:!0});for(var D in T)T[D](),delete T[D]}}return function(){if(m)return m;if(!n&&o){var I=["var CONFETTI, SIZE = {}, module = {};","("+i.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{m=new Worker(URL.createObjectURL(new Blob([I])))}catch(q){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("\u{1F38A} Could not load worker",q),null}N(m)}return m}}(),C={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function _(m,p){return p?p(m):m}function b(m){return m!=null}function x(m,p,T){return _(m&&b(m[p])?m[p]:C[p],T)}function B(m){return m<0?0:Math.floor(m)}function V(m,p){return Math.floor(Math.random()*(p-m))+m}function te(m){return parseInt(m,16)}function ie(m){return m.map(ve)}function ve(m){var p=String(m).replace(/[^0-9a-f]/gi,"");return p.length<6&&(p=p[0]+p[0]+p[1]+p[1]+p[2]+p[2]),{r:te(p.substring(0,2)),g:te(p.substring(2,4)),b:te(p.substring(4,6))}}function Ee(m){var p=x(m,"origin",Object);return p.x=x(p,"x",Number),p.y=x(p,"y",Number),p}function ge(m){m.width=document.documentElement.clientWidth,m.height=document.documentElement.clientHeight}function he(m){var p=m.getBoundingClientRect();m.width=p.width,m.height=p.height}function Ae(m){var p=document.createElement("canvas");return p.style.position="fixed",p.style.top="0px",p.style.left="0px",p.style.pointerEvents="none",p.style.zIndex=m,p}function Ct(m,p,T,N,I,q,K,D,z){m.save(),m.translate(p,T),m.rotate(q),m.scale(N,I),m.arc(0,0,1,K,D,z),m.restore()}function zi(m){var p=m.angle*(Math.PI/180),T=m.spread*(Math.PI/180);return{x:m.x,y:m.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:m.startVelocity*.5+Math.random()*m.startVelocity,angle2D:-p+(.5*T-Math.random()*T),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:m.color,shape:m.shape,tick:0,totalTicks:m.ticks,decay:m.decay,drift:m.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:m.gravity*3,ovalScalar:.6,scalar:m.scalar,flat:m.flat}}function ft(m,p){p.x+=Math.cos(p.angle2D)*p.velocity+p.drift,p.y+=Math.sin(p.angle2D)*p.velocity+p.gravity,p.velocity*=p.decay,p.flat?(p.wobble=0,p.wobbleX=p.x+10*p.scalar,p.wobbleY=p.y+10*p.scalar,p.tiltSin=0,p.tiltCos=0,p.random=1):(p.wobble+=p.wobbleSpeed,p.wobbleX=p.x+10*p.scalar*Math.cos(p.wobble),p.wobbleY=p.y+10*p.scalar*Math.sin(p.wobble),p.tiltAngle+=.1,p.tiltSin=Math.sin(p.tiltAngle),p.tiltCos=Math.cos(p.tiltAngle),p.random=Math.random()+2);var T=p.tick++/p.totalTicks,N=p.x+p.random*p.tiltCos,I=p.y+p.random*p.tiltSin,q=p.wobbleX+p.random*p.tiltCos,K=p.wobbleY+p.random*p.tiltSin;if(m.fillStyle="rgba("+p.color.r+", "+p.color.g+", "+p.color.b+", "+(1-T)+")",m.beginPath(),s&&p.shape.type==="path"&&typeof p.shape.path=="string"&&Array.isArray(p.shape.matrix))m.fill(k(p.shape.path,p.shape.matrix,p.x,p.y,Math.abs(q-N)*.1,Math.abs(K-I)*.1,Math.PI/10*p.wobble));else if(p.shape.type==="bitmap"){var D=Math.PI/10*p.wobble,z=Math.abs(q-N)*.1,G=Math.abs(K-I)*.1,se=p.shape.bitmap.width*p.scalar,re=p.shape.bitmap.height*p.scalar,fe=new DOMMatrix([Math.cos(D)*z,Math.sin(D)*z,-Math.sin(D)*G,Math.cos(D)*G,p.x,p.y]);fe.multiplySelf(new DOMMatrix(p.shape.matrix));var ye=m.createPattern(f.transform(p.shape.bitmap),"no-repeat");ye.setTransform(fe),m.globalAlpha=1-T,m.fillStyle=ye,m.fillRect(p.x-se/2,p.y-re/2,se,re),m.globalAlpha=1}else if(p.shape==="circle")m.ellipse?m.ellipse(p.x,p.y,Math.abs(q-N)*p.ovalScalar,Math.abs(K-I)*p.ovalScalar,Math.PI/10*p.wobble,0,2*Math.PI):Ct(m,p.x,p.y,Math.abs(q-N)*p.ovalScalar,Math.abs(K-I)*p.ovalScalar,Math.PI/10*p.wobble,0,2*Math.PI);else if(p.shape==="star")for(var ee=Math.PI/2*3,Pe=4*p.scalar,He=8*p.scalar,We=p.x,mt=p.y,Vt=5,tt=Math.PI/Vt;Vt--;)We=p.x+Math.cos(ee)*He,mt=p.y+Math.sin(ee)*He,m.lineTo(We,mt),ee+=tt,We=p.x+Math.cos(ee)*Pe,mt=p.y+Math.sin(ee)*Pe,m.lineTo(We,mt),ee+=tt;else m.moveTo(Math.floor(p.x),Math.floor(p.y)),m.lineTo(Math.floor(p.wobbleX),Math.floor(I)),m.lineTo(Math.floor(q),Math.floor(K)),m.lineTo(Math.floor(N),Math.floor(p.wobbleY));return m.closePath(),m.fill(),p.tick<p.totalTicks}function Un(m,p,T,N,I){var q=p.slice(),K=m.getContext("2d"),D,z,G=c(function(se){function re(){D=z=null,K.clearRect(0,0,N.width,N.height),f.clear(),I(),se()}function fe(){n&&!(N.width===r.width&&N.height===r.height)&&(N.width=m.width=r.width,N.height=m.height=r.height),!N.width&&!N.height&&(T(m),N.width=m.width,N.height=m.height),K.clearRect(0,0,N.width,N.height),q=q.filter(function(ye){return ft(K,ye)}),q.length?D=v.frame(fe):re()}D=v.frame(fe),z=re});return{addFettis:function(se){return q=q.concat(se),G},canvas:m,promise:G,reset:function(){D&&v.cancel(D),z&&z()}}}function zn(m,p){var T=!m,N=!!x(p||{},"resize"),I=!1,q=x(p,"disableForReducedMotion",Boolean),K=o&&!!x(p||{},"useWorker"),D=K?S():null,z=T?ge:he,G=m&&D?!!m.__confetti_initialized:!1,se=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,re;function fe(ee,Pe,He){for(var We=x(ee,"particleCount",B),mt=x(ee,"angle",Number),Vt=x(ee,"spread",Number),tt=x(ee,"startVelocity",Number),ed=x(ee,"decay",Number),td=x(ee,"gravity",Number),nd=x(ee,"drift",Number),ua=x(ee,"colors",ie),id=x(ee,"ticks",Number),da=x(ee,"shapes"),rd=x(ee,"scalar"),od=!!x(ee,"flat"),pa=Ee(ee),ha=We,go=[],sd=m.width*pa.x,ad=m.height*pa.y;ha--;)go.push(zi({x:sd,y:ad,angle:mt,spread:Vt,startVelocity:tt,color:ua[ha%ua.length],shape:da[V(0,da.length)],ticks:id,decay:ed,gravity:td,drift:nd,scalar:rd,flat:od}));return re?re.addFettis(go):(re=Un(m,go,z,Pe,He),re.promise)}function ye(ee){var Pe=q||x(ee,"disableForReducedMotion",Boolean),He=x(ee,"zIndex",Number);if(Pe&&se)return c(function(tt){tt()});T&&re?m=re.canvas:T&&!m&&(m=Ae(He),document.body.appendChild(m)),N&&!G&&z(m);var We={width:m.width,height:m.height};D&&!G&&D.init(m),G=!0,D&&(m.__confetti_initialized=!0);function mt(){if(D){var tt={getBoundingClientRect:function(){if(!T)return m.getBoundingClientRect()}};z(tt),D.postMessage({resize:{width:tt.width,height:tt.height}});return}We.width=We.height=null}function Vt(){re=null,N&&(I=!1,t.removeEventListener("resize",mt)),T&&m&&(document.body.contains(m)&&document.body.removeChild(m),m=null,G=!1)}return N&&!I&&(I=!0,t.addEventListener("resize",mt,!1)),D?D.fire(ee,We,Vt):fe(ee,We,Vt)}return ye.reset=function(){D&&D.reset(),re&&re.reset()},ye}var sn;function O(){return sn||(sn=zn(null,{useWorker:!0,resize:!0})),sn}function k(m,p,T,N,I,q,K){var D=new Path2D(m),z=new Path2D;z.addPath(D,new DOMMatrix(p));var G=new Path2D;return G.addPath(z,new DOMMatrix([Math.cos(K)*I,Math.sin(K)*I,-Math.sin(K)*q,Math.cos(K)*q,T,N])),G}function j(m){if(!s)throw new Error("path confetti are not supported in this browser");var p,T;typeof m=="string"?p=m:(p=m.path,T=m.matrix);var N=new Path2D(p),I=document.createElement("canvas"),q=I.getContext("2d");if(!T){for(var K=1e3,D=K,z=K,G=0,se=0,re,fe,ye=0;ye<K;ye+=2)for(var ee=0;ee<K;ee+=2)q.isPointInPath(N,ye,ee,"nonzero")&&(D=Math.min(D,ye),z=Math.min(z,ee),G=Math.max(G,ye),se=Math.max(se,ee));re=G-D,fe=se-z;var Pe=10,He=Math.min(Pe/re,Pe/fe);T=[He,0,0,He,-Math.round(re/2+D)*He,-Math.round(fe/2+z)*He]}return{type:"path",path:p,matrix:T}}function Z(m){var p,T=1,N="#000000",I='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof m=="string"?p=m:(p=m.text,T="scalar"in m?m.scalar:T,I="fontFamily"in m?m.fontFamily:I,N="color"in m?m.color:N);var q=10*T,K=""+q+"px "+I,D=new OffscreenCanvas(q,q),z=D.getContext("2d");z.font=K;var G=z.measureText(p),se=Math.ceil(G.actualBoundingBoxRight+G.actualBoundingBoxLeft),re=Math.ceil(G.actualBoundingBoxAscent+G.actualBoundingBoxDescent),fe=2,ye=G.actualBoundingBoxLeft+fe,ee=G.actualBoundingBoxAscent+fe;se+=fe+fe,re+=fe+fe,D=new OffscreenCanvas(se,re),z=D.getContext("2d"),z.font=K,z.fillStyle=N,z.fillText(p,ye,ee);var Pe=1/T;return{type:"bitmap",bitmap:D.transferToImageBitmap(),matrix:[Pe,0,0,Pe,-se*Pe/2,-re*Pe/2]}}e.exports=function(){return O().apply(this,arguments)},e.exports.reset=function(){O().reset()},e.exports.create=zn,e.exports.shapeFromPath=j,e.exports.shapeFromText=Z})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),ks,!1);var eu=ks.exports,Lv=ks.exports.create;var Rf=(i,t,e)=>({correcto:i,incorrecto:t,bloqueado:e});function kf(i,t){i&1&&(u(0,"div"),h(1,"\u2705"),d())}function Nf(i,t){i&1&&(u(0,"div"),h(1,"\u{1F512}"),d())}function Vf(i,t){if(i&1){let e=X();u(0,"div",5),A("click",function(){let r=w(e).$implicit,o=y();return M(o.jugarNivel(r))}),u(1,"span"),h(2),d(),W(3,kf,2,0,"div",6)(4,Nf,2,0,"div",6),d()}if(i&2){let e=t.$implicit,n=y();Le("desbloqueado",e<=n.nivelActual+1)("completado",e<=n.nivelActual),g(2),we("Nivel ",e,""),g(),E("ngIf",e<=n.nivelActual),g(),E("ngIf",e>n.nivelActual)}}function Ff(i,t){i&1&&(u(0,"span"),h(1,"\u2705"),d())}function jf(i,t){i&1&&(u(0,"span"),h(1,"\u274C"),d())}function Lf(i,t){if(i&1){let e=X();u(0,"li",15),A("click",function(){let r=w(e).index,o=y(3);return M(o.seleccionarOpcion(r))}),u(1,"span",16),h(2),d(),W(3,Ff,2,0,"span",6)(4,jf,2,0,"span",6),d()}if(i&2){let e=t.$implicit,n=t.index,r=y(3);E("ngClass",Za(4,Rf,r.esCorrecto(n),r.esIncorrecto(n),r.bloquearPregunta&&r.respuestaSeleccionada===null)),g(2),H(e),g(),E("ngIf",r.esCorrecto(n)),g(),E("ngIf",r.esIncorrecto(n))}}function Uf(i,t){if(i&1&&(u(0,"div",12)(1,"div",13),h(2),d(),u(3,"h3"),h(4),d(),u(5,"ul"),W(6,Lf,5,8,"li",14),d()()),i&2){let e=y(2);g(2),we(" \u23F1\uFE0F Tiempo: ",e.tiempoRestante," segundos "),g(2),H(e.preguntas[e.preguntaActual].pregunta),g(2),E("ngForOf",e.preguntas[e.preguntaActual]==null?null:e.preguntas[e.preguntaActual].opciones)}}function zf(i,t){if(i&1){let e=X();u(0,"img",22),A("dragstart",function(r){let o=w(e).$implicit,s=y(3);return M(s.dragStart(r,o.tipo))}),d()}if(i&2){let e=t.$implicit;E("src","assets/residuos/"+e.imagen,Hn)("alt",e.nombre)}}function $f(i,t){if(i&1){let e=X();u(0,"div",23),A("dragover",function(r){w(e);let o=y(3);return M(o.allowDrop(r))})("drop",function(r){let o=w(e).$implicit,s=y(3);return M(s.drop(r,o.tipo))}),pe(1,"img",24),d()}if(i&2){let e=t.$implicit;Mt("data-tipo",e.tipo),g(),E("src","assets/contenedores/"+e.imagen,Hn)("alt",e.tipo)}}function Bf(i,t){if(i&1&&(u(0,"div",17)(1,"div",13),h(2),d(),u(3,"h3"),h(4,"Arrastra cada residuo al contenedor correcto"),d(),u(5,"div",18),W(6,zf,1,2,"img",19),d(),u(7,"div",20),W(8,$f,2,3,"div",21),d()()),i&2){let e=y(2);g(2),we(" \u23F1\uFE0F Tiempo: ",e.tiempoRestante," segundos "),g(4),E("ngForOf",e.residuos),g(2),E("ngForOf",e.contenedores)}}function qf(i,t){if(i&1){let e=X();u(0,"div",7)(1,"div",8)(2,"h2"),h(3),d(),W(4,Uf,7,3,"div",9)(5,Bf,9,3,"div",10),u(6,"button",11),A("click",function(){w(e);let r=y();return M(r.cerrarModal())}),h(7,"Cancelar"),d()()()}if(i&2){let e=y();g(3),we("Nivel ",e.nivelSeleccionado,""),g(),E("ngIf",e.tipoJuego==="quiz"&&e.preguntas.length),g(),E("ngIf",e.tipoJuego==="arrastrar")}}function Hf(i,t){if(i&1){let e=X();u(0,"div",7)(1,"div",25)(2,"button",26),A("click",function(){w(e);let r=y();return M(r.mensajeVisible=!1)}),h(3,"\xD7"),d(),u(4,"p"),h(5),d()()()}if(i&2){let e=y();g(),E("ngClass",e.mensajeTipo),g(4),H(e.mensajeTexto)}}var Hr=class i{constructor(t,e,n){this.http=t;this.router=e;this.platformId=n}mensajeVisible=!1;mensajeTexto="";mensajeTipo="exito";respuestaIncorrecta=!1;todasCorrectas=!0;arrastreCorrecto=!0;usuario_id=0;nivelActual=0;puntaje=0;medallas="";niveles=[1,2,3,4,5,6,7,8,9,10];mostrarModal=!1;respuestaSeleccionada=null;tipoJuego="quiz";nivelSeleccionado=0;preguntaActual=0;puntajeJuego=0;preguntas=[];residuos=[];contenedores=[];draggedTipo="";timer;tiempoRestante=20;temporizadorActivo=!1;bloquearPregunta=!1;nivelesConfig={1:{tipo:"quiz",preguntas:[{pregunta:"\xBFQu\xE9 material es 100% reciclable?",opciones:["Pl\xE1stico","Vidrio","Org\xE1nico","Madera"],respuesta:0},{pregunta:"\xBFQu\xE9 color representa los residuos org\xE1nicos?",opciones:["Rojo","Verde","Negro","Amarillo"],respuesta:2},{pregunta:"\xBFQu\xE9 tipo de residuo va en el contenedor amarillo?",opciones:["Papel","Metal","Pl\xE1stico","Org\xE1nico"],respuesta:1}]},2:{tipo:"arrastrar",residuos:[{nombre:"Botella",tipo:"plastico",imagen:"botellas_plastico.png"},{nombre:"C\xE1scara de pl\xE1tano",tipo:"organico",imagen:"cascara.png"},{nombre:"Papel",tipo:"papel",imagen:"papel.png"},{nombre:"Vidrio roto",tipo:"vidrio",imagen:"botella.png"}],contenedores:[{tipo:"plastico",nombre:"Naranja",imagen:"naranja.png"},{tipo:"papel",nombre:"Azul",imagen:"azul.png"},{tipo:"vidrio",nombre:"Verde",imagen:"verde.png"},{tipo:"organico",nombre:"Plomo",imagen:"plomo.png"}]},3:{tipo:"quiz",preguntas:[{pregunta:"\xBFQu\xE9 producto es m\xE1s da\xF1ino para el ambiente?",opciones:["Bater\xEDa","C\xE1scara de pl\xE1tano","Vidrio","Cart\xF3n"],respuesta:0},{pregunta:"\xBFCu\xE1l es el s\xEDmbolo universal del reciclaje?",opciones:["\u267B\uFE0F","\u{1F5D1}\uFE0F","\u2668\uFE0F","\u2705"],respuesta:0}]},4:{tipo:"quiz",preguntas:[{pregunta:"\xBFQu\xE9 residuo tarda m\xE1s en degradarse?",opciones:["Papel","Vidrio","C\xE1scara de fruta","Cart\xF3n"],respuesta:1},{pregunta:"\xBFCu\xE1l es el principal beneficio del reciclaje?",opciones:["Aumentar la basura","Ahorrar recursos naturales","Gastar m\xE1s energ\xEDa","Generar m\xE1s residuos"],respuesta:1}]},5:{tipo:"arrastrar",residuos:[{nombre:"Plancha rota",tipo:"electrodomestico",imagen:"plancha.png"},{nombre:"Envase de yogur",tipo:"plastico",imagen:"envases_yogurt.png"},{nombre:"Caja de cart\xF3n",tipo:"papel",imagen:"caja.png"},{nombre:"Taza rota",tipo:"vidrio",imagen:"taza_rota.png"}],contenedores:[{tipo:"plastico",nombre:"Amarillo",imagen:"amarillo.png"},{tipo:"papel",nombre:"Azul",imagen:"azul.png"},{tipo:"vidrio",nombre:"Verde",imagen:"verde.png"},{tipo:"electrodomestico",nombre:"Rojo",imagen:"rojo.png"}]},6:{tipo:"quiz",preguntas:[{pregunta:"\xBFQu\xE9 tipo de residuos van en el contenedor azul?",opciones:["Pl\xE1stico","Vidrio","Papel","Org\xE1nico"],respuesta:2},{pregunta:"\xBFQu\xE9 debemos hacer antes de reciclar una botella pl\xE1stica?",opciones:["Romperla","Ensuciarla","Aplastarla y enjuagarla","Quemarla"],respuesta:2}]},7:{tipo:"quiz",preguntas:[{pregunta:"\xBFCu\xE1l de estos elementos se puede reutilizar f\xE1cilmente en casa?",opciones:["Aceite usado","Botella de vidrio","C\xE1scara de huevo","Cigarrillos"],respuesta:1},{pregunta:"\xBFQu\xE9 acci\xF3n ayuda m\xE1s al reciclaje desde casa?",opciones:["Tirar todo en una sola bolsa","Separar los residuos por tipo","Quemar la basura","Usar bolsas negras para todo"],respuesta:1}]},8:{tipo:"quiz",preguntas:[{pregunta:"\xBFQu\xE9 tipo de residuo representa un riesgo para la salud si no se maneja adecuadamente?",opciones:["Papel","Restos de comida","Pilas","Cart\xF3n"],respuesta:2},{pregunta:"\xBFQu\xE9 debe hacerse con los aparatos electr\xF3nicos en desuso?",opciones:["Tirarlos al tacho com\xFAn","Llevarlos a un punto limpio o especial","Regalarlos sin verificar su estado","Enterrarlos en el jard\xEDn"],respuesta:1},{pregunta:"\xBFCu\xE1l de estos h\xE1bitos reduce la generaci\xF3n de residuos?",opciones:["Comprar productos con mucho empaque","Usar bolsas reutilizables","Consumir productos desechables","Imprimir documentos innecesarios"],respuesta:1}]},9:{tipo:"quiz",preguntas:[{pregunta:"\xBFQu\xE9 acci\xF3n es mejor para cuidar el medio ambiente?",opciones:["Usar el auto para todo","Separar residuos en casa","Comprar productos desechables","Usar agua sin control"],respuesta:1},{pregunta:"\xBFCu\xE1l es una alternativa ecol\xF3gica al papel de aluminio?",opciones:["Pl\xE1stico film","Papel reciclado","Servilletas de papel","Tela encerada reutilizable"],respuesta:3},{pregunta:"\xBFQu\xE9 material contamina m\xE1s los mares?",opciones:["C\xE1scaras de frutas","Hojas secas","Botellas pl\xE1sticas","Cart\xF3n mojado"],respuesta:2}]},10:{tipo:"quiz",preguntas:[{pregunta:"\xBFQu\xE9 significa la econom\xEDa circular?",opciones:["Un modelo que busca reciclar y reutilizar continuamente","Un sistema donde todo se desecha r\xE1pidamente","Una forma de gastar m\xE1s recursos naturales","Una pol\xEDtica de comprar sin l\xEDmites"],respuesta:0},{pregunta:"\xBFQu\xE9 residuo puede usarse para hacer compost en casa?",opciones:["Pilas usadas","C\xE1scaras de fruta","Vidrio roto","Envases met\xE1licos"],respuesta:1}]}};iniciarTemporizador(){clearInterval(this.timer),this.tiempoRestante=20,this.temporizadorActivo=!0,this.bloquearPregunta=!1,this.timer=setInterval(()=>{this.tiempoRestante--,this.tiempoRestante<=0&&(clearInterval(this.timer),this.temporizadorActivo=!1,this.bloquearPregunta=!0,this.todasCorrectas=!1,setTimeout(()=>{this.preguntaActual++,this.respuestaSeleccionada=null,this.preguntaActual>=this.preguntas.length?this.finalizarQuiz():this.iniciarTemporizador()},800))},1e3)}ngOnInit(){if(Ie(this.platformId)){let t=sessionStorage.getItem("usuario_id");t?(this.usuario_id=Number(t),this.obtenerProgreso()):(this.mostrarMensaje("\u26A0\uFE0F No se encontr\xF3 sesi\xF3n de usuario","advertencia"),this.router.navigate(["/inicio"]))}}getApiUrl(){let t=window.location.hostname;return t==="localhost"||t==="127.0.0.1"?"http://localhost:3000/api/juego/guardar-puntaje":"https://comunidadvapps.com/api.php?accion=guardar-puntaje"}getProgresoUrl(){let t=window.location.hostname;return t==="localhost"||t==="127.0.0.1"?`http://localhost:3000/api/progreso/${this.usuario_id}`:`https://comunidadvapps.com/api.php?accion=progreso&id=${this.usuario_id}`}obtenerProgreso(){this.http.get(this.getProgresoUrl()).subscribe({next:t=>{this.nivelActual=t.nivel,this.puntaje=t.puntaje,this.medallas=t.medallas},error:t=>{this.mostrarMensaje("\u274C Error al cargar tu progreso","error")}})}mostrarMensaje(t,e="exito"){this.mensajeTexto=t,this.mensajeTipo=e,this.mensajeVisible=!0,setTimeout(()=>{this.mensajeVisible=!1},2e3)}jugarNivel(t){if(t>this.nivelActual+1){this.mostrarMensaje("\u26A0\uFE0F Debes completar los niveles anteriores primero","advertencia");return}let e=this.nivelesConfig[t];if(!e){this.mostrarMensaje("\u26A0\uFE0F Nivel no disponible a\xFAn","advertencia");return}this.nivelSeleccionado=t,this.tipoJuego=e.tipo,this.puntajeJuego=0,this.preguntaActual=0,this.todasCorrectas=!0,this.arrastreCorrecto=!0,this.respuestaSeleccionada=null,e.tipo==="quiz"?(this.preguntas=e.preguntas||[],this.iniciarTemporizador()):e.tipo==="arrastrar"&&(this.residuos=[...e.residuos||[]],this.contenedores=e.contenedores||[],this.iniciarTemporizador()),this.mostrarModal=!0}seleccionarOpcion(t){if(this.respuestaSeleccionada!==null||this.bloquearPregunta)return;clearInterval(this.timer),this.temporizadorActivo=!1,this.respuestaSeleccionada=t;let e=this.preguntas[this.preguntaActual].respuesta;t===e?this.puntajeJuego+=100:this.todasCorrectas=!1,setTimeout(()=>{this.preguntaActual++,this.respuestaSeleccionada=null,this.preguntaActual>=this.preguntas.length?this.finalizarQuiz():this.iniciarTemporizador()},1e3)}finalizarQuiz(){this.todasCorrectas&&this.puntajeJuego===this.preguntas.length*100?(this.mostrarMensaje("\u{1F389} \xA1Felicitaciones! Completaste el nivel correctamente \u{1F3AF}","exito"),this.guardarPuntaje()):(this.mostrarMensaje("\u274C Fallaste alguna pregunta o no respondiste a tiempo","error"),this.mostrarModal=!1,this.todasCorrectas=!0)}drop(t,e){t.preventDefault(),!(!this.draggedTipo||this.bloquearPregunta)&&(clearInterval(this.timer),this.temporizadorActivo=!1,this.draggedTipo===e?(this.puntajeJuego+=100,this.mostrarMensaje("\u2705 \xA1Correcto!","exito")):(this.arrastreCorrecto=!1,this.mostrarMensaje("\u274C Incorrecto","error")),this.residuos=this.residuos.filter(n=>n.tipo!==this.draggedTipo),this.draggedTipo="",this.residuos.length===0?this.finalizarArrastrar():this.iniciarTemporizador())}finalizarArrastrar(){this.arrastreCorrecto&&this.puntajeJuego>0?(this.mostrarMensaje("\u{1F389} \xA1Excelente! Completaste el nivel correctamente \u{1F3AF}","exito"),this.guardarPuntaje()):(this.mostrarMensaje("\u274C Fallaste al arrastrar alg\xFAn residuo. Intenta de nuevo","error"),this.mostrarModal=!1,this.arrastreCorrecto=!0)}dragStart(t,e){this.draggedTipo=e}allowDrop(t){t.preventDefault()}calcularMedallaPorNivel(t){return t>=9?"\u{1F947} Oro":t>=6?"\u{1F948} Plata":t>=3?"\u{1F949} Bronce":"Sin medalla"}guardarPuntaje(){let t=Math.max(this.nivelActual,this.nivelSeleccionado),e=this.calcularMedallaPorNivel(t),n=new URLSearchParams;n.set("usuario_id",this.usuario_id.toString()),n.set("puntaje",this.puntajeJuego.toString()),n.set("nivel",t.toString()),n.set("medallas",e),this.http.post(this.getApiUrl(),n.toString(),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).subscribe({next:r=>{this.mostrarModal=!1,this.dispararConfetti(),this.obtenerProgreso(),this.mostrarMensaje(r.mensaje||"\u2705 Progreso guardado","exito")},error:r=>{let o=r?.error?.mensaje||"\u274C Error inesperado al guardar";this.mostrarMensaje(o,"error")}})}dispararConfetti(){Ie(this.platformId)&&eu({particleCount:200,spread:90,origin:{y:.6}})}esCorrecto(t){return this.respuestaSeleccionada===t&&this.preguntas[this.preguntaActual].respuesta===t&&!this.bloquearPregunta}esIncorrecto(t){return this.respuestaSeleccionada===t&&this.preguntas[this.preguntaActual].respuesta!==t||this.bloquearPregunta}cerrarModal(){this.mostrarModal=!1,clearInterval(this.timer),this.temporizadorActivo=!1,this.bloquearPregunta=!0}static \u0275fac=function(e){return new(e||i)(F(mn),F(ke),F(Ce))};static \u0275cmp=De({type:i,selectors:[["app-juego"]],decls:13,vars:7,consts:[[1,"juegos-container"],[1,"medalla-info"],[1,"niveles-mapa"],["class","nivel",3,"desbloqueado","completado","click",4,"ngFor","ngForOf"],["class","modal-overlay",4,"ngIf"],[1,"nivel",3,"click"],[4,"ngIf"],[1,"modal-overlay"],[1,"modal-contenido"],["class","quiz",4,"ngIf"],["class","juego-arrastrar",4,"ngIf"],[3,"click"],[1,"quiz"],[1,"temporizador"],[3,"ngClass","click",4,"ngFor","ngForOf"],[3,"click","ngClass"],[1,"opcion-texto"],[1,"juego-arrastrar"],[1,"zona-residuos"],["class","residuo","draggable","true",3,"src","alt","dragstart",4,"ngFor","ngForOf"],[1,"zona-contenedores"],["class","contenedor",3,"dragover","drop",4,"ngFor","ngForOf"],["draggable","true",1,"residuo",3,"dragstart","src","alt"],[1,"contenedor",3,"dragover","drop"],[3,"src","alt"],[1,"modal-contenido",3,"ngClass"],[1,"cerrar",3,"click"]],template:function(e,n){e&1&&(u(0,"div",0)(1,"h2"),h(2,"\u{1F331} Mapa de Niveles - Juego EcoRecicla"),d(),u(3,"p"),h(4),d(),u(5,"div",1),h(6," \u{1F3C5} Medalla actual: "),u(7,"strong"),h(8),d()(),u(9,"div",2),W(10,Vf,5,7,"div",3),d(),W(11,qf,8,3,"div",4),d(),W(12,Hf,6,2,"div",4)),e&2&&(g(4),Ja("Puntaje actual: ",n.puntaje," | Nivel alcanzado: ",n.nivelActual," | Medallas: ",n.medallas,""),g(4),H(n.medallas),g(2),E("ngForOf",n.niveles),g(),E("ngIf",n.mostrarModal),g(),E("ngIf",n.mensajeVisible))},dependencies:[Ue,fn,At,st,gn],styles:['.juegos-container[_ngcontent-%COMP%]{max-width:900px;margin:auto;text-align:center;padding:1rem}.niveles-mapa[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap;gap:1rem;margin-top:2rem}.nivel[_ngcontent-%COMP%]{width:120px;height:120px;background-color:#e0e0e0;border-radius:15px;display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:not-allowed;transition:transform .3s,background .3s}.nivel.desbloqueado[_ngcontent-%COMP%]{background-color:#a5d6a7;cursor:pointer}.nivel.completado[_ngcontent-%COMP%]{background-color:#81c784}.nivel[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#000000a6;display:flex;justify-content:center;align-items:center;z-index:999;padding:1rem;overflow-y:auto;box-sizing:border-box}@media (max-width: 480px){.modal-content[_ngcontent-%COMP%]{padding:1rem;font-size:.95rem}}.modal-contenido[_ngcontent-%COMP%]{background:#fff;border-radius:12px;max-width:500px;width:100%;padding:1.5rem;box-shadow:0 0 20px #00000040;text-align:center;box-sizing:border-box}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:scale(.9)}to{opacity:1;transform:scale(1)}}button[_ngcontent-%COMP%]{margin-top:1rem;padding:.6rem 1.2rem;background-color:#aed581;border:none;border-radius:8px;font-weight:700;cursor:pointer}.cerrar[_ngcontent-%COMP%]{position:absolute;top:.5rem;right:1rem;background:none;border:none;font-size:2rem;color:#555;cursor:pointer}.quiz[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0}.quiz[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background:#f1f1f1;margin:.5rem 0;padding:.7rem;border-radius:8px;cursor:pointer;transition:background .2s}.quiz[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background:#dcedc8}.juego-arrastrar[_ngcontent-%COMP%]{text-align:center;padding:1rem}.zona-residuos[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap;gap:1rem;margin-bottom:1.5rem}.residuo[_ngcontent-%COMP%]{width:80px;height:80px;cursor:grab;border:2px dashed transparent;transition:transform .2s ease}.residuo[_ngcontent-%COMP%]:active{transform:scale(1.1)}.zona-contenedores[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap;gap:2rem}.contenedor[_ngcontent-%COMP%]{border:2px solid #ccc;padding:1rem;border-radius:12px;width:120px;text-align:center;transition:background .3s;background-color:#fafafa}.contenedor[_ngcontent-%COMP%]:hover{background-color:#e8f5e9}.contenedor[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:80px}@media screen and (max-width: 600px){.modal-contenido[_ngcontent-%COMP%]{padding:1rem}.nivel[_ngcontent-%COMP%]{width:100px;height:100px}.contenedor[_ngcontent-%COMP%], .residuo[_ngcontent-%COMP%]{width:70px!important;height:70px!important}.zona-contenedores[_ngcontent-%COMP%], .zona-residuos[_ngcontent-%COMP%]{gap:1rem}}.quiz[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style-type:none;position:relative;padding-right:2rem}.quiz[_ngcontent-%COMP%]   li.correcto[_ngcontent-%COMP%]:after{content:"\\2705";position:absolute;right:1rem;color:green;font-size:1.5rem}.quiz[_ngcontent-%COMP%]   li.incorrecto[_ngcontent-%COMP%]:after{content:"\\274c";position:absolute;right:1rem;color:red;font-size:1.5rem}.quiz[_ngcontent-%COMP%]{width:100%;padding:0;margin:0 auto;max-width:600px}.quiz[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style-type:none;position:relative;padding:1rem 2.5rem 1rem 1rem;font-size:1rem;line-height:1.5;word-wrap:break-word;box-sizing:border-box}.quiz[_ngcontent-%COMP%]   li.correcto[_ngcontent-%COMP%]:after{content:"\\2705";position:absolute;right:1rem;top:50%;transform:translateY(-50%);color:green;font-size:1.5rem}.quiz[_ngcontent-%COMP%]   li.incorrecto[_ngcontent-%COMP%]:after{content:"\\274c";position:absolute;right:1rem;top:50%;transform:translateY(-50%);color:red;font-size:1.5rem}.quiz[_ngcontent-%COMP%]   li.seleccionado[_ngcontent-%COMP%]{pointer-events:none;opacity:.7}@media (max-width: 600px){.quiz[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:.95rem;padding-right:2rem}.quiz[_ngcontent-%COMP%]   li.correcto[_ngcontent-%COMP%]:after, .quiz[_ngcontent-%COMP%]   li.incorrecto[_ngcontent-%COMP%]:after{font-size:1.2rem;right:.75rem}}.medalla-info[_ngcontent-%COMP%]{margin-top:1rem;font-size:1.2rem;text-align:center}.temporizador[_ngcontent-%COMP%]{font-weight:700;color:#c62828;margin-bottom:10px}']})};var Wr=class i{constructor(t){this.sanitizer=t}transform(t){return this.sanitizer.bypassSecurityTrustResourceUrl(t)}static \u0275fac=function(e){return new(e||i)(F(ti,16))};static \u0275pipe=Qa({name:"safeUrl",type:i,pure:!0})};function Wf(i,t){if(i&1&&(u(0,"h2"),h(1),d()),i&2){let e=y();g(),we(" \u{1F4F0} \xA1Hola ",e.usuarioLogueado.nombre||e.usuarioLogueado.correo,"!, estas son las noticias sobre Reciclaje ")}}function Gf(i,t){i&1&&(u(0,"h2"),h(1,"\u{1F4F0} Noticias sobre Reciclaje"),d())}function Kf(i,t){if(i&1){let e=X();u(0,"div",7)(1,"button",4),A("click",function(){w(e);let r=y();return M(r.mostrarNoticia("paijan"))}),h(2,"\u{1F4CD} Paij\xE1n"),d(),u(3,"button",4),A("click",function(){w(e);let r=y();return M(r.mostrarNoticia("trujillo"))}),h(4,"\u{1F3D9}\uFE0F Trujillo"),d()()}}var Gr=class i{constructor(t,e,n){this.platformId=t;this.authService=e;this.cdr=n;Ie(this.platformId)&&this.authService.usuario$.subscribe(r=>{this.usuarioLogueado=r,this.cdr.detectChanges()})}urlActual="https://elpais.com/noticias/reciclaje/";usuarioLogueado=null;mostrarLocales=!1;mostrarNoticia(t){if(t==="local"){this.mostrarLocales=!this.mostrarLocales;return}switch(this.mostrarLocales=!1,t){case"internacional":this.urlActual="https://elpais.com/noticias/reciclaje/";break;case"nacional":this.urlActual="https://inforegion.pe/reciclaje-en-peru-los-desafios-del-2025-y-las-claves-para-un-sistema-sostenible/";break;case"regional":this.urlActual="https://www.regionlalibertad.gob.pe/noticiaS/regionales/15234-el-gore-donara-y-sembrara-3000-mil-arboles-para-recuperar-las-areas-verdes-en-trujillo";break;case"paijan":this.urlActual="https://rpp.pe/peru/actualidad/la-libertad-iniciaran-plan-piloto-de-reciclaje-de-basura-en-paijan-noticia-390249";break;case"trujillo":this.urlActual="https://diariocorreo.pe/edicion/la-libertad/trujillo-87-recicladores-son-formalizados-por-segat-la-libertad-peru-noticia/";break}}static \u0275fac=function(e){return new(e||i)(F(Ce),F(kt),F(Bt))};static \u0275cmp=De({type:i,selectors:[["app-noticias"]],decls:16,vars:6,consts:[["sinUsuario",""],[1,"contenedor"],[4,"ngIf","ngIfElse"],[1,"botones"],[3,"click"],["class","sub-botones",4,"ngIf"],["frameborder","0","loading","lazy","allowfullscreen","",1,"visor",3,"src"],[1,"sub-botones"]],template:function(e,n){if(e&1){let r=X();u(0,"div",1),W(1,Wf,2,1,"h2",2)(2,Gf,2,0,"ng-template",null,0,pn),u(4,"div",3)(5,"button",4),A("click",function(){return w(r),M(n.mostrarNoticia("internacional"))}),h(6,"\u{1F30E} Internacional"),d(),u(7,"button",4),A("click",function(){return w(r),M(n.mostrarNoticia("nacional"))}),h(8,"\u{1F1F5}\u{1F1EA} Nacional"),d(),u(9,"button",4),A("click",function(){return w(r),M(n.mostrarNoticia("regional"))}),h(10,"\u{1F5FA}\uFE0F Regional"),d(),u(11,"button",4),A("click",function(){return w(r),M(n.mostrarNoticia("local"))}),h(12,"\u{1F3D8}\uFE0F Local"),d()(),W(13,Kf,5,0,"div",5),pe(14,"iframe",6),Xa(15,"safeUrl"),d()}if(e&2){let r=vt(3);g(),E("ngIf",n.usuarioLogueado)("ngIfElse",r),g(12),E("ngIf",n.mostrarLocales),g(),E("src",el(15,4,n.urlActual),qa)}},dependencies:[Ue,st,Wr],styles:[".contenedor[_ngcontent-%COMP%]{padding:1rem;text-align:center}.botones[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:12px;margin-bottom:1rem}button[_ngcontent-%COMP%]{margin:0 .5rem;padding:.5rem 1rem;background-color:#4caf50;color:#fff;border:none;border-radius:6px;cursor:pointer;transition:background-color .3s}.sub-botones[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:12px;margin-bottom:1rem}button[_ngcontent-%COMP%]{min-width:120px;margin:6px;padding:.6rem 1.2rem;background-color:#4caf50;color:#fff;border:none;border-radius:6px;cursor:pointer;transition:background-color .3s;font-size:1rem}button[_ngcontent-%COMP%]:hover{background-color:#388e3c}.sub-botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#81c784}.sub-botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#66bb6a}.visor[_ngcontent-%COMP%]{width:100%;height:80vh;border:1px solid #ccc;border-radius:10px}@media (max-width: 768px){button[_ngcontent-%COMP%]{width:100%;max-width:300px;font-size:1rem}.botones[_ngcontent-%COMP%], .sub-botones[_ngcontent-%COMP%]{flex-direction:column;align-items:center}}"]})};var Qf=i=>({show:i}),Yf=i=>({display:i,"background-color":"rgba(0, 0, 0, 0.5)"});function Jf(i,t){if(i&1&&(u(0,"li"),h(1),d()),i&2){let e=t.$implicit;g(),we(" \u2705 ",e," ")}}function Zf(i,t){if(i&1&&(u(0,"ul"),W(1,Jf,2,1,"li",32),d()),i&2){let e=y();g(),E("ngForOf",e.cursosDisponibles)}}function Xf(i,t){i&1&&(u(0,"p"),h(1,"\u274C A\xFAn no tienes puntos suficientes para canjear cursos."),d())}function em(i,t){if(i&1){let e=X();u(0,"div",35),A("click",function(){w(e);let r=y(2);return M(r.verUsuarios())}),h(1," Usuarios Registrados "),d()}if(i&2){let e=y(2);Le("active",e.mostrarTablaUsuarios)}}function tm(i,t){if(i&1){let e=X();u(0,"div",35),A("click",function(){w(e);let r=y(2);return M(r.listarCursos())}),h(1," Cursos con Certificaci\xF3n "),d()}if(i&2){let e=y(2);Le("active",e.mostrarTablaCursos)}}function nm(i,t){if(i&1&&(u(0,"div",33),W(1,em,2,2,"div",34)(2,tm,2,2,"div",34),d()),i&2){let e=y();g(),E("ngIf",e.puedeVerUsuarios()),g(),E("ngIf",e.puedeVerCursos())}}function im(i,t){if(i&1&&(u(0,"tr")(1,"td"),h(2),d(),u(3,"td"),h(4),d(),u(5,"td"),h(6),d(),u(7,"td"),h(8),d()()),i&2){let e=t.$implicit;g(2),H(e.id),g(2),H(e.nombre+" "+e.apellido),g(2),H(e.correo),g(2),H(e.tipo_usuario)}}function rm(i,t){if(i&1){let e=X();u(0,"div",36)(1,"div",37)(2,"input",38),ue("ngModelChange",function(r){w(e);let o=y();return ce(o.filtroNombre,r)||(o.filtroNombre=r),M(r)}),A("input",function(){w(e);let r=y();return M(r.filtrarUsuarios())}),d(),u(3,"select",39),ue("ngModelChange",function(r){w(e);let o=y();return ce(o.cantidadFilas,r)||(o.cantidadFilas=r),M(r)}),A("change",function(){w(e);let r=y();return M(r.filtrarUsuarios())}),u(4,"option",40),h(5,"10 filas"),d(),u(6,"option",40),h(7,"50 filas"),d(),u(8,"option",40),h(9,"100 filas"),d()()(),u(10,"div",41)(11,"table",42)(12,"thead")(13,"tr")(14,"th"),h(15,"ID"),d(),u(16,"th"),h(17,"Nombres y Apellidos"),d(),u(18,"th"),h(19,"Correo"),d(),u(20,"th"),h(21,"Tipo"),d()()(),u(22,"tbody"),W(23,im,9,4,"tr",32),d()()()()}if(i&2){let e=y();g(2),le("ngModel",e.filtroNombre),g(),le("ngModel",e.cantidadFilas),g(),E("value",10),g(2),E("value",50),g(2),E("value",100),g(15),E("ngForOf",e.usuariosFiltrados)}}function om(i,t){if(i&1){let e=X();u(0,"tr")(1,"td"),h(2),d(),u(3,"td"),h(4),d(),u(5,"td"),h(6),d(),u(7,"td"),h(8),d(),u(9,"td"),h(10),d(),u(11,"td"),h(12),d(),u(13,"td")(14,"button",43),A("click",function(){let r=w(e).$implicit,o=y(2);return M(o.canjearCurso(r))}),h(15,"\u{1F381} Canjear"),d()()()}if(i&2){let e=t.$implicit;g(2),H(e.nombre),g(2),H(e.duracion),g(2),H(e.horario),g(2),we("S/ ",e.precio,""),g(2),H(e.modalidad),g(2),H(e.extra)}}function sm(i,t){if(i&1&&(u(0,"div",36)(1,"div",41)(2,"table",42)(3,"thead")(4,"tr")(5,"th"),h(6,"Nombre"),d(),u(7,"th"),h(8,"Duraci\xF3n"),d(),u(9,"th"),h(10,"Horario"),d(),u(11,"th"),h(12,"Precio"),d(),u(13,"th"),h(14,"Modalidad"),d(),u(15,"th"),h(16,"Incluye"),d(),u(17,"th"),h(18,"Canjear"),d()()(),u(19,"tbody"),W(20,om,16,6,"tr",32),d()()()()),i&2){let e=y();g(20),E("ngForOf",e.cursosFiltrados)}}function am(i,t){if(i&1&&(u(0,"tr")(1,"td"),h(2),d(),u(3,"td"),h(4),d(),u(5,"td"),h(6),d(),u(7,"td"),h(8),d(),u(9,"td"),h(10),d(),u(11,"td"),h(12),d(),u(13,"td"),h(14),d(),u(15,"td"),h(16),d()()),i&2){let e=t.$implicit;g(2),H(e.id),g(2),H(e.nombre),g(2),H(e.duracion),g(2),H(e.horario),g(2),we("S/ ",e.precio,""),g(2),H(e.modalidad),g(2),H(e.extra),g(2),H(e.estado)}}function lm(i,t){if(i&1){let e=X();u(0,"div",36)(1,"div",37)(2,"input",44),ue("ngModelChange",function(r){w(e);let o=y();return ce(o.filtroNombre,r)||(o.filtroNombre=r),M(r)}),A("input",function(){w(e);let r=y();return M(r.filtrarCursos())}),d(),u(3,"select",39),ue("ngModelChange",function(r){w(e);let o=y();return ce(o.cantidadFilas,r)||(o.cantidadFilas=r),M(r)}),A("change",function(){w(e);let r=y();return M(r.filtrarCursos())}),u(4,"option",40),h(5,"10 filas"),d(),u(6,"option",40),h(7,"50 filas"),d(),u(8,"option",40),h(9,"100 filas"),d()(),u(10,"button",43),A("click",function(){w(e),y();let r=vt(53);return M(r.showModal())}),h(11,"\u2795 Nuevo Curso"),d()(),u(12,"div",41)(13,"table",42)(14,"thead")(15,"tr")(16,"th"),h(17,"ID"),d(),u(18,"th"),h(19,"Nombre"),d(),u(20,"th"),h(21,"Duraci\xF3n"),d(),u(22,"th"),h(23,"Horario"),d(),u(24,"th"),h(25,"Precio"),d(),u(26,"th"),h(27,"Modalidad"),d(),u(28,"th"),h(29,"Incluye"),d(),u(30,"th"),h(31,"Estado"),d()()(),u(32,"tbody"),W(33,am,17,8,"tr",32),d()()()()}if(i&2){let e=y();g(2),le("ngModel",e.filtroNombre),g(),le("ngModel",e.cantidadFilas),g(),E("value",10),g(2),E("value",50),g(2),E("value",100),g(25),E("ngForOf",e.cursosFiltrados)}}var Kr=class i{constructor(t,e){this.http=t;this.platformId=e}isBrowser=!1;apiUrl="";nombreUsuario="";apellidoUsuario="";correoUsuario="";edad="";tipoDocumento="";documento="";fechaRegistro="";tipoUsuario="";usuarios=[];usuariosFiltrados=[];filtroNombre="";cantidadFilas=10;cursosCertificados=[];cursosDisponibles=[];cursos=[];cursosFiltrados=[];nuevoCurso={nombre:"",duracion:"",horario:"",precio:null,modalidad:"",extra:"",estado:"activo"};puntaje=0;nivel=1;medallas="";mostrarTablaUsuarios=!1;mostrarTablaCursos=!1;mostrarCursos=!1;mensajeModal="";mostrarModal=!1;isLocalhost(){return typeof window<"u"&&window.location.hostname==="localhost"}mostrarMensaje(t){this.mensajeModal=t,this.mostrarModal=!0}cerrarModal(){this.mostrarModal=!1}ngOnInit(){if(this.isBrowser=Ie(this.platformId),!this.isBrowser)return;this.apiUrl=this.isLocalhost()?"http://localhost:3000/api":"https://comunidadvapps.com/api.php";let t=sessionStorage.getItem("usuario");if(!t)return;let e=JSON.parse(t),n=e.id;this.tipoUsuario=e.tipo_usuario||"estandar";let r=this.isLocalhost()?`${this.apiUrl}/perfil/${n}`:`${this.apiUrl}?accion=perfil&id=${n}`;this.http.get(r).subscribe({next:s=>{this.nombreUsuario=s.nombre??"",this.apellidoUsuario=s.apellido??"",this.correoUsuario=s.correo??"",this.tipoDocumento=s.tipo_documento??"",this.documento=s.documento??"",this.fechaRegistro=s.fecha_registro??"",this.tipoUsuario=s.tipo_usuario??"estandar",this.edad=this.calcularEdad(s.fecha_nacimiento),this.tipoUsuario==="estandar"&&this.listarCursos()},error:s=>{console.error("\u274C Error al cargar perfil:",s)}});let o=this.isLocalhost()?`${this.apiUrl}/progreso/${n}`:`${this.apiUrl}?accion=progreso&id=${n}`;this.http.get(o).subscribe({next:s=>{this.puntaje=s.puntaje??0,this.nivel=s.nivel??1,this.medallas=s.medallas??"",this.cargarCursos()},error:()=>{this.puntaje=0,this.nivel=1,this.medallas=""}})}calcularEdad(t){if(!t)return"";let e=new Date(t),n=new Date,r=n.getFullYear()-e.getFullYear(),o=n.getMonth()-e.getMonth(),s=n.getDate()-e.getDate();return s<0&&(o--,s+=new Date(n.getFullYear(),n.getMonth(),0).getDate()),o<0&&(r--,o+=12),`${r} a\xF1os, ${o} meses, ${s} d\xEDas`}cargarCursos(){this.cursosDisponibles=[],this.puntaje>=100&&this.cursosDisponibles.push("Curso b\xE1sico de reciclaje \u267B\uFE0F"),this.puntaje>=300&&this.cursosDisponibles.push("Curso de manejo de residuos s\xF3lidos \u{1F5D1}\uFE0F"),this.puntaje>=500&&this.cursosDisponibles.push("Certificaci\xF3n en Gesti\xF3n Ambiental \u{1F331}")}verUsuarios(){this.http.get(`${this.apiUrl}?accion=listar-usuarios`).subscribe({next:t=>{this.usuarios=t,this.filtrarUsuarios(),this.mostrarTablaUsuarios=!0,this.mostrarCursos=!1},error:t=>console.error("\u274C Error al listar usuarios:",t)})}listarCursos(){this.http.get(`${this.apiUrl}?accion=listar-cursos`).subscribe({next:t=>{this.cursos=t,this.filtrarCursos(),this.tipoUsuario!=="estandar"&&(this.mostrarTablaCursos=!0,this.mostrarTablaUsuarios=!1)},error:t=>console.error("\u274C Error al listar cursos:",t)})}registrarCurso(){this.http.post(`${this.apiUrl}?accion=registrar-curso`,this.nuevoCurso).subscribe({next:t=>{this.mostrarMensaje(t.mensaje||"\u2705 Curso registrado con \xE9xito"),this.listarCursos(),this.nuevoCurso={nombre:"",duracion:"",horario:"",precio:null,modalidad:"",extra:"",estado:"activo"}},error:t=>{let e=t.error?.error||"\u274C Error al registrar curso";this.mostrarMensaje(e)}})}canjearCurso(t){if(this.puntaje<100){this.mostrarMensaje("\u274C No tienes puntos suficientes para canjear este curso");return}this.mostrarMensaje(`\u{1F381} Has canjeado el curso: ${t.nombre}`),this.puntaje-=100,this.cargarCursos()}validarPrecio(){this.nuevoCurso.precio!==null&&this.nuevoCurso.precio<1&&(this.nuevoCurso.precio=null)}filtrarCursos(){let t=this.filtroNombre.trim().toLowerCase(),e=this.cursos;t&&(e=e.filter(n=>n.nombre.toLowerCase().includes(t))),this.cursosFiltrados=e.slice(0,this.cantidadFilas)}filtrarUsuarios(){let t=this.filtroNombre.trim().toLowerCase(),e=this.usuarios;t&&(e=e.filter(n=>n.nombre.toLowerCase().includes(t)||n.apellido.toLowerCase().includes(t))),this.usuariosFiltrados=e.slice(0,this.cantidadFilas)}esAdmin(){return this.tipoUsuario==="administrador"}esDocente(){return this.tipoUsuario==="docente"}puedeVerUsuarios(){return this.tipoUsuario==="administrador"}puedeVerCursos(){return this.tipoUsuario==="administrador"||this.tipoUsuario==="docente"}static \u0275fac=function(e){return new(e||i)(F(mn),F(Ce))};static \u0275cmp=De({type:i,selectors:[["app-perfil"]],decls:86,vars:31,consts:[["sinCursos",""],["modalCurso",""],[1,"perfil-contenedor"],[1,"datos-personales"],[1,"stats"],[2,"font-size","1.5rem"],[1,"cursos-canje"],[4,"ngIf","ngIfElse"],[1,"perfil-container"],["class","tabs",4,"ngIf"],["class","contenido",4,"ngIf"],[3,"submit"],["type","text","placeholder","Nombre del curso ","name","nombre","required","",3,"ngModelChange","ngModel"],["type","text","placeholder","Duraci\xF3n (Ej: 4 semanas)","name","duracion","required","",3,"ngModelChange","ngModel"],["type","text","placeholder","Horario (Ej: Lunes 7pm a 10pm)","name","horario","required","",3,"ngModelChange","ngModel"],["type","number","placeholder","Precio (Ej: 100.00)","name","precio","required","","min","1",3,"ngModelChange","input","ngModel"],["type","text","placeholder","Modalidad (Ej:Presencial o Virtual)","name","modalidad","required","",3,"ngModelChange","ngModel"],["type","text","placeholder","Incluye (Ej: certificado)","name","extra",3,"ngModelChange","ngModel"],["name","estado",3,"ngModelChange","ngModel"],["value","activo"],["value","inactivo"],["type","submit"],["type","button",3,"click"],["tabindex","-1",1,"modal",3,"ngClass","ngStyle"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],[4,"ngFor","ngForOf"],[1,"tabs"],["class","tab",3,"active","click",4,"ngIf"],[1,"tab",3,"click"],[1,"contenido"],[1,"filtros"],["type","text","placeholder","Buscar por nombre o apellido...",3,"ngModelChange","input","ngModel"],[3,"ngModelChange","change","ngModel"],[3,"value"],[1,"tabla-responsive"],[1,"tabla-usuarios"],[3,"click"],["type","text","placeholder","Buscar cursos...",3,"ngModelChange","input","ngModel"]],template:function(e,n){if(e&1){let r=X();u(0,"div",2)(1,"h2"),h(2),d(),u(3,"div",3)(4,"p"),h(5,"\u{1F382} Edad: "),u(6,"strong"),h(7),d()(),u(8,"p"),h(9,"\u{1FAAA} Tipo de documento: "),u(10,"strong"),h(11),d()(),u(12,"p"),h(13,"\u{1F522} Documento: "),u(14,"strong"),h(15),d()(),u(16,"p"),h(17,"\u{1F4C5} Fecha de registro: "),u(18,"strong"),h(19),d()(),u(20,"p"),h(21,"\u{1F511} Tipo de usuario: "),u(22,"strong"),h(23),d()(),u(24,"p"),h(25,"\u{1F4E7} Correo: "),u(26,"strong"),h(27),d()()(),u(28,"div",4)(29,"p"),h(30,"\u{1F3C6} Puntaje total: "),u(31,"strong"),h(32),d()(),u(33,"p"),h(34,"\u{1F3AF} Nivel actual: "),u(35,"strong"),h(36),d()(),u(37,"p"),h(38,"\u{1F947} Medallas obtenidas: "),u(39,"span",5),h(40),d()()(),u(41,"div",6)(42,"h3"),h(43,"\u{1F393} Cursos disponibles para canjear"),d(),W(44,Zf,2,1,"ul",7)(45,Xf,2,0,"ng-template",null,0,pn),d(),u(47,"div",8),W(48,nm,3,2,"div",9)(49,rm,24,6,"div",10)(50,sm,21,1,"div",10)(51,lm,34,6,"div",10),u(52,"dialog",null,1)(54,"h3"),h(55,"\u2795 Registrar Curso"),d(),u(56,"form",11),A("submit",function(s){w(r);let a=vt(53);return n.registrarCurso(),a.close(),M(s.preventDefault())}),u(57,"input",12),ue("ngModelChange",function(s){return w(r),ce(n.nuevoCurso.nombre,s)||(n.nuevoCurso.nombre=s),M(s)}),d(),u(58,"input",13),ue("ngModelChange",function(s){return w(r),ce(n.nuevoCurso.duracion,s)||(n.nuevoCurso.duracion=s),M(s)}),d(),u(59,"input",14),ue("ngModelChange",function(s){return w(r),ce(n.nuevoCurso.horario,s)||(n.nuevoCurso.horario=s),M(s)}),d(),u(60,"input",15),ue("ngModelChange",function(s){return w(r),ce(n.nuevoCurso.precio,s)||(n.nuevoCurso.precio=s),M(s)}),A("input",function(){return w(r),M(n.validarPrecio())}),d(),u(61,"input",16),ue("ngModelChange",function(s){return w(r),ce(n.nuevoCurso.modalidad,s)||(n.nuevoCurso.modalidad=s),M(s)}),d(),u(62,"input",17),ue("ngModelChange",function(s){return w(r),ce(n.nuevoCurso.extra,s)||(n.nuevoCurso.extra=s),M(s)}),d(),u(63,"select",18),ue("ngModelChange",function(s){return w(r),ce(n.nuevoCurso.estado,s)||(n.nuevoCurso.estado=s),M(s)}),u(64,"option",19),h(65,"Activo"),d(),u(66,"option",20),h(67,"Inactivo"),d()(),u(68,"div")(69,"button",21),h(70,"Guardar"),d(),u(71,"button",22),A("click",function(){w(r);let s=vt(53);return M(s.close())}),h(72,"Cancelar"),d()()()()(),u(73,"div",23)(74,"div",24)(75,"div",25)(76,"div",26)(77,"h5",27),h(78,"Mensaje"),d(),u(79,"button",28),A("click",function(){return w(r),M(n.cerrarModal())}),d()(),u(80,"div",29)(81,"p"),h(82),d()(),u(83,"div",30)(84,"button",31),A("click",function(){return w(r),M(n.cerrarModal())}),h(85,"Cerrar"),d()()()()()()}if(e&2){let r=vt(46);g(2),Ya("\u{1F464} Bienvenido, ",n.nombreUsuario," ",n.apellidoUsuario,""),g(5),H(n.edad),g(4),H(n.tipoDocumento),g(4),H(n.documento),g(4),H(n.fechaRegistro),g(4),H(n.tipoUsuario),g(4),H(n.correoUsuario),g(5),H(n.puntaje),g(4),H(n.nivel),g(4),H(n.medallas),g(4),E("ngIf",n.cursosDisponibles.length>0)("ngIfElse",r),g(4),E("ngIf",n.puedeVerCursos()||n.puedeVerUsuarios()),g(),E("ngIf",n.mostrarTablaUsuarios),g(),E("ngIf",n.tipoUsuario==="estandar"),g(),E("ngIf",n.mostrarTablaCursos&&(n.puedeVerCursos()||n.puedeVerUsuarios())),g(6),le("ngModel",n.nuevoCurso.nombre),g(),le("ngModel",n.nuevoCurso.duracion),g(),le("ngModel",n.nuevoCurso.horario),g(),le("ngModel",n.nuevoCurso.precio),g(),le("ngModel",n.nuevoCurso.modalidad),g(),le("ngModel",n.nuevoCurso.extra),g(),le("ngModel",n.nuevoCurso.estado),g(10),E("ngClass",Ro(27,Qf,n.mostrarModal))("ngStyle",Ro(29,Yf,n.mostrarModal?"block":"none")),g(9),H(n.mensajeModal)}},dependencies:[Ue,fn,At,st,cl,gn,kn,zr,$r,Br,Rt,As,Rn,In,Lr,Oi,Ts,Xt,Ti],styles:[".perfil-contenedor[_ngcontent-%COMP%]{max-width:720px;margin:3rem auto;padding:3rem;background-color:#f8fbf9;border-radius:24px;box-shadow:0 10px 30px #00000014;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;color:#212121;transition:all .3s ease}.perfil-contenedor[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.2rem;margin-bottom:1.8rem;text-align:center;color:#1b5e20;font-weight:700;letter-spacing:.5px}.stats[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem;margin-bottom:2.5rem;padding:1.6rem;background-color:#fff;border:1px solid #c8e6c9;border-radius:18px}.stats[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1.2rem;display:flex;justify-content:space-between;font-weight:500;color:#424242}.stats[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#2e7d32;font-weight:600}.cursos-canje[_ngcontent-%COMP%]{background-color:#e8f5e9;padding:2.2rem;border-radius:18px;border:1px solid #aed581;transition:background-color .3s}.cursos-canje[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.7rem;margin-bottom:1.4rem;color:#388e3c;font-weight:600;letter-spacing:.3px}.cursos-canje[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;padding:0;margin:0}.cursos-canje[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#fff;padding:1rem 1.4rem;margin-bottom:.8rem;border-radius:12px;border-left:6px solid #66bb6a;font-size:1.15rem;box-shadow:0 2px 8px #0000000f}.cursos-canje[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#f1f8e9}.cursos-canje[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-style:italic;color:#555;text-align:center}@media (max-width: 600px){.perfil-contenedor[_ngcontent-%COMP%]{padding:2rem 1rem;margin:1.5rem}.perfil-contenedor[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem}.stats[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.05rem;flex-direction:column;align-items:flex-start;gap:.4rem}.cursos-canje[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.4rem}.cursos-canje[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:1rem}}.perfil-container[_ngcontent-%COMP%]{max-width:900px;margin:auto;padding:2rem;background:#fff;border-radius:12px;box-shadow:0 4px 10px #0000001a}.tabs[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;border-bottom:2px solid #ccc;margin-bottom:1rem}.tab[_ngcontent-%COMP%]{padding:.75rem 1.5rem;margin-right:.5rem;cursor:pointer;font-weight:600;color:#555;border-bottom:3px solid transparent;transition:all .3s}.tab.active[_ngcontent-%COMP%]{color:#1976d2;border-color:#1976d2}.contenido[_ngcontent-%COMP%]{padding:1rem;background:#fff;border-radius:.5rem;box-shadow:0 2px 6px #0000001a}.tabla-responsive[_ngcontent-%COMP%]{overflow-x:auto}.tabla-usuarios[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:1rem}.tabla-usuarios[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .tabla-usuarios[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:.75rem;text-align:left}.tabla-usuarios[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f4f4f4;font-weight:700}.filtros[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;gap:1rem;margin-bottom:1rem}.filtros[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .filtros[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:.5rem;border:1px solid #ccc;border-radius:.25rem;min-width:150px}.lista-cursos[_ngcontent-%COMP%]{list-style:none;padding-left:1rem}.lista-cursos[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.5rem}@media (max-width: 600px){.tabs[_ngcontent-%COMP%]{flex-direction:column}.tab[_ngcontent-%COMP%]{margin-right:0;margin-bottom:.5rem}.filtros[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.filtros[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .filtros[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%}.perfil-container[_ngcontent-%COMP%]{padding:1rem}.titulo[_ngcontent-%COMP%]{font-size:20px}}dialog[_ngcontent-%COMP%]{border:none;border-radius:12px;padding:2rem;max-width:500px;width:90%;box-shadow:0 8px 20px #0003;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;background-color:#fff;margin:auto}dialog[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;margin-bottom:1.5rem;font-size:1.6rem;text-align:center;color:#2c3e50}dialog[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column}dialog[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], dialog[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:.7rem 1rem;margin-bottom:1rem;border:1px solid #ccc;border-radius:8px;font-size:1rem;box-sizing:border-box;transition:border-color .3s ease}dialog[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, dialog[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border-color:#4caf50;outline:none}dialog[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:1rem}dialog[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;padding:.7rem 1rem;font-size:1rem;border:none;border-radius:8px;cursor:pointer;transition:background-color .3s}dialog[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}dialog[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:hover{background-color:#45a049}dialog[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[type=button][_ngcontent-%COMP%]{background-color:#e74c3c;color:#fff}dialog[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[type=button][_ngcontent-%COMP%]:hover{background-color:#c0392b}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;overflow:auto;z-index:1050}.modal.show[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{transform:translateY(100px)}"]})};var tu=[{path:"",component:Ii},{path:"categorias",loadComponent:()=>import("./chunk-PVTONBPH.js").then(i=>i.CategoriasComponent)},{path:"inicio",component:Ii},{path:"nosotros",loadComponent:()=>import("./chunk-LPXFPDK5.js").then(i=>i.NosotrosComponent)},{path:"mapa",component:qr},{path:"juego",component:Hr},{path:"noticias",component:Gr},{path:"perfil",component:Kr},{path:"**",redirectTo:"",pathMatch:"full"}];function nu(i){return new R(3e3,!1)}function cm(){return new R(3100,!1)}function um(){return new R(3101,!1)}function dm(i){return new R(3001,!1)}function pm(i){return new R(3003,!1)}function hm(i){return new R(3004,!1)}function ru(i,t){return new R(3005,!1)}function ou(){return new R(3006,!1)}function su(){return new R(3007,!1)}function au(i,t){return new R(3008,!1)}function lu(i){return new R(3002,!1)}function cu(i,t,e,n,r){return new R(3010,!1)}function uu(){return new R(3011,!1)}function du(){return new R(3012,!1)}function pu(){return new R(3200,!1)}function hu(){return new R(3202,!1)}function fu(){return new R(3013,!1)}function mu(i){return new R(3014,!1)}function gu(i){return new R(3015,!1)}function vu(i){return new R(3016,!1)}function _u(i,t){return new R(3404,!1)}function fm(i){return new R(3502,!1)}function yu(i){return new R(3503,!1)}function Cu(){return new R(3300,!1)}function bu(i){return new R(3504,!1)}function Su(i){return new R(3301,!1)}function wu(i,t){return new R(3302,!1)}function Mu(i){return new R(3303,!1)}function Eu(i,t){return new R(3400,!1)}function xu(i){return new R(3401,!1)}function Au(i){return new R(3402,!1)}function Pu(i,t){return new R(3505,!1)}function yt(i){switch(i.length){case 0:return new Ht;case 1:return i[0];default:return new Yi(i)}}function js(i,t,e=new Map,n=new Map){let r=[],o=[],s=-1,a=null;if(t.forEach(l=>{let c=l.get("offset"),f=c==s,v=f&&a||new Map;l.forEach((S,C)=>{let _=C,b=S;if(C!=="offset")switch(_=i.normalizePropertyName(_,r),b){case Qn:b=e.get(C);break;case Je:b=n.get(C);break;default:b=i.normalizeStyleValue(C,_,b,r);break}v.set(_,b)}),f||o.push(v),a=v,s=c}),r.length)throw fm(r);return o}function Qr(i,t,e,n){switch(t){case"start":i.onStart(()=>n(e&&Ns(e,"start",i)));break;case"done":i.onDone(()=>n(e&&Ns(e,"done",i)));break;case"destroy":i.onDestroy(()=>n(e&&Ns(e,"destroy",i)));break}}function Ns(i,t,e){let n=e.totalTime,r=!!e.disabled,o=Yr(i.element,i.triggerName,i.fromState,i.toState,t||i.phaseName,n??i.totalTime,r),s=i._data;return s!=null&&(o._data=s),o}function Yr(i,t,e,n,r="",o=0,s){return{element:i,triggerName:t,fromState:e,toState:n,phaseName:r,totalTime:o,disabled:!!s}}function Ne(i,t,e){let n=i.get(t);return n||i.set(t,n=e),n}function Ls(i){let t=i.indexOf(":"),e=i.substring(1,t),n=i.slice(t+1);return[e,n]}var mm=typeof document>"u"?null:document.documentElement;function Jr(i){let t=i.parentNode||i.host||null;return t===mm?null:t}function gm(i){return i.substring(1,6)=="ebkit"}var tn=null,iu=!1;function Tu(i){tn||(tn=vm()||{},iu=tn.style?"WebkitAppearance"in tn.style:!1);let t=!0;return tn.style&&!gm(i)&&(t=i in tn.style,!t&&iu&&(t="Webkit"+i.charAt(0).toUpperCase()+i.slice(1)in tn.style)),t}function vm(){return typeof document<"u"?document.body:null}function Us(i,t){for(;t;){if(t===i)return!0;t=Jr(t)}return!1}function zs(i,t,e){if(e)return Array.from(i.querySelectorAll(t));let n=i.querySelector(t);return n?[n]:[]}var _m=1e3,$s="{{",ym="}}",Bs="ng-enter",Zr="ng-leave",ki="ng-trigger",Ni=".ng-trigger",qs="ng-animating",Xr=".ng-animating";function ht(i){if(typeof i=="number")return i;let t=i.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Vs(parseFloat(t[1]),t[2])}function Vs(i,t){switch(t){case"s":return i*_m;default:return i}}function Vi(i,t,e){return i.hasOwnProperty("duration")?i:Cm(i,t,e)}function Cm(i,t,e){let n=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,o=0,s="";if(typeof i=="string"){let a=i.match(n);if(a===null)return t.push(nu(i)),{duration:0,delay:0,easing:""};r=Vs(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(o=Vs(parseFloat(l),a[4]));let c=a[5];c&&(s=c)}else r=i;if(!e){let a=!1,l=t.length;r<0&&(t.push(cm()),a=!0),o<0&&(t.push(um()),a=!0),a&&t.splice(l,0,nu(i))}return{duration:r,delay:o,easing:s}}function Ou(i){return i.length?i[0]instanceof Map?i:i.map(t=>new Map(Object.entries(t))):[]}function Xe(i,t,e){t.forEach((n,r)=>{let o=eo(r);e&&!e.has(r)&&e.set(r,i.style[o]),i.style[o]=n})}function Nt(i,t){t.forEach((e,n)=>{let r=eo(n);i.style[r]=""})}function Vn(i){return Array.isArray(i)?i.length==1?i[0]:ml(i):i}function Du(i,t,e){let n=t.params||{},r=Hs(i);r.length&&r.forEach(o=>{n.hasOwnProperty(o)||e.push(dm(o))})}var Fs=new RegExp(`${$s}\\s*(.+?)\\s*${ym}`,"g");function Hs(i){let t=[];if(typeof i=="string"){let e;for(;e=Fs.exec(i);)t.push(e[1]);Fs.lastIndex=0}return t}function Fn(i,t,e){let n=`${i}`,r=n.replace(Fs,(o,s)=>{let a=t[s];return a==null&&(e.push(pm(s)),a=""),a.toString()});return r==n?i:r}var bm=/-+([a-z0-9])/g;function eo(i){return i.replace(bm,(...t)=>t[1].toUpperCase())}function Iu(i,t){return i===0||t===0}function Ru(i,t,e){if(e.size&&t.length){let n=t[0],r=[];if(e.forEach((o,s)=>{n.has(s)||r.push(s),n.set(s,o)}),r.length)for(let o=1;o<t.length;o++){let s=t[o];r.forEach(a=>s.set(a,to(i,a)))}}return t}function Ve(i,t,e){switch(t.type){case J.Trigger:return i.visitTrigger(t,e);case J.State:return i.visitState(t,e);case J.Transition:return i.visitTransition(t,e);case J.Sequence:return i.visitSequence(t,e);case J.Group:return i.visitGroup(t,e);case J.Animate:return i.visitAnimate(t,e);case J.Keyframes:return i.visitKeyframes(t,e);case J.Style:return i.visitStyle(t,e);case J.Reference:return i.visitReference(t,e);case J.AnimateChild:return i.visitAnimateChild(t,e);case J.AnimateRef:return i.visitAnimateRef(t,e);case J.Query:return i.visitQuery(t,e);case J.Stagger:return i.visitStagger(t,e);default:throw hm(t.type)}}function to(i,t){return window.getComputedStyle(i)[t]}var la=(()=>{class i{validateStyleProperty(e){return Tu(e)}containsElement(e,n){return Us(e,n)}getParentElement(e){return Jr(e)}query(e,n,r){return zs(e,n,r)}computeStyle(e,n,r){return r||""}animate(e,n,r,o,s,a=[],l){return new Ht(r,o)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=Y({token:i,factory:i.\u0275fac})}return i})(),rn=class{static NOOP=new la},on=class{};var Sm=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),so=class extends on{normalizePropertyName(t,e){return eo(t)}normalizeStyleValue(t,e,n,r){let o="",s=n.toString().trim();if(Sm.has(e)&&n!==0&&n!=="0")if(typeof n=="number")o="px";else{let a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&r.push(ru(t,n))}return s+o}};var ao="*";function wm(i,t){let e=[];return typeof i=="string"?i.split(/\s*,\s*/).forEach(n=>Mm(n,e,t)):e.push(i),e}function Mm(i,t,e){if(i[0]==":"){let l=Em(i,e);if(typeof l=="function"){t.push(l);return}i=l}let n=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(n==null||n.length<4)return e.push(gu(i)),t;let r=n[1],o=n[2],s=n[3];t.push(ku(r,s));let a=r==ao&&s==ao;o[0]=="<"&&!a&&t.push(ku(s,r))}function Em(i,t){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,n)=>parseFloat(n)>parseFloat(e);case":decrement":return(e,n)=>parseFloat(n)<parseFloat(e);default:return t.push(vu(i)),"* => *"}}var no=new Set(["true","1"]),io=new Set(["false","0"]);function ku(i,t){let e=no.has(i)||io.has(i),n=no.has(t)||io.has(t);return(r,o)=>{let s=i==ao||i==r,a=t==ao||t==o;return!s&&e&&typeof r=="boolean"&&(s=r?no.has(i):io.has(i)),!a&&n&&typeof o=="boolean"&&(a=o?no.has(t):io.has(t)),s&&a}}var qu=":self",xm=new RegExp(`s*${qu}s*,?`,"g");function Hu(i,t,e,n){return new Js(i).build(t,e,n)}var Nu="",Js=class{_driver;constructor(t){this._driver=t}build(t,e,n){let r=new Zs(e);return this._resetContextStyleTimingState(r),Ve(this,Vn(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector=Nu,t.collectedStyles=new Map,t.collectedStyles.set(Nu,new Map),t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0,o=[],s=[];return t.name.charAt(0)=="@"&&e.errors.push(ou()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),a.type==J.State){let l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(f=>{l.name=f,o.push(this.visitState(l,e))}),l.name=c}else if(a.type==J.Transition){let l=this.visitTransition(a,e);n+=l.queryCount,r+=l.depCount,s.push(l)}else e.errors.push(su())}),{type:J.Trigger,name:t.name,states:o,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){let n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){let o=new Set,s=r||{};n.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{Hs(l).forEach(c=>{s.hasOwnProperty(c)||o.add(c)})})}),o.size&&e.errors.push(au(t.name,[...o.values()]))}return{type:J.State,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;let n=Ve(this,Vn(t.animation),e),r=wm(t.expr,e.errors);return{type:J.Transition,matchers:r,animation:n,queryCount:e.queryCount,depCount:e.depCount,options:nn(t.options)}}visitSequence(t,e){return{type:J.Sequence,steps:t.steps.map(n=>Ve(this,n,e)),options:nn(t.options)}}visitGroup(t,e){let n=e.currentTime,r=0,o=t.steps.map(s=>{e.currentTime=n;let a=Ve(this,s,e);return r=Math.max(r,e.currentTime),a});return e.currentTime=r,{type:J.Group,steps:o,options:nn(t.options)}}visitAnimate(t,e){let n=Om(t.timings,e.errors);e.currentAnimateTimings=n;let r,o=t.styles?t.styles:No({});if(o.type==J.Keyframes)r=this.visitKeyframes(o,e);else{let s=t.styles,a=!1;if(!s){a=!0;let c={};n.easing&&(c.easing=n.easing),s=No(c)}e.currentTime+=n.duration+n.delay;let l=this.visitStyle(s,e);l.isEmptyStep=a,r=l}return e.currentAnimateTimings=null,{type:J.Animate,timings:n,style:r,options:null}}visitStyle(t,e){let n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){let n=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of r)typeof a=="string"?a===Je?n.push(a):e.errors.push(lu(a)):n.push(new Map(Object.entries(a)));let o=!1,s=null;return n.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let l of a.values())if(l.toString().indexOf($s)>=0){o=!0;break}}}),{type:J.Style,styles:n,easing:s,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){let n=e.currentAnimateTimings,r=e.currentTime,o=e.currentTime;n&&o>0&&(o-=n.duration+n.delay),t.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,l)=>{let c=e.collectedStyles.get(e.currentQuerySelector),f=c.get(l),v=!0;f&&(o!=r&&o>=f.startTime&&r<=f.endTime&&(e.errors.push(cu(l,f.startTime,f.endTime,o,r)),v=!1),o=f.startTime),v&&c.set(l,{startTime:o,endTime:r}),e.options&&Du(a,e.options,e.errors)})})}visitKeyframes(t,e){let n={type:J.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(uu()),n;let r=1,o=0,s=[],a=!1,l=!1,c=0,f=t.steps.map(B=>{let V=this._makeStyleAst(B,e),te=V.offset!=null?V.offset:Tm(V.styles),ie=0;return te!=null&&(o++,ie=V.offset=te),l=l||ie<0||ie>1,a=a||ie<c,c=ie,s.push(ie),V});l&&e.errors.push(du()),a&&e.errors.push(pu());let v=t.steps.length,S=0;o>0&&o<v?e.errors.push(hu()):o==0&&(S=r/(v-1));let C=v-1,_=e.currentTime,b=e.currentAnimateTimings,x=b.duration;return f.forEach((B,V)=>{let te=S>0?V==C?1:S*V:s[V],ie=te*x;e.currentTime=_+b.delay+ie,b.duration=ie,this._validateStyleAst(B,e),B.offset=te,n.styles.push(B)}),n}visitReference(t,e){return{type:J.Reference,animation:Ve(this,Vn(t.animation),e),options:nn(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:J.AnimateChild,options:nn(t.options)}}visitAnimateRef(t,e){return{type:J.AnimateRef,animation:this.visitReference(t.animation,e),options:nn(t.options)}}visitQuery(t,e){let n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;let[o,s]=Am(t.selector);e.currentQuerySelector=n.length?n+" "+o:o,Ne(e.collectedStyles,e.currentQuerySelector,new Map);let a=Ve(this,Vn(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:J.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:t.selector,options:nn(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(fu());let n=t.timings==="full"?{duration:0,delay:0,easing:"full"}:Vi(t.timings,e.errors,!0);return{type:J.Stagger,animation:Ve(this,Vn(t.animation),e),timings:n,options:null}}};function Am(i){let t=!!i.split(/\s*,\s*/).find(e=>e==qu);return t&&(i=i.replace(xm,"")),i=i.replace(/@\*/g,Ni).replace(/@\w+/g,e=>Ni+"-"+e.slice(1)).replace(/:animating/g,Xr),[i,t]}function Pm(i){return i?P({},i):null}var Zs=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(t){this.errors=t}};function Tm(i){if(typeof i=="string")return null;let t=null;if(Array.isArray(i))i.forEach(e=>{if(e instanceof Map&&e.has("offset")){let n=e;t=parseFloat(n.get("offset")),n.delete("offset")}});else if(i instanceof Map&&i.has("offset")){let e=i;t=parseFloat(e.get("offset")),e.delete("offset")}return t}function Om(i,t){if(i.hasOwnProperty("duration"))return i;if(typeof i=="number"){let o=Vi(i,t).duration;return Ws(o,0,"")}let e=i;if(e.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=Ws(0,0,"");return o.dynamic=!0,o.strValue=e,o}let r=Vi(e,t);return Ws(r.duration,r.delay,r.easing)}function nn(i){return i?(i=P({},i),i.params&&(i.params=Pm(i.params))):i={},i}function Ws(i,t,e){return{duration:i,delay:t,easing:e}}function ca(i,t,e,n,r,o,s=null,a=!1){return{type:1,element:i,keyframes:t,preStyleProps:e,postStyleProps:n,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}var ji=class{_map=new Map;get(t){return this._map.get(t)||[]}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}},Dm=1,Im=":enter",Rm=new RegExp(Im,"g"),km=":leave",Nm=new RegExp(km,"g");function Wu(i,t,e,n,r,o=new Map,s=new Map,a,l,c=[]){return new Xs().buildKeyframes(i,t,e,n,r,o,s,a,l,c)}var Xs=class{buildKeyframes(t,e,n,r,o,s,a,l,c,f=[]){c=c||new ji;let v=new ea(t,e,c,r,o,f,[]);v.options=l;let S=l.delay?ht(l.delay):0;v.currentTimeline.delayNextStep(S),v.currentTimeline.setStyles([s],null,v.errors,l),Ve(this,n,v);let C=v.timelines.filter(_=>_.containsAnimation());if(C.length&&a.size){let _;for(let b=C.length-1;b>=0;b--){let x=C[b];if(x.element===e){_=x;break}}_&&!_.allowOnlyTimelineStyles()&&_.setStyles([a],null,v.errors,l)}return C.length?C.map(_=>_.buildKeyframes()):[ca(e,[],[],[],0,S,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){let n=e.subInstructions.get(e.element);if(n){let r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){let n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,n),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,n){for(let r of t){let o=r?.delay;if(o){let s=typeof o=="number"?o:ht(Fn(o,r?.params??{},e.errors));n.delayNextStep(s)}}}_visitSubInstructions(t,e,n){let o=e.currentTimeline.currentTime,s=n.duration!=null?ht(n.duration):null,a=n.delay!=null?ht(n.delay):null;return s!==0&&t.forEach(l=>{let c=e.appendInstructionToTimeline(l,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),Ve(this,t.animation,e),e.previousNode=t}visitSequence(t,e){let n=e.subContextCount,r=e,o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),o.delay!=null)){r.previousNode.type==J.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=lo);let s=ht(o.delay);r.delayNextStep(s)}t.steps.length&&(t.steps.forEach(s=>Ve(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){let n=[],r=e.currentTimeline.currentTime,o=t.options&&t.options.delay?ht(t.options.delay):0;t.steps.forEach(s=>{let a=e.createSubContext(t.options);o&&a.delayNextStep(o),Ve(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),n.push(a.currentTimeline)}),n.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){let n=t.strValue,r=e.params?Fn(n,e.params,e.errors):n;return Vi(r,e.errors)}else return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){let n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());let o=t.style;o.type==J.Keyframes?this.visitKeyframes(o,e):(e.incrementTime(n.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){let n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.hasCurrentStyleProperties()&&n.forwardFrame();let o=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(o):n.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){let n=e.currentAnimateTimings,r=e.currentTimeline.duration,o=n.duration,a=e.createSubContext().currentTimeline;a.easing=n.easing,t.styles.forEach(l=>{let c=l.offset||0;a.forwardTime(c*o),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){let n=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?ht(r.delay):0;o&&(e.previousNode.type===J.Style||n==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=lo);let s=n,a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((c,f)=>{e.currentQueryIndex=f;let v=e.createSubContext(t.options,c);o&&v.delayNextStep(o),c===e.element&&(l=v.currentTimeline),Ve(this,t.animation,v),v.currentTimeline.applyStylesToKeyframe();let S=v.currentTimeline.currentTime;s=Math.max(s,S)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){let n=e.parentContext,r=e.currentTimeline,o=t.timings,s=Math.abs(o.duration),a=s*(e.currentQueryTotal-1),l=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=n.currentStaggerTime;break}let f=e.currentTimeline;l&&f.delayNextStep(l);let v=f.currentTime;Ve(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-v+(r.startTime-n.currentTimeline.startTime)}},lo={},ea=class i{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=lo;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(t,e,n,r,o,s,a,l){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.currentTimeline=l||new co(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;let n=t,r=this.options;n.duration!=null&&(r.duration=ht(n.duration)),n.delay!=null&&(r.delay=ht(n.delay));let o=n.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!e||!s.hasOwnProperty(a))&&(s[a]=Fn(o[a],s,this.errors))})}}_copyOptions(){let t={};if(this.options){let e=this.options.params;if(e){let n=t.params={};Object.keys(e).forEach(r=>{n[r]=e[r]})}}return t}createSubContext(t=null,e,n){let r=e||this.element,o=new i(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=lo,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){let r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(n??0)+t.delay,easing:""},o=new ta(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,o,s){let a=[];if(r&&a.push(this.element),t.length>0){t=t.replace(Rm,"."+this._enterClassName),t=t.replace(Nm,"."+this._leaveClassName);let l=n!=1,c=this._driver.query(this.element,t,l);n!==0&&(c=n<0?c.slice(c.length+n,c.length):c.slice(0,n)),a.push(...c)}return!o&&a.length==0&&s.push(mu(e)),a}},co=class i{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new i(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=Dm,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,n]of this._globalTimelineStyles)this._backFill.set(e,n||Je),this._currentKeyframe.set(e,Je);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&this._previousKeyframe.set("easing",e);let o=r&&r.params||{},s=Vm(t,this._globalTimelineStyles);for(let[a,l]of s){let c=Fn(l,o,n);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Je),this._updateStyle(a,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,n)=>{let r=this._styleSummary.get(n);(!r||e.time>r.time)&&this._updateStyle(n,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let t=new Set,e=new Set,n=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((a,l)=>{let c=new Map([...this._backFill,...a]);c.forEach((f,v)=>{f===Qn?t.add(v):f===Je&&e.add(v)}),n||c.set("offset",l/this.duration),r.push(c)});let o=[...t.values()],s=[...e.values()];if(n){let a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return ca(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}},ta=class extends co{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(t,e,n,r,o,s,a=!1){super(t,e,s.delay),this.keyframes=n,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){let o=[],s=n+e,a=e/s,l=new Map(t[0]);l.set("offset",0),o.push(l);let c=new Map(t[0]);c.set("offset",Vu(a)),o.push(c);let f=t.length-1;for(let v=1;v<=f;v++){let S=new Map(t[v]),C=S.get("offset"),_=e+C*n;S.set("offset",Vu(_/s)),o.push(S)}n=s,e=0,r="",t=o}return ca(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}};function Vu(i,t=3){let e=Math.pow(10,t-1);return Math.round(i*e)/e}function Vm(i,t){let e=new Map,n;return i.forEach(r=>{if(r==="*"){n??=t.keys();for(let o of n)e.set(o,Je)}else for(let[o,s]of r)e.set(o,s)}),e}function Fu(i,t,e,n,r,o,s,a,l,c,f,v,S){return{type:0,element:i,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:n,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:f,totalTime:v,errors:S}}var Gs={},uo=class{_triggerName;ast;_stateStyles;constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return Fm(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){let r=this._stateStyles.get("*");return t!==void 0&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,n):new Map}build(t,e,n,r,o,s,a,l,c,f){let v=[],S=this.ast.options&&this.ast.options.params||Gs,C=a&&a.params||Gs,_=this.buildStyles(n,C,v),b=l&&l.params||Gs,x=this.buildStyles(r,b,v),B=new Set,V=new Map,te=new Map,ie=r==="void",ve={params:Gu(b,S),delay:this.ast.options?.delay},Ee=f?[]:Wu(t,e,this.ast.animation,o,s,_,x,ve,c,v),ge=0;return Ee.forEach(he=>{ge=Math.max(he.duration+he.delay,ge)}),v.length?Fu(e,this._triggerName,n,r,ie,_,x,[],[],V,te,ge,v):(Ee.forEach(he=>{let Ae=he.element,Ct=Ne(V,Ae,new Set);he.preStyleProps.forEach(ft=>Ct.add(ft));let zi=Ne(te,Ae,new Set);he.postStyleProps.forEach(ft=>zi.add(ft)),Ae!==e&&B.add(Ae)}),Fu(e,this._triggerName,n,r,ie,_,x,Ee,[...B.values()],V,te,ge))}};function Fm(i,t,e,n,r){return i.some(o=>o(t,e,n,r))}function Gu(i,t){let e=P({},t);return Object.entries(i).forEach(([n,r])=>{r!=null&&(e[n]=r)}),e}var na=class{styles;defaultParams;normalizer;constructor(t,e,n){this.styles=t,this.defaultParams=e,this.normalizer=n}buildStyles(t,e){let n=new Map,r=Gu(t,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=Fn(s,r,e));let l=this.normalizer.normalizePropertyName(a,e);s=this.normalizer.normalizeStyleValue(a,l,s,e),n.set(a,s)})}),n}};function jm(i,t,e){return new ia(i,t,e)}var ia=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(t,e,n){this.name=t,this.ast=e,this._normalizer=n,e.states.forEach(r=>{let o=r.options&&r.options.params||{};this.states.set(r.name,new na(r.style,o,n))}),ju(this.states,"true","1"),ju(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new uo(t,r,this.states))}),this.fallbackTransition=Lm(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(s=>s.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}};function Lm(i,t,e){let n=[(s,a)=>!0],r={type:J.Sequence,steps:[],options:null},o={type:J.Transition,animation:r,matchers:n,options:null,queryCount:0,depCount:0};return new uo(i,o,t)}function ju(i,t,e){i.has(t)?i.has(e)||i.set(e,i.get(t)):i.has(e)&&i.set(t,i.get(e))}var Um=new ji,ra=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n}register(t,e){let n=[],r=[],o=Hu(this._driver,e,n,r);if(n.length)throw yu(n);this._animations.set(t,o)}_buildPlayer(t,e,n){let r=t.element,o=js(this._normalizer,t.keyframes,e,n);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){let r=[],o=this._animations.get(t),s,a=new Map;if(o?(s=Wu(this._driver,e,o,Bs,Zr,new Map,new Map,n,Um,r),s.forEach(f=>{let v=Ne(a,f.element,new Map);f.postStyleProps.forEach(S=>v.set(S,null))})):(r.push(Cu()),s=[]),r.length)throw bu(r);a.forEach((f,v)=>{f.forEach((S,C)=>{f.set(C,this._driver.computeStyle(v,C,Je))})});let l=s.map(f=>{let v=a.get(f.element);return this._buildPlayer(f,new Map,v)}),c=yt(l);return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){let e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);let n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){let e=this._playersById.get(t);if(!e)throw Su(t);return e}listen(t,e,n,r){let o=Yr(e,"","","");return Qr(this._getPlayer(t),n,o,r),()=>{}}command(t,e,n,r){if(n=="register"){this.register(t,r[0]);return}if(n=="create"){let s=r[0]||{};this.create(t,e,s);return}let o=this._getPlayer(t);switch(n){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t);break}}},Lu="ng-animate-queued",zm=".ng-animate-queued",Ks="ng-animate-disabled",$m=".ng-animate-disabled",Bm="ng-star-inserted",qm=".ng-star-inserted",Hm=[],Ku={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Wm={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},et="__ng_removed",Li=class{namespaceId;value;options;get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;let n=t&&t.hasOwnProperty("value"),r=n?t.value:t;if(this.value=Km(r),n){let o=t,{value:s}=o,a=fa(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){let e=t.params;if(e){let n=this.options.params;Object.keys(e).forEach(r=>{n[r]==null&&(n[r]=e[r])})}}},Fi="void",Qs=new Li(Fi),oa=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this._hostClassName="ng-tns-"+t,qe(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.has(e))throw wu(n,e);if(n==null||n.length==0)throw Mu(e);if(!Qm(n))throw Eu(n,e);let o=Ne(this._elementListeners,t,[]),s={name:e,phase:n,callback:r};o.push(s);let a=Ne(this._engine.statesByElement,t,new Map);return a.has(e)||(qe(t,ki),qe(t,ki+"-"+e),a.set(e,Qs)),()=>{this._engine.afterFlush(()=>{let l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(e)||a.delete(e)})}}register(t,e){return this._triggers.has(t)?!1:(this._triggers.set(t,e),!0)}_getTrigger(t){let e=this._triggers.get(t);if(!e)throw xu(t);return e}trigger(t,e,n,r=!0){let o=this._getTrigger(e),s=new Ui(this.id,e,t),a=this._engine.statesByElement.get(t);a||(qe(t,ki),qe(t,ki+"-"+e),this._engine.statesByElement.set(t,a=new Map));let l=a.get(e),c=new Li(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(e,c),l||(l=Qs),!(c.value===Fi)&&l.value===c.value){if(!Zm(l.params,c.params)){let b=[],x=o.matchStyles(l.value,l.params,b),B=o.matchStyles(c.value,c.params,b);b.length?this._engine.reportError(b):this._engine.afterFlush(()=>{Nt(t,x),Xe(t,B)})}return}let S=Ne(this._engine.playersByElement,t,[]);S.forEach(b=>{b.namespaceId==this.id&&b.triggerName==e&&b.queued&&b.destroy()});let C=o.matchTransition(l.value,c.value,t,c.params),_=!1;if(!C){if(!r)return;C=o.fallbackTransition,_=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:C,fromState:l,toState:c,player:s,isFallbackTransition:_}),_||(qe(t,Lu),s.onStart(()=>{jn(t,Lu)})),s.onDone(()=>{let b=this.players.indexOf(s);b>=0&&this.players.splice(b,1);let x=this._engine.playersByElement.get(t);if(x){let B=x.indexOf(s);B>=0&&x.splice(B,1)}}),this.players.push(s),S.push(s),s}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);let e=this._engine.playersByElement.get(t);e&&(e.forEach(n=>n.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){let n=this._engine.driver.query(t,Ni,!0);n.forEach(r=>{if(r[et])return;let o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,n,r){let o=this._engine.statesByElement.get(t),s=new Map;if(o){let a=[];if(o.forEach((l,c)=>{if(s.set(c,l.value),this._triggers.has(c)){let f=this.trigger(t,c,Fi,r);f&&a.push(f)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,s),n&&yt(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){let e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){let r=new Set;e.forEach(o=>{let s=o.name;if(r.has(s))return;r.add(s);let l=this._triggers.get(s).fallbackTransition,c=n.get(s)||Qs,f=new Li(Fi),v=new Ui(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:l,fromState:c,toState:f,player:v,isFallbackTransition:!0})})}}removeNode(t,e){let n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){let o=n.players.length?n.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let s=t;for(;s=s.parentNode;)if(n.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{let o=t[et];(!o||o===Ku)&&(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){qe(t,this._hostClassName)}drainQueuedTransitions(t){let e=[];return this._queue.forEach(n=>{let r=n.player;if(r.destroyed)return;let o=n.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==n.triggerName){let l=Yr(o,n.triggerName,n.fromState.value,n.toState.value);l._data=t,Qr(n.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((n,r)=>{let o=n.transition.ast.depCount,s=r.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(n.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}},sa=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(t,e)=>{};_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n}get queuedPlayers(){let t=[];return this._namespaceList.forEach(e=>{e.players.forEach(n=>{n.queued&&t.push(n)})}),t}createNamespace(t,e){let n=new oa(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){let n=this._namespaceList,r=this.namespacesByHostElement;if(n.length-1>=0){let s=!1,a=this.driver.getParentElement(e);for(;a;){let l=r.get(a);if(l){let c=n.indexOf(l);n.splice(c+1,0,t),s=!0;break}a=this.driver.getParentElement(a)}s||n.unshift(t)}else n.push(t);return r.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let n=this._fetchNamespace(t);this.namespacesByHostElement.delete(n.hostElement);let r=this._namespaceList.indexOf(n);r>=0&&this._namespaceList.splice(r,1),n.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){let e=new Set,n=this.statesByElement.get(t);if(n){for(let r of n.values())if(r.namespaceId){let o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}}return e}trigger(t,e,n,r){if(ro(e)){let o=this._fetchNamespace(t);if(o)return o.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!ro(e))return;let o=e[et];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){let s=this._fetchNamespace(t);s&&s.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),qe(t,Ks)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),jn(t,Ks))}removeNode(t,e,n){if(ro(e)){let r=t?this._fetchNamespace(t):null;r?r.removeNode(e,n):this.markElementAsRemoved(t,e,!1,n);let o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,n)}else this._onRemovalComplete(e,n)}markElementAsRemoved(t,e,n,r,o){this.collectedLeaveElements.push(e),e[et]={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,n,r,o){return ro(e)?this._fetchNamespace(t).listen(e,n,r,o):()=>{}}_buildInstruction(t,e,n,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,Ni,!0);e.forEach(n=>this.destroyActiveAnimationsForElement(n)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(t,Xr,!0),e.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(t){let e=this.playersByElement.get(t);e&&e.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(t){let e=this.playersByQueriedElement.get(t);e&&e.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return yt(this.players).onDone(()=>t());t()})}processLeaveNode(t){let e=t[et];if(e&&e.setForRemoval){if(t[et]=Ku,e.namespaceId){this.destroyInnerAnimations(t);let n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(Ks)&&this.markElementAsDisabled(t,!1),this.driver.query(t,$m,!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,r)=>this._balanceNamespaceList(n,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++){let r=this.collectedEnterElements[n];qe(r,Bm)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let n=[];try{e=this._flushAnimations(n,t)}finally{for(let r=0;r<n.length;r++)n[r]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++){let r=this.collectedLeaveElements[n];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){let n=this._whenQuietFns;this._whenQuietFns=[],e.length?yt(e).onDone(()=>{n.forEach(r=>r())}):n.forEach(r=>r())}}reportError(t){throw Au(t)}_flushAnimations(t,e){let n=new ji,r=[],o=new Map,s=[],a=new Map,l=new Map,c=new Map,f=new Set;this.disabledNodes.forEach(O=>{f.add(O);let k=this.driver.query(O,zm,!0);for(let j=0;j<k.length;j++)f.add(k[j])});let v=this.bodyNode,S=Array.from(this.statesByElement.keys()),C=$u(S,this.collectedEnterElements),_=new Map,b=0;C.forEach((O,k)=>{let j=Bs+b++;_.set(k,j),O.forEach(Z=>qe(Z,j))});let x=[],B=new Set,V=new Set;for(let O=0;O<this.collectedLeaveElements.length;O++){let k=this.collectedLeaveElements[O],j=k[et];j&&j.setForRemoval&&(x.push(k),B.add(k),j.hasAnimation?this.driver.query(k,qm,!0).forEach(Z=>B.add(Z)):V.add(k))}let te=new Map,ie=$u(S,Array.from(B));ie.forEach((O,k)=>{let j=Zr+b++;te.set(k,j),O.forEach(Z=>qe(Z,j))}),t.push(()=>{C.forEach((O,k)=>{let j=_.get(k);O.forEach(Z=>jn(Z,j))}),ie.forEach((O,k)=>{let j=te.get(k);O.forEach(Z=>jn(Z,j))}),x.forEach(O=>{this.processLeaveNode(O)})});let ve=[],Ee=[];for(let O=this._namespaceList.length-1;O>=0;O--)this._namespaceList[O].drainQueuedTransitions(e).forEach(j=>{let Z=j.player,m=j.element;if(ve.push(Z),this.collectedEnterElements.length){let D=m[et];if(D&&D.setForMove){if(D.previousTriggersValues&&D.previousTriggersValues.has(j.triggerName)){let z=D.previousTriggersValues.get(j.triggerName),G=this.statesByElement.get(j.element);if(G&&G.has(j.triggerName)){let se=G.get(j.triggerName);se.value=z,G.set(j.triggerName,se)}}Z.destroy();return}}let p=!v||!this.driver.containsElement(v,m),T=te.get(m),N=_.get(m),I=this._buildInstruction(j,n,N,T,p);if(I.errors&&I.errors.length){Ee.push(I);return}if(p){Z.onStart(()=>Nt(m,I.fromStyles)),Z.onDestroy(()=>Xe(m,I.toStyles)),r.push(Z);return}if(j.isFallbackTransition){Z.onStart(()=>Nt(m,I.fromStyles)),Z.onDestroy(()=>Xe(m,I.toStyles)),r.push(Z);return}let q=[];I.timelines.forEach(D=>{D.stretchStartingKeyframe=!0,this.disabledNodes.has(D.element)||q.push(D)}),I.timelines=q,n.append(m,I.timelines);let K={instruction:I,player:Z,element:m};s.push(K),I.queriedElements.forEach(D=>Ne(a,D,[]).push(Z)),I.preStyleProps.forEach((D,z)=>{if(D.size){let G=l.get(z);G||l.set(z,G=new Set),D.forEach((se,re)=>G.add(re))}}),I.postStyleProps.forEach((D,z)=>{let G=c.get(z);G||c.set(z,G=new Set),D.forEach((se,re)=>G.add(re))})});if(Ee.length){let O=[];Ee.forEach(k=>{O.push(Pu(k.triggerName,k.errors))}),ve.forEach(k=>k.destroy()),this.reportError(O)}let ge=new Map,he=new Map;s.forEach(O=>{let k=O.element;n.has(k)&&(he.set(k,k),this._beforeAnimationBuild(O.player.namespaceId,O.instruction,ge))}),r.forEach(O=>{let k=O.element;this._getPreviousPlayers(k,!1,O.namespaceId,O.triggerName,null).forEach(Z=>{Ne(ge,k,[]).push(Z),Z.destroy()})});let Ae=x.filter(O=>Bu(O,l,c)),Ct=new Map;zu(Ct,this.driver,V,c,Je).forEach(O=>{Bu(O,l,c)&&Ae.push(O)});let ft=new Map;C.forEach((O,k)=>{zu(ft,this.driver,new Set(O),l,Qn)}),Ae.forEach(O=>{let k=Ct.get(O),j=ft.get(O);Ct.set(O,new Map([...k?.entries()??[],...j?.entries()??[]]))});let Un=[],zn=[],sn={};s.forEach(O=>{let{element:k,player:j,instruction:Z}=O;if(n.has(k)){if(f.has(k)){j.onDestroy(()=>Xe(k,Z.toStyles)),j.disabled=!0,j.overrideTotalTime(Z.totalTime),r.push(j);return}let m=sn;if(he.size>1){let T=k,N=[];for(;T=T.parentNode;){let I=he.get(T);if(I){m=I;break}N.push(T)}N.forEach(I=>he.set(I,m))}let p=this._buildAnimation(j.namespaceId,Z,ge,o,ft,Ct);if(j.setRealPlayer(p),m===sn)Un.push(j);else{let T=this.playersByElement.get(m);T&&T.length&&(j.parentPlayer=yt(T)),r.push(j)}}else Nt(k,Z.fromStyles),j.onDestroy(()=>Xe(k,Z.toStyles)),zn.push(j),f.has(k)&&r.push(j)}),zn.forEach(O=>{let k=o.get(O.element);if(k&&k.length){let j=yt(k);O.setRealPlayer(j)}}),r.forEach(O=>{O.parentPlayer?O.syncPlayerEvents(O.parentPlayer):O.destroy()});for(let O=0;O<x.length;O++){let k=x[O],j=k[et];if(jn(k,Zr),j&&j.hasAnimation)continue;let Z=[];if(a.size){let p=a.get(k);p&&p.length&&Z.push(...p);let T=this.driver.query(k,Xr,!0);for(let N=0;N<T.length;N++){let I=a.get(T[N]);I&&I.length&&Z.push(...I)}}let m=Z.filter(p=>!p.destroyed);m.length?Ym(this,k,m):this.processLeaveNode(k)}return x.length=0,Un.forEach(O=>{this.players.push(O),O.onDone(()=>{O.destroy();let k=this.players.indexOf(O);this.players.splice(k,1)}),O.play()}),Un}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,o){let s=[];if(e){let a=this.playersByQueriedElement.get(t);a&&(s=a)}else{let a=this.playersByElement.get(t);if(a){let l=!o||o==Fi;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||s.push(c)})}}return(n||r)&&(s=s.filter(a=>!(n&&n!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(t,e,n){let r=e.triggerName,o=e.element,s=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:r;for(let l of e.timelines){let c=l.element,f=c!==o,v=Ne(n,c,[]);this._getPreviousPlayers(c,f,s,a,e.toState).forEach(C=>{let _=C.getRealPlayer();_.beforeDestroy&&_.beforeDestroy(),C.destroy(),v.push(C)})}Nt(o,e.fromStyles)}_buildAnimation(t,e,n,r,o,s){let a=e.triggerName,l=e.element,c=[],f=new Set,v=new Set,S=e.timelines.map(_=>{let b=_.element;f.add(b);let x=b[et];if(x&&x.removedBeforeQueried)return new Ht(_.duration,_.delay);let B=b!==l,V=Jm((n.get(b)||Hm).map(ge=>ge.getRealPlayer())).filter(ge=>{let he=ge;return he.element?he.element===b:!1}),te=o.get(b),ie=s.get(b),ve=js(this._normalizer,_.keyframes,te,ie),Ee=this._buildPlayer(_,ve,V);if(_.subTimeline&&r&&v.add(b),B){let ge=new Ui(t,a,b);ge.setRealPlayer(Ee),c.push(ge)}return Ee});c.forEach(_=>{Ne(this.playersByQueriedElement,_.element,[]).push(_),_.onDone(()=>Gm(this.playersByQueriedElement,_.element,_))}),f.forEach(_=>qe(_,qs));let C=yt(S);return C.onDestroy(()=>{f.forEach(_=>jn(_,qs)),Xe(l,e.toStyles)}),v.forEach(_=>{Ne(r,_,[]).push(C)}),C}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Ht(t.duration,t.delay)}},Ui=class{namespaceId;triggerName;element;_player=new Ht;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,n)=>{e.forEach(r=>Qr(t,n,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){let e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Ne(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){let e=this._player;e.triggerCallback&&e.triggerCallback(t)}};function Gm(i,t,e){let n=i.get(t);if(n){if(n.length){let r=n.indexOf(e);n.splice(r,1)}n.length==0&&i.delete(t)}return n}function Km(i){return i??null}function ro(i){return i&&i.nodeType===1}function Qm(i){return i=="start"||i=="done"}function Uu(i,t){let e=i.style.display;return i.style.display=t??"none",e}function zu(i,t,e,n,r){let o=[];e.forEach(l=>o.push(Uu(l)));let s=[];n.forEach((l,c)=>{let f=new Map;l.forEach(v=>{let S=t.computeStyle(c,v,r);f.set(v,S),(!S||S.length==0)&&(c[et]=Wm,s.push(c))}),i.set(c,f)});let a=0;return e.forEach(l=>Uu(l,o[a++])),s}function $u(i,t){let e=new Map;if(i.forEach(a=>e.set(a,[])),t.length==0)return e;let n=1,r=new Set(t),o=new Map;function s(a){if(!a)return n;let l=o.get(a);if(l)return l;let c=a.parentNode;return e.has(c)?l=c:r.has(c)?l=n:l=s(c),o.set(a,l),l}return t.forEach(a=>{let l=s(a);l!==n&&e.get(l).push(a)}),e}function qe(i,t){i.classList?.add(t)}function jn(i,t){i.classList?.remove(t)}function Ym(i,t,e){yt(e).onDone(()=>i.processLeaveNode(t))}function Jm(i){let t=[];return Qu(i,t),t}function Qu(i,t){for(let e=0;e<i.length;e++){let n=i[e];n instanceof Yi?Qu(n.players,t):t.push(n)}}function Zm(i,t){let e=Object.keys(i),n=Object.keys(t);if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++){let o=e[r];if(!t.hasOwnProperty(o)||i[o]!==t[o])return!1}return!0}function Bu(i,t,e){let n=e.get(i);if(!n)return!1;let r=t.get(i);return r?n.forEach(o=>r.add(o)):t.set(i,n),e.delete(i),!0}var Ln=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(t,e)=>{};constructor(t,e,n){this._driver=e,this._normalizer=n,this._transitionEngine=new sa(t.body,e,n),this._timelineEngine=new ra(t.body,e,n),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,n,r,o){let s=t+"-"+r,a=this._triggerCache[s];if(!a){let l=[],c=[],f=Hu(this._driver,o,l,c);if(l.length)throw _u(r,l);a=jm(r,f,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(e,r,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n){this._transitionEngine.removeNode(t,e,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if(n.charAt(0)=="@"){let[o,s]=Ls(n),a=r;this._timelineEngine.command(o,e,s,a)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,o){if(n.charAt(0)=="@"){let[s,a]=Ls(n);return this._timelineEngine.listen(s,e,a,o)}return this._transitionEngine.listen(t,e,n,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}};function Xm(i,t){let e=null,n=null;return Array.isArray(t)&&t.length?(e=Ys(t[0]),t.length>1&&(n=Ys(t[t.length-1]))):t instanceof Map&&(e=Ys(t)),e||n?new eg(i,e,n):null}var eg=(()=>{class i{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r;let o=i.initialStylesByElement.get(e);o||i.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Xe(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Xe(this._element,this._initialStyles),this._endStyles&&(Xe(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(i.initialStylesByElement.delete(this._element),this._startStyles&&(Nt(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Nt(this._element,this._endStyles),this._endStyles=null),Xe(this._element,this._initialStyles),this._state=3)}}return i})();function Ys(i){let t=null;return i.forEach((e,n)=>{tg(n)&&(t=t||new Map,t.set(n,e))}),t}function tg(i){return i==="display"||i==="position"}var po=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;let e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){let e=[];return t.forEach(n=>{e.push(Object.fromEntries(n))}),e}_triggerWebAnimation(t,e,n){return t.animate(this._convertKeyframesToObject(e),n)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,r)=>{r!=="offset"&&t.set(r,this._finished?n:to(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){let e=t==="start"?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}},ho=class{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}containsElement(t,e){return Us(t,e)}getParentElement(t){return Jr(t)}query(t,e,n){return zs(t,e,n)}computeStyle(t,e,n){return to(t,e)}animate(t,e,n,r,o,s=[]){let a=r==0?"both":"forwards",l={duration:n,delay:r,fill:a};o&&(l.easing=o);let c=new Map,f=s.filter(C=>C instanceof po);Iu(n,r)&&f.forEach(C=>{C.currentSnapshot.forEach((_,b)=>c.set(b,_))});let v=Ou(e).map(C=>new Map(C));v=Ru(t,v,c);let S=Xm(t,v);return new po(t,v,l,S)}};var oo="@",Yu="@.disabled",fo=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(t,e,n,r){this.namespaceId=t,this.delegate=e,this.engine=n,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.parentNode(e)&&this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==oo&&e==Yu?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n,r){return this.delegate.listen(t,e,n,r)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}},aa=class extends fo{factory;constructor(t,e,n,r,o){super(e,n,r,o),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==oo?e.charAt(1)=="."&&e==Yu?(n=n===void 0?!0:!!n,this.disableAnimations(t,n)):this.engine.process(this.namespaceId,t,e.slice(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n,r){if(e.charAt(0)==oo){let o=ng(t),s=e.slice(1),a="";return s.charAt(0)!=oo&&([s,a]=ig(s)),this.engine.listen(this.namespaceId,o,s,a,l=>{let c=l._data||-1;this.factory.scheduleListenerCallback(c,n,l)})}return this.delegate.listen(t,e,n,r)}};function ng(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}function ig(i){let t=i.indexOf("."),e=i.substring(0,t),n=i.slice(t+1);return[e,n]}var mo=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,e.onRemovalComplete=(r,o)=>{o?.removeChild(null,r)}}createRenderer(t,e){let n="",r=this.delegate.createRenderer(t,e);if(!t||!e?.data?.animation){let c=this._rendererCache,f=c.get(r);if(!f){let v=()=>c.delete(r);f=new fo(n,r,this.engine,v),c.set(r,f)}return f}let o=e.id,s=e.id+"-"+this._currentId;this._currentId++,this.engine.register(s,t);let a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(o,s,t,c.name,c)};return e.data.animation.forEach(a),new aa(this,s,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){if(t>=0&&t<this._microtaskId){this._zone.run(()=>e(n));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),r.push([e,n])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(t){this.engine.flush(),this.delegate.componentReplaced?.(t)}};var og=(()=>{class i extends Ln{constructor(e,n,r){super(e,n,r)}ngOnDestroy(){this.flush()}static \u0275fac=function(n){return new(n||i)(Q(Me),Q(rn),Q(on))};static \u0275prov=Y({token:i,factory:i.\u0275fac})}return i})();function sg(){return new so}function ag(i,t,e){return new mo(i,t,e)}var Ju=[{provide:on,useFactory:sg},{provide:Ln,useClass:og},{provide:Hi,useFactory:ag,deps:[Xn,Ln,Fe]}],V_=[{provide:rn,useClass:la},{provide:Ao,useValue:"NoopAnimations"},...Ju],lg=[{provide:rn,useFactory:()=>new ho},{provide:Ao,useFactory:()=>"BrowserAnimations"},...Ju];function Zu(){return qi("NgEagerAnimations"),[...lg]}var Xu={providers:[vs(tu),fl(),Zu()]};$o(Nn,Xu).catch(i=>console.error(i));
